export const senarioMocks = {
    "libraryApplication": {
        "selectedStructureOption": {
            "thoughts": "도메인 복잡도와 프로세스(value stream) 기반으로 분리를 요청하였으므로, 도서 관리(등록/폐기/상태), 대출/반납/연장, 예약 및 알림, 이력 관리로 분리하는 것이 가장 자연스럽습니다. 이벤트 흐름과 액터 책임, 그리고 각 프로세스의 복잡도와 비즈니스 차별성을 고려하였습니다. 예약 및 알림은 PBC(reservation-notification)로 제공되므로 Generic Domain으로 분리하였고, 나머지는 Core/Supporting Domain으로 분류하였습니다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되며, 이력 관리 등은 Supporting Domain으로 분리하여 복잡도와 책임을 분산하였습니다.",
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "importance": "Core Domain",
                    "complexity": 0.7,
                    "differentiation": 0.9,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "events": [
                        "BookRegistered",
                        "BookDiscarded",
                        "BookStatusChanged"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        1,
                                        1
                                    ],
                                    [
                                        1,
                                        29
                                    ]
                                ]
                            ],
                            "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ],
                            "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        1
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        24,
                                        4
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        84,
                                        4
                                    ],
                                    [
                                        96,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        177
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        3,
                                        238
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        150
                                    ],
                                    [
                                        7,
                                        159
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        286
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.",
                    "roleRefs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                3,
                                304
                            ]
                        ]
                    ],
                    "commandInfos": [
                        {
                            "name": "RegisterBook",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "DiscardBook",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ChangeBookStatus",
                            "refs": [
                                [
                                    [
                                        3,
                                        191
                                    ],
                                    [
                                        3,
                                        241
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        214
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        150
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        206
                                    ]
                                ]
                            ]
                        }
                    ],
                    "readModelInfos": [
                        {
                            "name": "BookList",
                            "refs": [
                                [
                                    [
                                        3,
                                        31
                                    ],
                                    [
                                        3,
                                        48
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookDetail",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "CategoryList",
                            "refs": [
                                [
                                    [
                                        3,
                                        136
                                    ],
                                    [
                                        3,
                                        163
                                    ]
                                ]
                            ]
                        }
                    ]
                },
                {
                    "name": "LoanProcessing",
                    "alias": "대출/반납 처리",
                    "importance": "Core Domain",
                    "complexity": 0.8,
                    "differentiation": 0.85,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Member",
                            "alias": "회원"
                        }
                    ],
                    "events": [
                        "BookLoaned",
                        "BookLoanExtended",
                        "BookReturned"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ]
                            ],
                            "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        12,
                                        1
                                    ],
                                    [
                                        22,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        115,
                                        1
                                    ],
                                    [
                                        128,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        23
                                    ],
                                    [
                                        5,
                                        203
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        110
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        58
                                    ],
                                    [
                                        7,
                                        59
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        175
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.",
                    "roleRefs": [
                        [
                            [
                                5,
                                2
                            ],
                            [
                                7,
                                169
                            ]
                        ]
                    ],
                    "commandInfos": [
                        {
                            "name": "LoanBook",
                            "refs": [
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        126
                                    ],
                                    [
                                        5,
                                        152
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ReserveBook",
                            "refs": [
                                [
                                    [
                                        5,
                                        171
                                    ],
                                    [
                                        5,
                                        188
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ReturnBook",
                            "refs": [
                                [
                                    [
                                        5,
                                        28
                                    ],
                                    [
                                        5,
                                        40
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ExtendLoan",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        }
                    ],
                    "readModelInfos": [
                        {
                            "name": "LoanStatusList",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        89
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookSearch",
                            "refs": [
                                [
                                    [
                                        5,
                                        96
                                    ],
                                    [
                                        5,
                                        117
                                    ]
                                ]
                            ]
                        }
                    ]
                },
                {
                    "name": "reservation-notification",
                    "alias": "예약 & 알림 서비스",
                    "importance": "Generic Domain",
                    "complexity": 0.5,
                    "differentiation": 0.2,
                    "implementationStrategy": "PBC: reservation-notification",
                    "aggregates": [
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "events": [
                        "BookReserved"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        187
                                    ]
                                ]
                            ],
                            "text": "예약 신청"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        175
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ],
                            "text": "예약자가 있는 도서가 반납되면, 해당 도서는 '예약중"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        65,
                                        4
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ]
                            ],
                            "text": "예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 기록\",\n    \"도서 상태 '예약중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        191\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        191
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서 예약 신청 및 예약 알림 기능을 제공하며, 예약 상태 변경 시 알림을 담당한다.",
                    "roleRefs": [
                        [
                            [
                                5,
                                183
                            ],
                            [
                                7,
                                184
                            ]
                        ]
                    ],
                    "commandInfos": [],
                    "readModelInfos": []
                },
                {
                    "name": "HistoryTracking",
                    "alias": "이력 관리",
                    "importance": "Supporting Domain",
                    "complexity": 0.6,
                    "differentiation": 0.5,
                    "implementationStrategy": "Transaction Script",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "StatusHistory",
                            "alias": "상태 변경 이력"
                        }
                    ],
                    "events": [
                        "BookLoanHistoryRecorded",
                        "BookStatusHistoryRecorded"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        12
                                    ]
                                ]
                            ],
                            "text": "대출 이력"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        12
                                    ],
                                    [
                                        9,
                                        15
                                    ]
                                ]
                            ],
                            "text": "력과 상"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        84,
                                        4
                                    ],
                                    [
                                        96,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        98,
                                        4
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        53
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        60
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.",
                    "roleRefs": [
                        [
                            [
                                9,
                                8
                            ],
                            [
                                9,
                                73
                            ]
                        ]
                    ],
                    "commandInfos": [],
                    "readModelInfos": [
                        {
                            "name": "BookLoanHistory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        29
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        49
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookStatusChangeHistory",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        29
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        56
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ]
                },
                {
                    "aggregates": [],
                    "alias": "프론트 엔드",
                    "complexity": "0.0",
                    "differentiation": "0.0",
                    "events": [],
                    "implementationStrategy": "Transaction Script",
                    "importance": "Generic Domain",
                    "name": "ui",
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        1,
                                        1
                                    ],
                                    [
                                        1,
                                        33
                                    ]
                                ]
                            ],
                            "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        3,
                                        55
                                    ]
                                ]
                            ],
                            "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        47
                                    ]
                                ]
                            ],
                            "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        40
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        1
                                    ],
                                    [
                                        9,
                                        74
                                    ]
                                ]
                            ],
                            "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                        }
                    ],
                    "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                    "commandInfos": [],
                    "readModelInfos": []
                }
            ],
            "relations": [
                {
                    "name": "BookManagement→LoanProcessing",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanProcessing",
                        "alias": "대출/반납 처리"
                    },
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                7,
                                216
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanProcessing→reservation-notification",
                    "type": "Request/Response",
                    "upStream": {
                        "name": "LoanProcessing",
                        "alias": "대출/반납 처리"
                    },
                    "downStream": {
                        "name": "reservation-notification",
                        "alias": "예약 & 알림 서비스"
                    },
                    "refs": [
                        [
                            [
                                5,
                                183
                            ],
                            [
                                7,
                                184
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanProcessing→HistoryTracking",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanProcessing",
                        "alias": "대출/반납 처리"
                    },
                    "downStream": {
                        "name": "HistoryTracking",
                        "alias": "이력 관리"
                    },
                    "refs": [
                        [
                            [
                                9,
                                8
                            ],
                            [
                                9,
                                73
                            ]
                        ]
                    ]
                },
                {
                    "name": "BookManagement→HistoryTracking",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "HistoryTracking",
                        "alias": "이력 관리"
                    },
                    "refs": [
                        [
                            [
                                9,
                                15
                            ],
                            [
                                9,
                                73
                            ]
                        ]
                    ]
                }
            ],
            "explanations": [
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출/반납 처리",
                    "relationType": "Pub/Sub",
                    "reason": "도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.",
                    "interactionPattern": "도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.",
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                7,
                                216
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 처리",
                    "targetContext": "예약 & 알림 서비스",
                    "relationType": "Request/Response",
                    "reason": "예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.",
                    "interactionPattern": "대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.",
                    "refs": [
                        [
                            [
                                5,
                                183
                            ],
                            [
                                7,
                                184
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 처리",
                    "targetContext": "이력 관리",
                    "relationType": "Pub/Sub",
                    "reason": "대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.",
                    "interactionPattern": "대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                    "refs": [
                        [
                            [
                                9,
                                8
                            ],
                            [
                                9,
                                73
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "이력 관리",
                    "relationType": "Pub/Sub",
                    "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.",
                    "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "refs": [
                        [
                            [
                                9,
                                15
                            ],
                            [
                                9,
                                73
                            ]
                        ]
                    ]
                }
            ],
            "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
            "currentGeneratedLength": 5653
        },
        "resultDevideBoundedContext": {
            "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                "thoughts": "도메인 복잡도와 프로세스(value stream) 기반으로 분리를 요청하였으므로, 도서 관리(등록/폐기/상태), 대출/반납/연장, 예약 및 알림, 이력 관리로 분리하는 것이 가장 자연스럽습니다. 이벤트 흐름과 액터 책임, 그리고 각 프로세스의 복잡도와 비즈니스 차별성을 고려하였습니다. 예약 및 알림은 PBC(reservation-notification)로 제공되므로 Generic Domain으로 분리하였고, 나머지는 Core/Supporting Domain으로 분류하였습니다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되며, 이력 관리 등은 Supporting Domain으로 분리하여 복잡도와 책임을 분산하였습니다.",
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookDiscarded",
                            "BookStatusChanged"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            29
                                        ]
                                    ]
                                ],
                                "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            24,
                                            4
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            84,
                                            4
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    304
                                ]
                            ]
                        ],
                        "commandInfos": [
                            {
                                "name": "RegisterBook",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "DiscardBook",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ChangeBookStatus",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            214
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            206
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelInfos": [
                            {
                                "name": "BookList",
                                "refs": [
                                    [
                                        [
                                            3,
                                            31
                                        ],
                                        [
                                            3,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDetail",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "CategoryList",
                                "refs": [
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "name": "LoanProcessing",
                        "alias": "대출/반납 처리",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.85,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Member",
                                "alias": "회원"
                            }
                        ],
                        "events": [
                            "BookLoaned",
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            12,
                                            1
                                        ],
                                        [
                                            22,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            115,
                                            1
                                        ],
                                        [
                                            128,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    169
                                ]
                            ]
                        ],
                        "commandInfos": [
                            {
                                "name": "LoanBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReserveBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            171
                                        ],
                                        [
                                            5,
                                            188
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReturnBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            28
                                        ],
                                        [
                                            5,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ExtendLoan",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelInfos": [
                            {
                                "name": "LoanStatusList",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookSearch",
                                "refs": [
                                    [
                                        [
                                            5,
                                            96
                                        ],
                                        [
                                            5,
                                            117
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "name": "reservation-notification",
                        "alias": "예약 & 알림 서비스",
                        "importance": "Generic Domain",
                        "complexity": 0.5,
                        "differentiation": 0.2,
                        "implementationStrategy": "PBC: reservation-notification",
                        "aggregates": [
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookReserved"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            187
                                        ]
                                    ]
                                ],
                                "text": "예약 신청"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "text": "예약자가 있는 도서가 반납되면, 해당 도서는 '예약중"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            65,
                                            4
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 기록\",\n    \"도서 상태 '예약중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        191\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            191
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서 예약 신청 및 예약 알림 기능을 제공하며, 예약 상태 변경 시 알림을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ],
                        "commandInfos": [],
                        "readModelInfos": []
                    },
                    {
                        "name": "HistoryTracking",
                        "alias": "이력 관리",
                        "importance": "Supporting Domain",
                        "complexity": 0.6,
                        "differentiation": 0.5,
                        "implementationStrategy": "Transaction Script",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "StatusHistory",
                                "alias": "상태 변경 이력"
                            }
                        ],
                        "events": [
                            "BookLoanHistoryRecorded",
                            "BookStatusHistoryRecorded"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            12
                                        ]
                                    ]
                                ],
                                "text": "대출 이력"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            12
                                        ],
                                        [
                                            9,
                                            15
                                        ]
                                    ]
                                ],
                                "text": "력과 상"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            84,
                                            4
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            98,
                                            4
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.",
                        "roleRefs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ],
                        "commandInfos": [],
                        "readModelInfos": [
                            {
                                "name": "BookLoanHistory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            49
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChangeHistory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            56
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregates": [],
                        "alias": "프론트 엔드",
                        "complexity": "0.0",
                        "differentiation": "0.0",
                        "events": [],
                        "implementationStrategy": "Transaction Script",
                        "importance": "Generic Domain",
                        "name": "ui",
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            33
                                        ]
                                    ]
                                ],
                                "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            55
                                        ]
                                    ]
                                ],
                                "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            47
                                        ]
                                    ]
                                ],
                                "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            40
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            74
                                        ]
                                    ]
                                ],
                                "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ],
                        "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                        "commandInfos": [],
                        "readModelInfos": []
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement→LoanProcessing",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    216
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcessing→reservation-notification",
                        "type": "Request/Response",
                        "upStream": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리"
                        },
                        "downStream": {
                            "name": "reservation-notification",
                            "alias": "예약 & 알림 서비스"
                        },
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcessing→HistoryTracking",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리"
                        },
                        "downStream": {
                            "name": "HistoryTracking",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement→HistoryTracking",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "HistoryTracking",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    }
                ],
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 처리",
                        "relationType": "Pub/Sub",
                        "reason": "도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.",
                        "interactionPattern": "도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    216
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 처리",
                        "targetContext": "예약 & 알림 서비스",
                        "relationType": "Request/Response",
                        "reason": "예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.",
                        "interactionPattern": "대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.",
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 처리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.",
                        "interactionPattern": "대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.",
                        "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 5653
            }
        },
        "boundedContextVersion": {
            "data": {
                "thoughts": "도메인 복잡도와 프로세스(value stream) 기반으로 분리를 요청하였으므로, 도서 관리(등록/폐기/상태), 대출/반납/연장, 예약 및 알림, 이력 관리로 분리하는 것이 가장 자연스럽습니다. 이벤트 흐름과 액터 책임, 그리고 각 프로세스의 복잡도와 비즈니스 차별성을 고려하였습니다. 예약 및 알림은 PBC(reservation-notification)로 제공되므로 Generic Domain으로 분리하였고, 나머지는 Core/Supporting Domain으로 분류하였습니다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되며, 이력 관리 등은 Supporting Domain으로 분리하여 복잡도와 책임을 분산하였습니다.",
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookDiscarded",
                            "BookStatusChanged"
                        ],
                        "requirements": [],
                        "role": "도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    304
                                ]
                            ]
                        ],
                        "commandInfos": [
                            {
                                "name": "RegisterBook",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "DiscardBook",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ChangeBookStatus",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            214
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            206
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelInfos": [
                            {
                                "name": "BookList",
                                "refs": [
                                    [
                                        [
                                            3,
                                            31
                                        ],
                                        [
                                            3,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDetail",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "CategoryList",
                                "refs": [
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "name": "LoanProcessing",
                        "alias": "대출/반납 처리",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.85,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Member",
                                "alias": "회원"
                            }
                        ],
                        "events": [
                            "BookLoaned",
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "requirements": [],
                        "role": "회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    169
                                ]
                            ]
                        ],
                        "commandInfos": [
                            {
                                "name": "LoanBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReserveBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            171
                                        ],
                                        [
                                            5,
                                            188
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReturnBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            28
                                        ],
                                        [
                                            5,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ExtendLoan",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelInfos": [
                            {
                                "name": "LoanStatusList",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookSearch",
                                "refs": [
                                    [
                                        [
                                            5,
                                            96
                                        ],
                                        [
                                            5,
                                            117
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "name": "reservation-notification",
                        "alias": "예약 & 알림 서비스",
                        "importance": "Generic Domain",
                        "complexity": 0.5,
                        "differentiation": 0.2,
                        "implementationStrategy": "PBC: reservation-notification",
                        "aggregates": [
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookReserved"
                        ],
                        "requirements": [],
                        "role": "도서 예약 신청 및 예약 알림 기능을 제공하며, 예약 상태 변경 시 알림을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ],
                        "commandInfos": [],
                        "readModelInfos": []
                    },
                    {
                        "name": "HistoryTracking",
                        "alias": "이력 관리",
                        "importance": "Supporting Domain",
                        "complexity": 0.6,
                        "differentiation": 0.5,
                        "implementationStrategy": "Transaction Script",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "StatusHistory",
                                "alias": "상태 변경 이력"
                            }
                        ],
                        "events": [
                            "BookLoanHistoryRecorded",
                            "BookStatusHistoryRecorded"
                        ],
                        "requirements": [],
                        "role": "도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.",
                        "roleRefs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ],
                        "commandInfos": [],
                        "readModelInfos": [
                            {
                                "name": "BookLoanHistory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            49
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChangeHistory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            56
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregates": [],
                        "alias": "프론트 엔드",
                        "complexity": "0.0",
                        "differentiation": "0.0",
                        "events": [],
                        "implementationStrategy": "Transaction Script",
                        "importance": "Generic Domain",
                        "name": "ui",
                        "requirements": [],
                        "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                        "commandInfos": [],
                        "readModelInfos": []
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement→LoanProcessing",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    216
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcessing→reservation-notification",
                        "type": "Request/Response",
                        "upStream": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리"
                        },
                        "downStream": {
                            "name": "reservation-notification",
                            "alias": "예약 & 알림 서비스"
                        },
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcessing→HistoryTracking",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리"
                        },
                        "downStream": {
                            "name": "HistoryTracking",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement→HistoryTracking",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "HistoryTracking",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    }
                ],
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 처리",
                        "relationType": "Pub/Sub",
                        "reason": "도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.",
                        "interactionPattern": "도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    216
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 처리",
                        "targetContext": "예약 & 알림 서비스",
                        "relationType": "Request/Response",
                        "reason": "예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.",
                        "interactionPattern": "대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.",
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 처리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.",
                        "interactionPattern": "대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.",
                        "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    73
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 5653
            },
            "version": 1,
            "aspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리"
        },
        "draftOptions": {
            "BookManagement": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Book",
                            "alias": "도서",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        304
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ],
                                [
                                    [
                                        28,
                                        5
                                    ],
                                    [
                                        28,
                                        37
                                    ]
                                ],
                                [
                                    [
                                        29,
                                        1
                                    ],
                                    [
                                        29,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        30,
                                        1
                                    ],
                                    [
                                        30,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        31,
                                        1
                                    ],
                                    [
                                        31,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        32,
                                        1
                                    ],
                                    [
                                        32,
                                        10
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            304
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            184
                                        ],
                                        [
                                            3,
                                            266
                                        ]
                                    ],
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            10
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            14
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "ISBN",
                                "alias": "ISBN",
                                "referencedAggregateName": "",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            304
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            72
                                        ],
                                        [
                                            3,
                                            75
                                        ]
                                    ],
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            8
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookCategoryReference",
                                "alias": "도서 카테고리 참조",
                                "referencedAggregate": {
                                    "name": "BookCategory",
                                    "alias": "도서 카테고리"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            90
                                        ]
                                    ],
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            12
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "StatusHistoryReference",
                                "alias": "상태 변경 이력 참조",
                                "referencedAggregate": {
                                    "name": "StatusHistory",
                                    "alias": "상태 변경 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            22
                                        ]
                                    ],
                                    [
                                        [
                                            84,
                                            4
                                        ],
                                        [
                                            84,
                                            15
                                        ]
                                    ],
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ],
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ],
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ],
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ],
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryReference",
                                "alias": "대출 이력 참조",
                                "referencedAggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            12
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            22
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregate": {
                            "name": "BookCategory",
                            "alias": "도서 카테고리",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        304
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        87
                                    ],
                                    [
                                        3,
                                        90
                                    ]
                                ],
                                [
                                    [
                                        31,
                                        5
                                    ],
                                    [
                                        31,
                                        12
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "BookCategoryType",
                                "alias": "카테고리 유형",
                                "refs": [
                                    [
                                        [
                                            3,
                                            142
                                        ],
                                        [
                                            3,
                                            153
                                        ]
                                    ],
                                    [
                                        [
                                            31,
                                            14
                                        ],
                                        [
                                            31,
                                            40
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [],
                        "previewAttributes": []
                    }
                ],
                "pros": {
                    "cohesion": "도서 정보와 카테고리 관리가 분리되어 각 Aggregate가 명확한 책임을 가집니다.",
                    "coupling": "카테고리 확장, 다국어 지원 등 BookCategory Aggregate만 수정하면 되므로 결합도가 낮아집니다.",
                    "consistency": "도서 상태 변경 등 핵심 비즈니스 규칙은 Book Aggregate 내에서 보장되고, 카테고리 관리 규칙은 별도 Aggregate에서 관리됩니다.",
                    "encapsulation": "카테고리 관리 로직이 별도 Aggregate에 캡슐화되어, 도서 관리와 독립적으로 발전시킬 수 있습니다.",
                    "complexity": "카테고리 관리, 도서 관리가 분리되어 각 도메인별 복잡도가 낮아지고, 유지보수가 쉬워집니다.",
                    "independence": "카테고리 정책 변경, 신규 카테고리 추가 등 BookCategory Aggregate만 독립적으로 확장할 수 있습니다.",
                    "performance": "카테고리 변경, 조회 등은 BookCategory Aggregate에서 독립적으로 처리되어, 도서 관리와 분산 처리 및 확장이 용이합니다."
                },
                "cons": {
                    "cohesion": "도서 등록, 상태 변경 시 카테고리 참조가 필요해 두 Aggregate 간 연동이 필수적입니다.",
                    "coupling": "도서와 카테고리 간 참조가 추가되어, 일부 트랜잭션에서 두 Aggregate 동시 접근이 필요할 수 있습니다.",
                    "consistency": "카테고리 변경이 도서에 미치는 영향(예: 카테고리 삭제 시 도서 처리 등)에 대한 추가 일관성 관리가 필요합니다.",
                    "encapsulation": "도서 상태 변경과 카테고리 변경이 분리되어, 복합 비즈니스 규칙 구현 시 애플리케이션 서비스 계층에서 조정이 필요합니다.",
                    "complexity": "두 Aggregate 간 연동 로직 및 참조 관리가 추가되어 전체 시스템 복잡도가 증가할 수 있습니다.",
                    "independence": "도서 등록, 상태 변경 등 일부 작업에서 BookCategory Aggregate의 상태에 의존하게 됩니다.",
                    "performance": "도서와 카테고리 정보를 동시에 조회할 때 조인 또는 추가 쿼리가 필요해 성능에 영향이 있을 수 있습니다."
                },
                "isAIRecommended": true,
                "boundedContext": {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "displayName": "도서 관리",
                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "requirements": {
                        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            22
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            304
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "19": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            24,
                                            1
                                        ],
                                        [
                                            24,
                                            6
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            25,
                                            1
                                        ],
                                        [
                                            25,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            26,
                                            1
                                        ],
                                        [
                                            26,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            27,
                                            1
                                        ],
                                        [
                                            27,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            28,
                                            1
                                        ],
                                        [
                                            28,
                                            37
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            29,
                                            1
                                        ],
                                        [
                                            29,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            30,
                                            1
                                        ],
                                        [
                                            30,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            31,
                                            1
                                        ],
                                        [
                                            31,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            32,
                                            1
                                        ],
                                        [
                                            32,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            33,
                                            1
                                        ],
                                        [
                                            33,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            34,
                                            1
                                        ],
                                        [
                                            34,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            35,
                                            1
                                        ],
                                        [
                                            35,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            36,
                                            1
                                        ],
                                        [
                                            36,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            37,
                                            1
                                        ],
                                        [
                                            37,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            38,
                                            1
                                        ],
                                        [
                                            38,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            39,
                                            1
                                        ],
                                        [
                                            39,
                                            26
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            40,
                                            1
                                        ],
                                        [
                                            40,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            41,
                                            1
                                        ],
                                        [
                                            41,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            42,
                                            1
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            84,
                                            1
                                        ],
                                        [
                                            84,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandInfos": [
                            {
                                "name": "RegisterBook",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "DiscardBook",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ChangeBookStatus",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            214
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            206
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "commandNames": [
                            "RegisterBook",
                            "DiscardBook",
                            "ChangeBookStatus"
                        ],
                        "readModelInfos": [
                            {
                                "name": "BookList",
                                "refs": [
                                    [
                                        [
                                            3,
                                            31
                                        ],
                                        [
                                            3,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDetail",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "CategoryList",
                                "refs": [
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelNames": [
                            "BookList",
                            "BookDetail",
                            "CategoryList"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
            },
            "LoanProcessing": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Loan",
                            "alias": "대출",
                            "refs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        169
                                    ]
                                ],
                                [
                                    [
                                        45,
                                        14
                                    ],
                                    [
                                        45,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        46,
                                        1
                                    ],
                                    [
                                        46,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        47,
                                        1
                                    ],
                                    [
                                        47,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        48,
                                        1
                                    ],
                                    [
                                        48,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        49,
                                        1
                                    ],
                                    [
                                        49,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        50,
                                        1
                                    ],
                                    [
                                        50,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        51,
                                        1
                                    ],
                                    [
                                        51,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        52,
                                        1
                                    ],
                                    [
                                        52,
                                        74
                                    ]
                                ],
                                [
                                    [
                                        53,
                                        1
                                    ],
                                    [
                                        53,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        54,
                                        1
                                    ],
                                    [
                                        54,
                                        34
                                    ]
                                ],
                                [
                                    [
                                        55,
                                        1
                                    ],
                                    [
                                        55,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        56,
                                        1
                                    ],
                                    [
                                        56,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        57,
                                        1
                                    ],
                                    [
                                        57,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        58,
                                        1
                                    ],
                                    [
                                        58,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        59,
                                        1
                                    ],
                                    [
                                        59,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        60,
                                        1
                                    ],
                                    [
                                        60,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        61,
                                        1
                                    ],
                                    [
                                        61,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        62,
                                        1
                                    ],
                                    [
                                        62,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        63,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 상태",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            65
                                        ],
                                        [
                                            7,
                                            81
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanActionType",
                                "alias": "대출 처리 유형",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            54
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            100
                                        ],
                                        [
                                            5,
                                            109
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "MemberReference",
                                "alias": "회원 참조",
                                "referencedAggregate": {
                                    "name": "Member",
                                    "alias": "회원"
                                },
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            13
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            62
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryReference",
                                "alias": "대출 이력 참조",
                                "referencedAggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            99,
                                            14
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ],
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ],
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ],
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ],
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            58
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            117,
                                            5
                                        ],
                                        [
                                            117,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            71
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            33
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "overdue_id",
                                "refs": [
                                    [
                                        [
                                            116,
                                            5
                                        ],
                                        [
                                            116,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "overdue_days",
                                "refs": [
                                    [
                                        [
                                            118,
                                            5
                                        ],
                                        [
                                            118,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "fine_amount",
                                "refs": [
                                    [
                                        [
                                            119,
                                            5
                                        ],
                                        [
                                            119,
                                            42
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "fine_paid",
                                "refs": [
                                    [
                                        [
                                            120,
                                            5
                                        ],
                                        [
                                            120,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_count",
                                "refs": [
                                    [
                                        [
                                            121,
                                            5
                                        ],
                                        [
                                            121,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "last_notification_date",
                                "refs": [
                                    [
                                        [
                                            122,
                                            5
                                        ],
                                        [
                                            122,
                                            40
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregate": {
                            "name": "Member",
                            "alias": "회원",
                            "refs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        169
                                    ]
                                ],
                                [
                                    [
                                        12,
                                        14
                                    ],
                                    [
                                        12,
                                        22
                                    ]
                                ],
                                [
                                    [
                                        13,
                                        1
                                    ],
                                    [
                                        13,
                                        38
                                    ]
                                ],
                                [
                                    [
                                        14,
                                        1
                                    ],
                                    [
                                        14,
                                        38
                                    ]
                                ],
                                [
                                    [
                                        15,
                                        1
                                    ],
                                    [
                                        15,
                                        22
                                    ]
                                ],
                                [
                                    [
                                        16,
                                        1
                                    ],
                                    [
                                        16,
                                        23
                                    ]
                                ],
                                [
                                    [
                                        17,
                                        1
                                    ],
                                    [
                                        17,
                                        17
                                    ]
                                ],
                                [
                                    [
                                        18,
                                        1
                                    ],
                                    [
                                        18,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        19,
                                        1
                                    ],
                                    [
                                        19,
                                        68
                                    ]
                                ],
                                [
                                    [
                                        20,
                                        1
                                    ],
                                    [
                                        20,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        21,
                                        1
                                    ],
                                    [
                                        21,
                                        77
                                    ]
                                ],
                                [
                                    [
                                        22,
                                        1
                                    ],
                                    [
                                        22,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        59
                                    ],
                                    [
                                        5,
                                        75
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "MemberStatus",
                                "alias": "회원 상태",
                                "refs": [
                                    [
                                        [
                                            19,
                                            5
                                        ],
                                        [
                                            19,
                                            24
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [],
                        "previewAttributes": [
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            13,
                                            5
                                        ],
                                        [
                                            13,
                                            37
                                        ]
                                    ],
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_name",
                                "refs": [
                                    [
                                        [
                                            14,
                                            5
                                        ],
                                        [
                                            14,
                                            37
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "phone",
                                "refs": [
                                    [
                                        [
                                            15,
                                            5
                                        ],
                                        [
                                            15,
                                            21
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "email",
                                "refs": [
                                    [
                                        [
                                            16,
                                            5
                                        ],
                                        [
                                            16,
                                            22
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "address",
                                "refs": [
                                    [
                                        [
                                            17,
                                            5
                                        ],
                                        [
                                            17,
                                            16
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            18,
                                            5
                                        ],
                                        [
                                            18,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            19,
                                            5
                                        ],
                                        [
                                            19,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            21
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            20,
                                            5
                                        ],
                                        [
                                            20,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            123,
                                            5
                                        ],
                                        [
                                            123,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            21,
                                            5
                                        ],
                                        [
                                            21,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            124,
                                            5
                                        ],
                                        [
                                            124,
                                            77
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "대출 트랜잭션과 회원 정보가 각각의 Aggregate에 집중되어 있어 각자의 책임이 명확하다.",
                    "coupling": "Book, LoanHistory 등 외부 Aggregate는 ValueObject 참조로만 연결되어 결합도가 낮다.",
                    "consistency": "대출 생성, 연장, 반납 등 주요 비즈니스 규칙이 Loan Aggregate 내부에서 원자적으로 보장된다.",
                    "encapsulation": "대출 상태 전이, 연장, 반납 로직이 Loan Aggregate 내부에 캡슐화되어 도메인 규칙 노출이 최소화된다.",
                    "complexity": "Aggregate 수가 적어 전체 구조가 단순하고 유지보수가 용이하다.",
                    "independence": "대출과 회원 관리가 독립적으로 진화할 수 있다.",
                    "performance": "대출 관련 조회 및 변경이 단일 Aggregate 내에서 처리되어 트랜잭션 효율이 높다."
                },
                "cons": {
                    "cohesion": "연체 관리, 벌금 등 확장 요구가 발생할 경우 Loan Aggregate가 비대해질 수 있다.",
                    "coupling": "연체, 벌금 등 추가 도메인 개념이 Loan에 집중되어 결합도가 증가할 수 있다.",
                    "consistency": "연체 기록 등 세부 관리가 Loan 내부에 포함되면 트랜잭션 경계가 커질 수 있다.",
                    "encapsulation": "Loan이 너무 많은 책임을 가지면 도메인 규칙 분리가 어려워질 수 있다.",
                    "complexity": "대출, 연장, 반납, 연체 등 다양한 상태와 로직이 Loan에 집중되어 복잡도가 증가할 수 있다.",
                    "independence": "연체 관리 등 신규 기능 추가 시 Loan에 영향이 커진다.",
                    "performance": "Loan에 연체 정보까지 포함하면 빈번한 업데이트로 인한 성능 저하가 발생할 수 있다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "LoanProcessing",
                    "alias": "대출/반납 처리",
                    "displayName": "대출/반납 처리",
                    "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Member",
                            "alias": "회원"
                        }
                    ],
                    "requirements": {
                        "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookLoaned, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            13,
                                            5
                                        ],
                                        [
                                            13,
                                            37
                                        ]
                                    ],
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_name",
                                "refs": [
                                    [
                                        [
                                            14,
                                            5
                                        ],
                                        [
                                            14,
                                            37
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "phone",
                                "refs": [
                                    [
                                        [
                                            15,
                                            5
                                        ],
                                        [
                                            15,
                                            21
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "email",
                                "refs": [
                                    [
                                        [
                                            16,
                                            5
                                        ],
                                        [
                                            16,
                                            22
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "address",
                                "refs": [
                                    [
                                        [
                                            17,
                                            5
                                        ],
                                        [
                                            17,
                                            16
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            18,
                                            5
                                        ],
                                        [
                                            18,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            19,
                                            5
                                        ],
                                        [
                                            19,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            21
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            20,
                                            5
                                        ],
                                        [
                                            20,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            123,
                                            5
                                        ],
                                        [
                                            123,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            21,
                                            5
                                        ],
                                        [
                                            21,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            124,
                                            5
                                        ],
                                        [
                                            124,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            117,
                                            5
                                        ],
                                        [
                                            117,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            71
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            33
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "overdue_id",
                                "refs": [
                                    [
                                        [
                                            116,
                                            5
                                        ],
                                        [
                                            116,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "overdue_days",
                                "refs": [
                                    [
                                        [
                                            118,
                                            5
                                        ],
                                        [
                                            118,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "fine_amount",
                                "refs": [
                                    [
                                        [
                                            119,
                                            5
                                        ],
                                        [
                                            119,
                                            42
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "fine_paid",
                                "refs": [
                                    [
                                        [
                                            120,
                                            5
                                        ],
                                        [
                                            120,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_count",
                                "refs": [
                                    [
                                        [
                                            121,
                                            5
                                        ],
                                        [
                                            121,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "last_notification_date",
                                "refs": [
                                    [
                                        [
                                            122,
                                            5
                                        ],
                                        [
                                            122,
                                            40
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            169
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "19": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            12,
                                            1
                                        ],
                                        [
                                            12,
                                            22
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            13,
                                            1
                                        ],
                                        [
                                            13,
                                            38
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            14,
                                            1
                                        ],
                                        [
                                            14,
                                            38
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            15,
                                            1
                                        ],
                                        [
                                            15,
                                            22
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            16,
                                            1
                                        ],
                                        [
                                            16,
                                            23
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            17,
                                            1
                                        ],
                                        [
                                            17,
                                            17
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            18,
                                            1
                                        ],
                                        [
                                            18,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            19,
                                            1
                                        ],
                                        [
                                            19,
                                            68
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            20,
                                            1
                                        ],
                                        [
                                            20,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            21,
                                            1
                                        ],
                                        [
                                            21,
                                            77
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            22,
                                            1
                                        ],
                                        [
                                            22,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            45,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            46,
                                            1
                                        ],
                                        [
                                            46,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            47,
                                            1
                                        ],
                                        [
                                            47,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            48,
                                            1
                                        ],
                                        [
                                            48,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            49,
                                            1
                                        ],
                                        [
                                            49,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            50,
                                            1
                                        ],
                                        [
                                            50,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            51,
                                            1
                                        ],
                                        [
                                            51,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            52,
                                            1
                                        ],
                                        [
                                            52,
                                            74
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            53,
                                            1
                                        ],
                                        [
                                            53,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            54,
                                            1
                                        ],
                                        [
                                            54,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            55,
                                            1
                                        ],
                                        [
                                            55,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            56,
                                            1
                                        ],
                                        [
                                            56,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            57,
                                            1
                                        ],
                                        [
                                            57,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            58,
                                            1
                                        ],
                                        [
                                            58,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            59,
                                            1
                                        ],
                                        [
                                            59,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            60,
                                            1
                                        ],
                                        [
                                            60,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            61,
                                            1
                                        ],
                                        [
                                            61,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            62,
                                            1
                                        ],
                                        [
                                            62,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            63,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            115,
                                            1
                                        ],
                                        [
                                            115,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            116,
                                            1
                                        ],
                                        [
                                            116,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            117,
                                            1
                                        ],
                                        [
                                            117,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            118,
                                            1
                                        ],
                                        [
                                            118,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            119,
                                            1
                                        ],
                                        [
                                            119,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            120,
                                            1
                                        ],
                                        [
                                            120,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            121,
                                            1
                                        ],
                                        [
                                            121,
                                            37
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            122,
                                            1
                                        ],
                                        [
                                            122,
                                            41
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "82": {
                                "refs": [
                                    [
                                        [
                                            123,
                                            1
                                        ],
                                        [
                                            123,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "83": {
                                "refs": [
                                    [
                                        [
                                            124,
                                            1
                                        ],
                                        [
                                            124,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            125,
                                            1
                                        ],
                                        [
                                            125,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            126,
                                            1
                                        ],
                                        [
                                            126,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            127,
                                            1
                                        ],
                                        [
                                            127,
                                            41
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            128,
                                            1
                                        ],
                                        [
                                            128,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "105": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "122": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "123": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "124": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "125": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "131": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "132": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "137": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "138": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "139": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "140": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "141": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "142": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "143": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "144": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "145": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "146": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "147": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "148": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "149": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "150": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "151": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "152": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "153": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "154": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "160": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "161": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "162": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "163": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "166": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "167": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "168": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "169": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "172": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "173": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "174": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "175": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandInfos": [
                            {
                                "name": "LoanBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReserveBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            171
                                        ],
                                        [
                                            5,
                                            188
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReturnBook",
                                "refs": [
                                    [
                                        [
                                            5,
                                            28
                                        ],
                                        [
                                            5,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ExtendLoan",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "commandNames": [
                            "LoanBook",
                            "ReserveBook",
                            "ReturnBook",
                            "ExtendLoan"
                        ],
                        "readModelInfos": [
                            {
                                "name": "LoanStatusList",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookSearch",
                                "refs": [
                                    [
                                        [
                                            5,
                                            96
                                        ],
                                        [
                                            5,
                                            117
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelNames": [
                            "LoanStatusList",
                            "BookSearch"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다."
            },
            "HistoryTracking": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "HistoryRecord",
                            "alias": "통합 이력 기록",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        73
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        53
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        60
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "HistoryType",
                                "alias": "이력 유형",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanActionType",
                                "alias": "대출 처리 유형",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            93,
                                            27
                                        ],
                                        [
                                            93,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            108,
                                            27
                                        ],
                                        [
                                            108,
                                            51
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "모든 이력 데이터가 하나의 Aggregate에 통합되어 있어, 복합 이력 조회 및 통계 처리에 최적화되어 있습니다.",
                    "coupling": "이력 간 상호 참조나 복합 이벤트 처리 시, 단일 Aggregate 내에서 모두 처리할 수 있어 구현이 단순해집니다.",
                    "consistency": "대출 이력과 상태 변경 이력이 동시에 기록되어야 할 때, 단일 트랜잭션으로 원자성 보장이 쉽습니다.",
                    "encapsulation": "이력 관련 모든 도메인 규칙이 한 곳에 집중되어 있어, 규칙 변경 시 일관성 있게 관리할 수 있습니다.",
                    "complexity": "복합 이력 관리 및 통합 리포트 기능 구현이 단순해집니다.",
                    "independence": "이력 관리 기능 자체는 독립적으로 진화할 수 있습니다.",
                    "performance": "복합 이력 조회 시 단일 Aggregate만 접근하면 되므로, 조회 성능이 우수합니다."
                },
                "cons": {
                    "cohesion": "대출 이력과 상태 변경 이력의 도메인 규칙이 혼합되어, 단일 책임 원칙이 약화됩니다.",
                    "coupling": "이력 유형별로 관리 정책이 달라질 경우, Aggregate 내부가 복잡해지고 변경 영향 범위가 넓어집니다.",
                    "consistency": "이력 유형별로 트랜잭션 분리가 어렵고, 특정 이력만 독립적으로 관리하기 힘듭니다.",
                    "encapsulation": "이력 유형별로 도메인 규칙을 분리하기 어렵고, 규칙 누락 가능성이 높아집니다.",
                    "complexity": "Aggregate가 커질수록 관리 및 테스트가 어려워지고, 신규 이력 유형 추가 시 영향도가 커집니다.",
                    "independence": "이력 유형별로 독립적 확장이나 변경이 어렵고, 전체 이력 관리 정책에 영향을 미칠 수 있습니다.",
                    "performance": "이력 데이터가 대량으로 누적될 경우, 단일 Aggregate의 저장/조회 성능 저하 및 확장성 문제가 발생할 수 있습니다."
                },
                "isAIRecommended": true,
                "boundedContext": {
                    "name": "HistoryTracking",
                    "alias": "이력 관리",
                    "displayName": "이력 관리",
                    "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "StatusHistory",
                            "alias": "상태 변경 이력"
                        }
                    ],
                    "requirements": {
                        "userStory": "대출 이력\n력과 상",
                        "ddl": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                        "event": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookLoanHistoryRecorded, BookStatusHistoryRecorded 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "14": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            5
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "16": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            4
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "21": {
                                "refs": [
                                    [
                                        [
                                            84,
                                            1
                                        ],
                                        [
                                            84,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            98,
                                            1
                                        ],
                                        [
                                            98,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "82": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "83": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandInfos": [],
                        "commandNames": [],
                        "readModelInfos": [
                            {
                                "name": "BookLoanHistory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            49
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChangeHistory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            56
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModelNames": [
                            "BookLoanHistory",
                            "BookStatusChangeHistory"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
            }
        },
        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
        "state": {
            "generator": "RequirementsMappingGenerator",
            "isAIModelSelected": false,
            "firstMessageIsTyping": true,
            "secondMessageIsTyping": false,
            "userStory": "",
            "communicationStyle": "Choreography",
            "aggregateDetail": false,
            "uiStyle": null,
            "associatedProject": "d8fb784454888ceb1c545e9461ffcdbf"
        },
        "messages": [
            {
                "uniqueId": "4503bf2548b2ded488a4ca7edfb18f44",
                "type": "processAnalysis",
                "isAnalizing": false,
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "processingRate": 0,
                "content": {
                    "type": "ANALYSIS_RESULT",
                    "projectName": "Requirements Analysis",
                    "content": {
                        "elements": {
                            "9ab28607-8ccc-b345-ea80-53d1360e1ac0": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "9ab28607-8ccc-b345-ea80-53d1360e1ac0",
                                "name": "Librarian",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "9ab28607-8ccc-b345-ea80-53d1360e1ac0",
                                    "x": 150,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "c6e89d17-1dc9-3163-29df-b1d82651ad51": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "c6e89d17-1dc9-3163-29df-b1d82651ad51",
                                "name": "Member",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "c6e89d17-1dc9-3163-29df-b1d82651ad51",
                                    "x": 150,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "24aa0eb5-4aea-ae90-88b4-cf103c7ebbf2": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "24aa0eb5-4aea-ae90-88b4-cf103c7ebbf2",
                                "name": "System",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "24aa0eb5-4aea-ae90-88b4-cf103c7ebbf2",
                                    "x": 150,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "53939483-df9b-d60f-971d-a687cb832b3e": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                "visibility": "public",
                                "name": "BookRegistered",
                                "oldName": "",
                                "displayName": "도서 등록됨",
                                "namePascalCase": "BookRegistered",
                                "nameCamelCase": "bookRegistered",
                                "namePlural": "",
                                "description": "사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                    "x": 300,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                    "x": 300,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                "visibility": "public",
                                "name": "BookDiscarded",
                                "oldName": "",
                                "displayName": "도서 폐기됨",
                                "namePascalCase": "BookDiscarded",
                                "nameCamelCase": "bookDiscarded",
                                "namePlural": "",
                                "description": "사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                    "x": 500,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                    "x": 500,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "800d71b2-66c3-ff70-c446-7d794d457baa": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "visibility": "public",
                                "name": "BookStatusChanged",
                                "oldName": "",
                                "displayName": "도서 상태 변경됨",
                                "namePascalCase": "BookStatusChanged",
                                "nameCamelCase": "bookStatusChanged",
                                "namePlural": "",
                                "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "x": 300,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "x": 300,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "11766f02-d07c-b04d-f277-df41063ffee8": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "11766f02-d07c-b04d-f277-df41063ffee8",
                                "visibility": "public",
                                "name": "BookLoanHistoryRecorded",
                                "oldName": "",
                                "displayName": "도서 대출 이력 기록됨",
                                "namePascalCase": "BookLoanHistoryRecorded",
                                "nameCamelCase": "bookLoanHistoryRecorded",
                                "namePlural": "",
                                "description": "도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "11766f02-d07c-b04d-f277-df41063ffee8",
                                    "x": 500,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "11766f02-d07c-b04d-f277-df41063ffee8",
                                    "x": 500,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "2b8606f2-a4dd-69bb-7c29-152a76db8176": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2b8606f2-a4dd-69bb-7c29-152a76db8176",
                                "visibility": "public",
                                "name": "BookStatusHistoryRecorded",
                                "oldName": "",
                                "displayName": "도서 상태 변경 이력 기록됨",
                                "namePascalCase": "BookStatusHistoryRecorded",
                                "nameCamelCase": "bookStatusHistoryRecorded",
                                "namePlural": "",
                                "description": "도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2b8606f2-a4dd-69bb-7c29-152a76db8176",
                                    "x": 700,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "2b8606f2-a4dd-69bb-7c29-152a76db8176",
                                    "x": 700,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "6b512931-4d1c-9acb-4f70-8576be3f9780": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "visibility": "public",
                                "name": "BookLoaned",
                                "oldName": "",
                                "displayName": "도서 대출됨",
                                "namePascalCase": "BookLoaned",
                                "nameCamelCase": "bookLoaned",
                                "namePlural": "",
                                "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "x": 300,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "x": 300,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "c9519b8b-5b4f-1eec-6aa3-cb9397705ace": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "visibility": "public",
                                "name": "BookReserved",
                                "oldName": "",
                                "displayName": "도서 예약됨",
                                "namePascalCase": "BookReserved",
                                "nameCamelCase": "bookReserved",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                    "x": 500,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                    "x": 500,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "42b87a95-6d5f-5e42-02c4-44af1b626147": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "visibility": "public",
                                "name": "BookLoanExtended",
                                "oldName": "",
                                "displayName": "도서 대출 연장됨",
                                "namePascalCase": "BookLoanExtended",
                                "nameCamelCase": "bookLoanExtended",
                                "namePlural": "",
                                "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                    "x": 700,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                    "x": 700,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "visibility": "public",
                                "name": "BookReturned",
                                "oldName": "",
                                "displayName": "도서 반납됨",
                                "namePascalCase": "BookReturned",
                                "nameCamelCase": "bookReturned",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "x": 900,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "x": 900,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            }
                        },
                        "relations": {
                            "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                                "to": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                                "description": "",
                                "relationView": {
                                    "id": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                                    "value": "[[0,275],[2000,275]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,275],[2000,275]]"
                            },
                            "5172516f-5aaf-450b-b384-983adc782162": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "5172516f-5aaf-450b-b384-983adc782162",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "5172516f-5aaf-450b-b384-983adc782162",
                                "to": "5172516f-5aaf-450b-b384-983adc782162",
                                "description": "",
                                "relationView": {
                                    "id": "5172516f-5aaf-450b-b384-983adc782162",
                                    "value": "[[0,525],[2000,525]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,525],[2000,525]]"
                            },
                            "24c74bf6-5ecd-0ddd-6ddf-e413296c6158": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                                "to": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                                "description": "",
                                "relationView": {
                                    "id": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                                    "value": "[[0,775],[2000,775]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,775],[2000,775]]"
                            },
                            "93c333db-f2f2-faa8-9db1-362ea53fa63d": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "93c333db-f2f2-faa8-9db1-362ea53fa63d",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                    "visibility": "public",
                                    "name": "BookRegistered",
                                    "oldName": "",
                                    "displayName": "도서 등록됨",
                                    "namePascalCase": "BookRegistered",
                                    "nameCamelCase": "bookRegistered",
                                    "namePlural": "",
                                    "description": "사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                        "x": 300,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                        "x": 300,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "53939483-df9b-d60f-971d-a687cb832b3e",
                                "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "relationView": {
                                    "id": "93c333db-f2f2-faa8-9db1-362ea53fa63d",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "53939483-df9b-d60f-971d-a687cb832b3e",
                                    "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "needReconnect": true
                                }
                            },
                            "e0b9ed93-660f-a58d-a3dd-39c24cfbd27e": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "e0b9ed93-660f-a58d-a3dd-39c24cfbd27e",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "relationView": {
                                    "id": "e0b9ed93-660f-a58d-a3dd-39c24cfbd27e",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "needReconnect": true
                                }
                            },
                            "2aa1a57f-26f2-91e9-3e46-a9c10d824a5c": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "2aa1a57f-26f2-91e9-3e46-a9c10d824a5c",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "relationView": {
                                    "id": "2aa1a57f-26f2-91e9-3e46-a9c10d824a5c",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "needReconnect": true
                                }
                            },
                            "677e0910-ad3f-d7ff-3bfa-2360e510742a": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "677e0910-ad3f-d7ff-3bfa-2360e510742a",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "to": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "relationView": {
                                    "id": "677e0910-ad3f-d7ff-3bfa-2360e510742a",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "to": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                    "needReconnect": true
                                }
                            },
                            "87cfa9d4-d31f-1bd2-2642-f293e7190668": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "87cfa9d4-d31f-1bd2-2642-f293e7190668",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                    "visibility": "public",
                                    "name": "BookDiscarded",
                                    "oldName": "",
                                    "displayName": "도서 폐기됨",
                                    "namePascalCase": "BookDiscarded",
                                    "nameCamelCase": "bookDiscarded",
                                    "namePlural": "",
                                    "description": "사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                        "x": 500,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                        "x": 500,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "to": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                "relationView": {
                                    "id": "87cfa9d4-d31f-1bd2-2642-f293e7190668",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "to": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                    "needReconnect": true
                                }
                            },
                            "fda51825-801f-c588-e13d-433bd4b27cae": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "fda51825-801f-c588-e13d-433bd4b27cae",
                                "name": "3",
                                "displayName": "3",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                    "visibility": "public",
                                    "name": "BookLoanExtended",
                                    "oldName": "",
                                    "displayName": "도서 대출 연장됨",
                                    "namePascalCase": "BookLoanExtended",
                                    "nameCamelCase": "bookLoanExtended",
                                    "namePlural": "",
                                    "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "to": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "relationView": {
                                    "id": "fda51825-801f-c588-e13d-433bd4b27cae",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "to": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                    "needReconnect": true
                                }
                            },
                            "f3750b23-24b1-2915-4257-529d981d1269": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "f3750b23-24b1-2915-4257-529d981d1269",
                                "name": "3",
                                "displayName": "3",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "relationView": {
                                    "id": "f3750b23-24b1-2915-4257-529d981d1269",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "needReconnect": true
                                }
                            },
                            "d537e621-9bbf-1580-cdeb-a08eb18976cf": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "d537e621-9bbf-1580-cdeb-a08eb18976cf",
                                "name": "4",
                                "displayName": "4",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "relationView": {
                                    "id": "d537e621-9bbf-1580-cdeb-a08eb18976cf",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                    "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                    "needReconnect": true
                                }
                            },
                            "675246f6-8ff9-b549-133c-2c74f8108691": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "675246f6-8ff9-b549-133c-2c74f8108691",
                                "name": "5",
                                "displayName": "5",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                    "visibility": "public",
                                    "name": "BookLoanExtended",
                                    "oldName": "",
                                    "displayName": "도서 대출 연장됨",
                                    "namePascalCase": "BookLoanExtended",
                                    "nameCamelCase": "bookLoanExtended",
                                    "namePlural": "",
                                    "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "relationView": {
                                    "id": "675246f6-8ff9-b549-133c-2c74f8108691",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                    "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "needReconnect": true
                                }
                            },
                            "d3757442-3eb7-f712-d3b7-d10d2d6ee83e": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "d3757442-3eb7-f712-d3b7-d10d2d6ee83e",
                                "name": "6",
                                "displayName": "6",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "relationView": {
                                    "id": "d3757442-3eb7-f712-d3b7-d10d2d6ee83e",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                    "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                    "needReconnect": true
                                }
                            }
                        }
                    },
                    "analysisResult": {
                        "recommendedBoundedContextsNumber": 4,
                        "reasonOfRecommendedBoundedContextsNumber": "이번 도메인 분석에서는 도서관의 업무를 네 가지 주요 비즈니스 역량(도서 관리, 대출/반납 관리, 예약 관리, 이력 관리)로 구분하는 것이 적합합니다. 1) 도서 관리(도서 등록, 상태 변경, 폐기 등)는 도서의 라이프사이클과 관련된 모든 업무를 담당합니다. 2) 대출/반납 관리는 회원 인증, 대출/반납 처리, 연장 등 대출 프로세스의 핵심을 담당합니다. 3) 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당하며, 대출/반납과 밀접하게 연계됩니다. 4) 이력 관리는 각 도서별 대출 및 상태 변경 이력의 저장과 조회를 담당합니다. 각 컨텍스트는 명확한 경계와 책임을 가지며, 비즈니스 규칙과 상태 전이의 복잡성, 그리고 액터 간 상호작용(예: 도서 상태 변경이 대출/예약/반납과 연계됨)에 따라 4개의 컨텍스트로 분리하는 것이 유지보수성과 확장성, 조직 내 역할 분담에 가장 적합합니다.",
                        "events": [
                            {
                                "name": "BookRegistered",
                                "displayName": "도서 등록됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.",
                                "inputs": [
                                    "도서명",
                                    "ISBN(13자리)",
                                    "저자",
                                    "출판사",
                                    "카테고리(소설/비소설/학술/잡지)"
                                ],
                                "outputs": [
                                    "신규 도서(대출가능 상태)"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            177
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChanged",
                                "displayName": "도서 상태 변경됨",
                                "actor": "System",
                                "level": 2,
                                "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                                "inputs": [
                                    "도서 이벤트(등록/대출/반납/예약/폐기 등)"
                                ],
                                "outputs": [
                                    "도서 상태 변경"
                                ],
                                "nextEvents": [
                                    "BookLoaned",
                                    "BookReturned",
                                    "BookReserved",
                                    "BookDiscarded"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            159
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoaned",
                                "displayName": "도서 대출됨",
                                "actor": "Member",
                                "level": 3,
                                "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "이름",
                                    "도서명 또는 ISBN",
                                    "대출 기간(7/14/30일)"
                                ],
                                "outputs": [
                                    "대출 기록",
                                    "도서 상태 '대출중'"
                                ],
                                "nextEvents": [
                                    "BookLoanExtended",
                                    "BookReturned"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            23
                                        ],
                                        [
                                            5,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReserved",
                                "displayName": "도서 예약됨",
                                "actor": "Member",
                                "level": 4,
                                "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "이름",
                                    "도서명 또는 ISBN"
                                ],
                                "outputs": [
                                    "예약 기록",
                                    "도서 상태 '예약중'"
                                ],
                                "nextEvents": [
                                    "BookLoaned"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            191
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoanExtended",
                                "displayName": "도서 대출 연장됨",
                                "actor": "Member",
                                "level": 5,
                                "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                                "inputs": [
                                    "회원번호",
                                    "도서명 또는 ISBN",
                                    "연장 요청"
                                ],
                                "outputs": [
                                    "대출 기간 연장"
                                ],
                                "nextEvents": [
                                    "BookReturned"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReturned",
                                "displayName": "도서 반납됨",
                                "actor": "Member",
                                "level": 6,
                                "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서명 또는 ISBN"
                                ],
                                "outputs": [
                                    "반납 기록",
                                    "도서 상태 변경"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            58
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            175
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDiscarded",
                                "displayName": "도서 폐기됨",
                                "actor": "Librarian",
                                "level": 7,
                                "description": "사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "inputs": [
                                    "도서명 또는 ISBN",
                                    "폐기 사유"
                                ],
                                "outputs": [
                                    "도서 상태 '폐기'"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoanHistoryRecorded",
                                "displayName": "도서 대출 이력 기록됨",
                                "actor": "System",
                                "level": 8,
                                "description": "도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.",
                                "inputs": [
                                    "도서 이벤트(대출/반납/연장)"
                                ],
                                "outputs": [
                                    "대출 이력"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusHistoryRecorded",
                                "displayName": "도서 상태 변경 이력 기록됨",
                                "actor": "System",
                                "level": 9,
                                "description": "도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.",
                                "inputs": [
                                    "도서 상태 변경 이벤트"
                                ],
                                "outputs": [
                                    "상태 변경 이력"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            60
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "actors": [
                            {
                                "name": "Librarian",
                                "events": [
                                    "BookRegistered",
                                    "BookDiscarded"
                                ],
                                "lane": 0
                            },
                            {
                                "name": "Member",
                                "events": [
                                    "BookLoaned",
                                    "BookReserved",
                                    "BookLoanExtended",
                                    "BookReturned"
                                ],
                                "lane": 1
                            },
                            {
                                "name": "System",
                                "events": [
                                    "BookStatusChanged",
                                    "BookLoanHistoryRecorded",
                                    "BookStatusHistoryRecorded"
                                ],
                                "lane": 2
                            }
                        ]
                    },
                    "currentGeneratedLength": 4776
                },
                "currentGeneratedLength": 4776,
                "timestamp": "2025-10-20T05:59:06.039Z"
            },
            {
                "uniqueId": "478b12e09dcbbf2525bc29777f370cdf",
                "type": "bcGenerationOption",
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "isAnalizing": false,
                "generateOption": {
                    "numberOfBCs": 4,
                    "selectedAspects": [
                        "도메인 복잡도 분리",
                        "프로세스(value stream) 기반 분리"
                    ],
                    "additionalOptions": "",
                    "aspectDetails": {},
                    "isProtocolMode": true,
                    "isGenerateFrontEnd": true
                },
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "이번 도메인 분석에서는 도서관의 업무를 네 가지 주요 비즈니스 역량(도서 관리, 대출/반납 관리, 예약 관리, 이력 관리)로 구분하는 것이 적합합니다. 1) 도서 관리(도서 등록, 상태 변경, 폐기 등)는 도서의 라이프사이클과 관련된 모든 업무를 담당합니다. 2) 대출/반납 관리는 회원 인증, 대출/반납 처리, 연장 등 대출 프로세스의 핵심을 담당합니다. 3) 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당하며, 대출/반납과 밀접하게 연계됩니다. 4) 이력 관리는 각 도서별 대출 및 상태 변경 이력의 저장과 조회를 담당합니다. 각 컨텍스트는 명확한 경계와 책임을 가지며, 비즈니스 규칙과 상태 전이의 복잡성, 그리고 액터 간 상호작용(예: 도서 상태 변경이 대출/예약/반납과 연계됨)에 따라 4개의 컨텍스트로 분리하는 것이 유지보수성과 확장성, 조직 내 역할 분담에 가장 적합합니다.",
                "timestamp": "2025-10-20T05:59:07.819Z"
            },
            {
                "uniqueId": "e809886c1f2a9fb9a24a3f4cd2cc7c5d",
                "type": "boundedContextResult",
                "result": {
                    "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                        "thoughts": "도메인 복잡도와 프로세스(value stream) 기반으로 분리를 요청하였으므로, 도서 관리(등록/폐기/상태), 대출/반납/연장, 예약 및 알림, 이력 관리로 분리하는 것이 가장 자연스럽습니다. 이벤트 흐름과 액터 책임, 그리고 각 프로세스의 복잡도와 비즈니스 차별성을 고려하였습니다. 예약 및 알림은 PBC(reservation-notification)로 제공되므로 Generic Domain으로 분리하였고, 나머지는 Core/Supporting Domain으로 분류하였습니다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되며, 이력 관리 등은 Supporting Domain으로 분리하여 복잡도와 책임을 분산하였습니다.",
                        "boundedContexts": [
                            {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "importance": "Core Domain",
                                "complexity": 0.7,
                                "differentiation": 0.9,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "events": [
                                    "BookRegistered",
                                    "BookDiscarded",
                                    "BookStatusChanged"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    4
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    4
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.",
                                "roleRefs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            304
                                        ]
                                    ]
                                ],
                                "commandInfos": [
                                    {
                                        "name": "RegisterBook",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "DiscardBook",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ChangeBookStatus",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    214
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    206
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "readModelInfos": [
                                    {
                                        "name": "BookList",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    31
                                                ],
                                                [
                                                    3,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookDetail",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "CategoryList",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "name": "LoanProcessing",
                                "alias": "대출/반납 처리",
                                "importance": "Core Domain",
                                "complexity": 0.8,
                                "differentiation": 0.85,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Member",
                                        "alias": "회원"
                                    }
                                ],
                                "events": [
                                    "BookLoaned",
                                    "BookLoanExtended",
                                    "BookReturned"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    12,
                                                    1
                                                ],
                                                [
                                                    22,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    115,
                                                    1
                                                ],
                                                [
                                                    128,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.",
                                "roleRefs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            169
                                        ]
                                    ]
                                ],
                                "commandInfos": [
                                    {
                                        "name": "LoanBook",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReserveBook",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    171
                                                ],
                                                [
                                                    5,
                                                    188
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReturnBook",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    28
                                                ],
                                                [
                                                    5,
                                                    40
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ExtendLoan",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "readModelInfos": [
                                    {
                                        "name": "LoanStatusList",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookSearch",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    96
                                                ],
                                                [
                                                    5,
                                                    117
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "name": "reservation-notification",
                                "alias": "예약 & 알림 서비스",
                                "importance": "Generic Domain",
                                "complexity": 0.5,
                                "differentiation": 0.2,
                                "implementationStrategy": "PBC: reservation-notification",
                                "aggregates": [
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "events": [
                                    "BookReserved"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    187
                                                ]
                                            ]
                                        ],
                                        "text": "예약 신청"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "text": "예약자가 있는 도서가 반납되면, 해당 도서는 '예약중"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    65,
                                                    4
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 기록\",\n    \"도서 상태 '예약중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        191\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    191
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서 예약 신청 및 예약 알림 기능을 제공하며, 예약 상태 변경 시 알림을 담당한다.",
                                "roleRefs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "commandInfos": [],
                                "readModelInfos": []
                            },
                            {
                                "name": "HistoryTracking",
                                "alias": "이력 관리",
                                "importance": "Supporting Domain",
                                "complexity": 0.6,
                                "differentiation": 0.5,
                                "implementationStrategy": "Transaction Script",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "StatusHistory",
                                        "alias": "상태 변경 이력"
                                    }
                                ],
                                "events": [
                                    "BookLoanHistoryRecorded",
                                    "BookStatusHistoryRecorded"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    12
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    12
                                                ],
                                                [
                                                    9,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "text": "력과 상"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    4
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    98,
                                                    4
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.",
                                "roleRefs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ],
                                "commandInfos": [],
                                "readModelInfos": [
                                    {
                                        "name": "BookLoanHistory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    49
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookStatusChangeHistory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    56
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "aggregates": [],
                                "alias": "프론트 엔드",
                                "complexity": "0.0",
                                "differentiation": "0.0",
                                "events": [],
                                "implementationStrategy": "Transaction Script",
                                "importance": "Generic Domain",
                                "name": "ui",
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    55
                                                ]
                                            ]
                                        ],
                                        "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    47
                                                ]
                                            ]
                                        ],
                                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                    }
                                ],
                                "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                                "commandInfos": [],
                                "readModelInfos": []
                            }
                        ],
                        "relations": [
                            {
                                "name": "BookManagement→LoanProcessing",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanProcessing",
                                    "alias": "대출/반납 처리"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanProcessing→reservation-notification",
                                "type": "Request/Response",
                                "upStream": {
                                    "name": "LoanProcessing",
                                    "alias": "대출/반납 처리"
                                },
                                "downStream": {
                                    "name": "reservation-notification",
                                    "alias": "예약 & 알림 서비스"
                                },
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanProcessing→HistoryTracking",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanProcessing",
                                    "alias": "대출/반납 처리"
                                },
                                "downStream": {
                                    "name": "HistoryTracking",
                                    "alias": "이력 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookManagement→HistoryTracking",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "HistoryTracking",
                                    "alias": "이력 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "explanations": [
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출/반납 처리",
                                "relationType": "Pub/Sub",
                                "reason": "도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.",
                                "interactionPattern": "도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            216
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 처리",
                                "targetContext": "예약 & 알림 서비스",
                                "relationType": "Request/Response",
                                "reason": "예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.",
                                "interactionPattern": "대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 처리",
                                "targetContext": "이력 관리",
                                "relationType": "Pub/Sub",
                                "reason": "대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.",
                                "interactionPattern": "대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "이력 관리",
                                "relationType": "Pub/Sub",
                                "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.",
                                "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            73
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                        "currentGeneratedLength": 5653
                    }
                },
                "isStartMapping": false,
                "isGeneratingBoundedContext": false,
                "isSummarizeStarted": false,
                "isAnalizing": false,
                "processingRate": 100,
                "currentProcessingBoundedContext": "프론트 엔드",
                "selectedAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "summarizedResult": {
                    "summary": "",
                    "refs": [],
                    "originalRequirements": ""
                },
                "pbcLists": [
                    {
                        "name": "chat-vue3-en",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "Chat service (Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                        "id": 20,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
                    },
                    {
                        "name": "review",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                        "description": "review",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                        "id": 22,
                        "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 23,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 24,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 25,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 26,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
                    },
                    {
                        "name": "payment-system",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                        "description": "결제를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                        "id": 27,
                        "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
                    },
                    {
                        "name": "document-management",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                        "description": "파일관리를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "### Instruction\n",
                        "id": 30,
                        "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
                    },
                    {
                        "name": "gitlab",
                        "rating": 5,
                        "imageUrl": null,
                        "description": "openapi.yaml",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## instruction\n",
                        "id": 34,
                        "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
                    },
                    {
                        "name": "PBC-Test",
                        "rating": 5,
                        "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                        "description": "Framework for rapidly and easily developing Java-based web applications.",
                        "tags": [
                            "PBC"
                        ],
                        "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                        "id": 35,
                        "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
                    }
                ],
                "currentGeneratedLength": 5653,
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "timestamp": "2025-10-20T05:59:10.130Z"
            },
            {
                "uniqueId": "807eddd29097c7fd0a0c21c127319658",
                "type": "siteMapViewer",
                "siteMap": [
                    {
                        "id": "node-1760940086072-d2qbflyo9",
                        "title": "도서관 도서 관리 및 대출 시스템",
                        "url": "",
                        "description": "도서관의 도서 등록, 상태 관리, 대출/반납/예약, 대출 현황 및 이력 추적을 위한 통합 관리 웹사이트",
                        "children": [
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "url": "/books",
                                "description": "도서 등록, 상태 관리, 폐기 등 도서의 라이프사이클을 관리하는 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "register-book",
                                        "title": "도서 등록",
                                        "url": "/도서-등록",
                                        "description": "새로운 도서를 등록하고, 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력합니다.",
                                        "reference": "RegisterBook",
                                        "children": []
                                    },
                                    {
                                        "id": "book-list",
                                        "title": "도서 목록",
                                        "url": "/도서-목록",
                                        "description": "현재 보유한 모든 도서의 목록과 상태 정보를 조회합니다.",
                                        "reference": "BookList",
                                        "children": []
                                    },
                                    {
                                        "id": "book-detail",
                                        "title": "도서 상세 정보",
                                        "url": "/도서-상세-정보",
                                        "description": "특정 도서의 상세 정보(도서명, ISBN, 저자, 출판사, 카테고리, 상태 등)를 조회합니다.",
                                        "reference": "BookDetail",
                                        "children": []
                                    },
                                    {
                                        "id": "category-list",
                                        "title": "카테고리 목록",
                                        "url": "/카테고리-목록",
                                        "description": "도서 등록 시 선택 가능한 카테고리(소설/비소설/학술/잡지) 목록을 제공합니다.",
                                        "reference": "CategoryList",
                                        "children": []
                                    },
                                    {
                                        "id": "discard-book",
                                        "title": "도서 폐기",
                                        "url": "/도서-폐기",
                                        "description": "훼손되거나 분실된 도서를 폐기 처리하여 더 이상 대출이 불가능하도록 합니다.",
                                        "reference": "DiscardBook",
                                        "children": []
                                    },
                                    {
                                        "id": "change-book-status",
                                        "title": "도서 상태 자동 변경",
                                        "url": "/도서-상태-자동-변경",
                                        "description": "도서의 대출/반납/예약 상황에 따라 도서 상태를 자동으로 변경합니다.",
                                        "reference": "ChangeBookStatus",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-processing",
                                "title": "대출/반납",
                                "url": "/loans",
                                "description": "회원 인증, 도서 대출/반납/연장, 예약 등 대출 프로세스를 관리하는 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "loan-book",
                                        "title": "도서 대출 신청",
                                        "url": "/도서-대출-신청",
                                        "description": "회원 인증 후 대출할 도서를 선택하고, 대출 기간을 지정하여 대출을 진행합니다.",
                                        "reference": "LoanBook",
                                        "children": []
                                    },
                                    {
                                        "id": "reserve-book",
                                        "title": "도서 예약 신청",
                                        "url": "/도서-예약-신청",
                                        "description": "대출 중인 도서에 대해 예약 신청을 할 수 있습니다.",
                                        "reference": "ReserveBook",
                                        "children": []
                                    },
                                    {
                                        "id": "return-book",
                                        "title": "도서 반납",
                                        "url": "/도서-반납",
                                        "description": "대출한 도서를 반납하여 도서의 상태를 변경하고, 예약자가 있는 경우 예약 상태로 전환합니다.",
                                        "reference": "ReturnBook",
                                        "children": []
                                    },
                                    {
                                        "id": "extend-loan",
                                        "title": "대출 연장",
                                        "url": "/대출-연장",
                                        "description": "대출 중인 도서에 대해 대출 기간을 연장할 수 있습니다.",
                                        "reference": "ExtendLoan",
                                        "children": []
                                    },
                                    {
                                        "id": "book-search",
                                        "title": "도서 검색",
                                        "url": "/도서-검색",
                                        "description": "도서명 또는 ISBN으로 도서를 검색하여 대출/예약 시 선택할 수 있도록 합니다.",
                                        "reference": "BookSearch",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-status",
                                "title": "대출 현황",
                                "url": "/loan-status",
                                "description": "현재 대출 중인 도서들의 목록과 대출 상태, 연장 및 반납 처리를 관리하는 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "loan-status-list",
                                        "title": "대출 현황 목록",
                                        "url": "/대출-현황-목록",
                                        "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 조회합니다.",
                                        "reference": "LoanStatusList",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "history-tracking",
                                "title": "이력 조회",
                                "url": "/history",
                                "description": "도서별 대출 이력과 상태 변경 이력을 조회하여 도서의 상태 변화를 추적하는 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "book-loan-history",
                                        "title": "도서 대출 이력",
                                        "url": "/도서-대출-이력",
                                        "description": "특정 도서별로 대출 이력을 조회하여 해당 도서의 대출 현황을 추적합니다.",
                                        "reference": "BookLoanHistory",
                                        "children": []
                                    },
                                    {
                                        "id": "book-status-change-history",
                                        "title": "도서 상태 변경 이력",
                                        "url": "/도서-상태-변경-이력",
                                        "description": "특정 도서의 상태 변경 이력을 조회하여 도서의 상태 변화 과정을 확인합니다.",
                                        "reference": "BookStatusChangeHistory",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "resultDevideBoundedContext": {
                    "thoughts": "도메인 복잡도와 프로세스(value stream) 기반으로 분리를 요청하였으므로, 도서 관리(등록/폐기/상태), 대출/반납/연장, 예약 및 알림, 이력 관리로 분리하는 것이 가장 자연스럽습니다. 이벤트 흐름과 액터 책임, 그리고 각 프로세스의 복잡도와 비즈니스 차별성을 고려하였습니다. 예약 및 알림은 PBC(reservation-notification)로 제공되므로 Generic Domain으로 분리하였고, 나머지는 Core/Supporting Domain으로 분류하였습니다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되며, 이력 관리 등은 Supporting Domain으로 분리하여 복잡도와 책임을 분산하였습니다.",
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "importance": "Core Domain",
                            "complexity": 0.7,
                            "differentiation": 0.9,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "events": [
                                "BookRegistered",
                                "BookDiscarded",
                                "BookStatusChanged"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                1,
                                                1
                                            ],
                                            [
                                                1,
                                                29
                                            ]
                                        ]
                                    ],
                                    "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                1
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ],
                                    "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                1
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ],
                                    "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                24,
                                                4
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                84,
                                                4
                                            ],
                                            [
                                                96,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                177
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                1
                                            ],
                                            [
                                                3,
                                                238
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                150
                                            ],
                                            [
                                                7,
                                                159
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                286
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.",
                            "roleRefs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        304
                                    ]
                                ]
                            ],
                            "commandInfos": [
                                {
                                    "name": "RegisterBook",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                105
                                            ],
                                            [
                                                3,
                                                128
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "DiscardBook",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ChangeBookStatus",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                191
                                            ],
                                            [
                                                3,
                                                241
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                214
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                150
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                206
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "readModelInfos": [
                                {
                                    "name": "BookList",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                31
                                            ],
                                            [
                                                3,
                                                48
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "BookDetail",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "CategoryList",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                136
                                            ],
                                            [
                                                3,
                                                163
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리",
                            "importance": "Core Domain",
                            "complexity": 0.8,
                            "differentiation": 0.85,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Member",
                                    "alias": "회원"
                                }
                            ],
                            "events": [
                                "BookLoaned",
                                "BookLoanExtended",
                                "BookReturned"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                1
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ]
                                    ],
                                    "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ]
                                    ],
                                    "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                12,
                                                1
                                            ],
                                            [
                                                22,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                1
                                            ],
                                            [
                                                112,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                115,
                                                1
                                            ],
                                            [
                                                128,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                23
                                            ],
                                            [
                                                5,
                                                203
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                110
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                58
                                            ],
                                            [
                                                7,
                                                59
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                175
                                            ],
                                            [
                                                7,
                                                203
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.",
                            "roleRefs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        169
                                    ]
                                ]
                            ],
                            "commandInfos": [
                                {
                                    "name": "LoanBook",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                126
                                            ],
                                            [
                                                5,
                                                152
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ReserveBook",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                171
                                            ],
                                            [
                                                5,
                                                188
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ReturnBook",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                28
                                            ],
                                            [
                                                5,
                                                40
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                133
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ExtendLoan",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                124
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "readModelInfos": [
                                {
                                    "name": "LoanStatusList",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                89
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "BookSearch",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                96
                                            ],
                                            [
                                                5,
                                                117
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "HistoryTracking",
                            "alias": "이력 관리",
                            "importance": "Supporting Domain",
                            "complexity": 0.6,
                            "differentiation": 0.5,
                            "implementationStrategy": "Transaction Script",
                            "aggregates": [
                                {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                {
                                    "name": "StatusHistory",
                                    "alias": "상태 변경 이력"
                                }
                            ],
                            "events": [
                                "BookLoanHistoryRecorded",
                                "BookStatusHistoryRecorded"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                12
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                12
                                            ],
                                            [
                                                9,
                                                15
                                            ]
                                        ]
                                    ],
                                    "text": "력과 상"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                84,
                                                4
                                            ],
                                            [
                                                96,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                98,
                                                4
                                            ],
                                            [
                                                112,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                53
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                60
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.",
                            "roleRefs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        73
                                    ]
                                ]
                            ],
                            "commandInfos": [],
                            "readModelInfos": [
                                {
                                    "name": "BookLoanHistory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                29
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                49
                                            ],
                                            [
                                                9,
                                                67
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "BookStatusChangeHistory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                29
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                56
                                            ],
                                            [
                                                9,
                                                67
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        }
                    ],
                    "relations": [
                        {
                            "name": "BookManagement→LoanProcessing",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanProcessing",
                                "alias": "대출/반납 처리"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        7,
                                        216
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanProcessing→reservation-notification",
                            "type": "Request/Response",
                            "upStream": {
                                "name": "LoanProcessing",
                                "alias": "대출/반납 처리"
                            },
                            "downStream": {
                                "name": "reservation-notification",
                                "alias": "예약 & 알림 서비스"
                            },
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        7,
                                        184
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanProcessing→HistoryTracking",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanProcessing",
                                "alias": "대출/반납 처리"
                            },
                            "downStream": {
                                "name": "HistoryTracking",
                                "alias": "이력 관리"
                            },
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        73
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookManagement→HistoryTracking",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "HistoryTracking",
                                "alias": "이력 관리"
                            },
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        73
                                    ]
                                ]
                            ]
                        }
                    ],
                    "explanations": [
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출/반납 처리",
                            "relationType": "Pub/Sub",
                            "reason": "도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.",
                            "interactionPattern": "도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        7,
                                        216
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 처리",
                            "targetContext": "예약 & 알림 서비스",
                            "relationType": "Request/Response",
                            "reason": "예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.",
                            "interactionPattern": "대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        7,
                                        184
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 처리",
                            "targetContext": "이력 관리",
                            "relationType": "Pub/Sub",
                            "reason": "대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.",
                            "interactionPattern": "대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        73
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "이력 관리",
                            "relationType": "Pub/Sub",
                            "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.",
                            "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        73
                                    ]
                                ]
                            ]
                        }
                    ],
                    "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                    "currentGeneratedLength": 5653
                },
                "isGenerating": false,
                "processingRate": 0,
                "currentChunk": 0,
                "totalChunks": 0,
                "currentGeneratedLength": 0,
                "commandReadModelData": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "commands": [
                                {
                                    "name": "RegisterBook",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "description": "관리자가 새로운 도서를 등록하고, 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력하여 도서 정보를 시스템에 추가합니다. 등록 시 ISBN 중복 및 유효성 검증이 수행됩니다.",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                105
                                            ],
                                            [
                                                3,
                                                128
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "DiscardBook",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "description": "관리자가 훼손되거나 분실된 도서를 폐기 처리하여 더 이상 대출이 불가능하도록 합니다.",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ChangeBookStatus",
                                    "actor": "system",
                                    "aggregate": "Book",
                                    "description": "도서의 대출/반납/예약 상황에 따라 도서 상태를 '대출가능', '대출중', '예약중', '폐기' 등으로 자동 변경합니다.",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                191
                                            ],
                                            [
                                                3,
                                                241
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                214
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                150
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                206
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "readModels": [
                                {
                                    "name": "BookList",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "description": "현재 보유한 모든 도서의 목록과 상태 정보를 조회합니다.",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                31
                                            ],
                                            [
                                                3,
                                                48
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "BookDetail",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": false,
                                    "description": "특정 도서의 상세 정보(도서명, ISBN, 저자, 출판사, 카테고리, 상태 등)를 조회합니다.",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "CategoryList",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "description": "도서 등록 시 선택 가능한 카테고리(소설/비소설/학술/잡지) 목록을 제공합니다.",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                136
                                            ],
                                            [
                                                3,
                                                163
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "LoanProcessing",
                            "commands": [
                                {
                                    "name": "LoanBook",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "description": "회원이 도서를 대출 신청할 때 회원 인증(회원번호, 이름 확인) 후 대출할 도서를 선택하고, 대출 기간을 지정하여 대출을 진행합니다.",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                126
                                            ],
                                            [
                                                5,
                                                152
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ReserveBook",
                                    "actor": "user",
                                    "aggregate": "Reservation",
                                    "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서에 대해 예약 신청을 할 수 있습니다.",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                171
                                            ],
                                            [
                                                5,
                                                188
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ReturnBook",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "description": "회원이 대출한 도서를 반납하여 도서의 상태를 변경하고, 예약자가 있는 경우 예약 상태로 전환합니다.",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                28
                                            ],
                                            [
                                                5,
                                                40
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                133
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "ExtendLoan",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "description": "대출 중인 도서에 대해 회원이 대출 기간을 연장할 수 있습니다.",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                124
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "readModels": [
                                {
                                    "name": "LoanStatusList",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": true,
                                    "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 조회합니다.",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                89
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "BookSearch",
                                    "actor": "user",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "description": "도서명 또는 ISBN으로 도서를 검색하여 대출/예약 시 선택할 수 있도록 합니다.",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                96
                                            ],
                                            [
                                                5,
                                                117
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "HistoryTracking",
                            "commands": [],
                            "readModels": [
                                {
                                    "name": "BookLoanHistory",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "description": "특정 도서별로 대출 이력을 조회하여 해당 도서의 대출 현황을 추적합니다.",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                29
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                49
                                            ],
                                            [
                                                9,
                                                67
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "name": "BookStatusChangeHistory",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "description": "특정 도서의 상태 변경 이력을 조회하여 도서의 상태 변화 과정을 확인합니다.",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                29
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                56
                                            ],
                                            [
                                                9,
                                                67
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "timestamp": "2025-10-20T06:00:57.649Z",
                "currentProcessingStep": "generatingSiteMap"
            },
            {
                "type": "aggregateDraftDialogDto",
                "uniqueId": "1760940111714",
                "isShow": true,
                "draftOptions": [
                    {
                        "boundedContext": "BookManagement",
                        "boundedContextAlias": "도서 관리",
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        304
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        10
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            184
                                                        ],
                                                        [
                                                            3,
                                                            266
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            10
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            90
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            12
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "ISBN",
                                                "alias": "ISBN",
                                                "referencedAggregateName": "",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            72
                                                        ],
                                                        [
                                                            3,
                                                            75
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            8
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "StatusHistoryReference",
                                                "alias": "상태 변경 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "StatusHistory",
                                                    "alias": "상태 변경 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            22
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            84,
                                                            4
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            12
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서의 등록, 상태 변경, 폐기 등 모든 라이프사이클 관리가 Book Aggregate 내에서 일관되게 처리되어 강한 응집도를 가집니다.",
                                    "coupling": "외부 컨텍스트(대출, 이력)와의 관계는 ValueObject 참조 및 이벤트 발행으로만 연결되어 결합도가 낮습니다.",
                                    "consistency": "도서 상태 변경, ISBN 중복 검증 등 핵심 비즈니스 규칙이 하나의 트랜잭션 경계 내에서 원자적으로 보장됩니다.",
                                    "encapsulation": "도서 상태 전환, 폐기 등 도메인 규칙이 Aggregate 내부에 캡슐화되어 외부에서 임의로 변경할 수 없습니다.",
                                    "complexity": "단일 Aggregate로 구조가 단순하며, 도서 관리 화면 및 이벤트 처리 로직이 일관성 있게 구현됩니다.",
                                    "independence": "도서 관리 정책 변경 시 Book Aggregate만 수정하면 되어, 다른 컨텍스트와의 독립성이 높습니다.",
                                    "performance": "도서 상태 변경, 등록, 폐기 등 대부분의 작업이 단일 Aggregate에서 처리되어 쿼리 효율이 높고, 이벤트 발행도 단순합니다."
                                },
                                "cons": {
                                    "cohesion": "카테고리 관리나 확장(예: 다국어 지원 등)이 필요할 경우 Book Aggregate가 비대해질 수 있습니다.",
                                    "coupling": "카테고리 변경 등 도서 외적 속성 확장 시 Aggregate 전체를 수정해야 하므로, 일부 변경이 전체에 영향을 줄 수 있습니다.",
                                    "consistency": "카테고리나 기타 부가 정보가 복잡해질 경우, 상태 일관성 유지에 추가적인 로직이 필요할 수 있습니다.",
                                    "encapsulation": "모든 도서 관련 로직이 한 곳에 집중되어, 역할 분리가 다소 약화될 수 있습니다.",
                                    "complexity": "카테고리, 상태, 이력 등 다양한 기능이 추가될수록 Aggregate가 점점 복잡해질 수 있습니다.",
                                    "independence": "카테고리 관리 등 일부 기능의 독립적 확장이 어렵습니다.",
                                    "performance": "도서 수가 많아질수록 단일 Aggregate에 대한 동시 접근이 증가해 잠금 경합이 발생할 수 있습니다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "19": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandInfos": [
                                            {
                                                "name": "RegisterBook",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "DiscardBook",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ChangeBookStatus",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            214
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            206
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "commandNames": [
                                            "RegisterBook",
                                            "DiscardBook",
                                            "ChangeBookStatus"
                                        ],
                                        "readModelInfos": [
                                            {
                                                "name": "BookList",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            31
                                                        ],
                                                        [
                                                            3,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookDetail",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "CategoryList",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "readModelNames": [
                                            "BookList",
                                            "BookDetail",
                                            "CategoryList"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        304
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        10
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            184
                                                        ],
                                                        [
                                                            3,
                                                            266
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            10
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "ISBN",
                                                "alias": "ISBN",
                                                "referencedAggregateName": "",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            72
                                                        ],
                                                        [
                                                            3,
                                                            75
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            8
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategoryReference",
                                                "alias": "도서 카테고리 참조",
                                                "referencedAggregate": {
                                                    "name": "BookCategory",
                                                    "alias": "도서 카테고리"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            90
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            12
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "StatusHistoryReference",
                                                "alias": "상태 변경 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "StatusHistory",
                                                    "alias": "상태 변경 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            22
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            84,
                                                            4
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            12
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "BookCategory",
                                            "alias": "도서 카테고리",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        304
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        90
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        5
                                                    ],
                                                    [
                                                        31,
                                                        12
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookCategoryType",
                                                "alias": "카테고리 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            142
                                                        ],
                                                        [
                                                            3,
                                                            153
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            14
                                                        ],
                                                        [
                                                            31,
                                                            40
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [],
                                        "previewAttributes": []
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서 정보와 카테고리 관리가 분리되어 각 Aggregate가 명확한 책임을 가집니다.",
                                    "coupling": "카테고리 확장, 다국어 지원 등 BookCategory Aggregate만 수정하면 되므로 결합도가 낮아집니다.",
                                    "consistency": "도서 상태 변경 등 핵심 비즈니스 규칙은 Book Aggregate 내에서 보장되고, 카테고리 관리 규칙은 별도 Aggregate에서 관리됩니다.",
                                    "encapsulation": "카테고리 관리 로직이 별도 Aggregate에 캡슐화되어, 도서 관리와 독립적으로 발전시킬 수 있습니다.",
                                    "complexity": "카테고리 관리, 도서 관리가 분리되어 각 도메인별 복잡도가 낮아지고, 유지보수가 쉬워집니다.",
                                    "independence": "카테고리 정책 변경, 신규 카테고리 추가 등 BookCategory Aggregate만 독립적으로 확장할 수 있습니다.",
                                    "performance": "카테고리 변경, 조회 등은 BookCategory Aggregate에서 독립적으로 처리되어, 도서 관리와 분산 처리 및 확장이 용이합니다."
                                },
                                "cons": {
                                    "cohesion": "도서 등록, 상태 변경 시 카테고리 참조가 필요해 두 Aggregate 간 연동이 필수적입니다.",
                                    "coupling": "도서와 카테고리 간 참조가 추가되어, 일부 트랜잭션에서 두 Aggregate 동시 접근이 필요할 수 있습니다.",
                                    "consistency": "카테고리 변경이 도서에 미치는 영향(예: 카테고리 삭제 시 도서 처리 등)에 대한 추가 일관성 관리가 필요합니다.",
                                    "encapsulation": "도서 상태 변경과 카테고리 변경이 분리되어, 복합 비즈니스 규칙 구현 시 애플리케이션 서비스 계층에서 조정이 필요합니다.",
                                    "complexity": "두 Aggregate 간 연동 로직 및 참조 관리가 추가되어 전체 시스템 복잡도가 증가할 수 있습니다.",
                                    "independence": "도서 등록, 상태 변경 등 일부 작업에서 BookCategory Aggregate의 상태에 의존하게 됩니다.",
                                    "performance": "도서와 카테고리 정보를 동시에 조회할 때 조인 또는 추가 쿼리가 필요해 성능에 영향이 있을 수 있습니다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            304
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "19": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            177
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            159
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandInfos": [
                                            {
                                                "name": "RegisterBook",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "DiscardBook",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ChangeBookStatus",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            214
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            206
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "commandNames": [
                                            "RegisterBook",
                                            "DiscardBook",
                                            "ChangeBookStatus"
                                        ],
                                        "readModelInfos": [
                                            {
                                                "name": "BookList",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            31
                                                        ],
                                                        [
                                                            3,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookDetail",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "CategoryList",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "readModelNames": [
                                            "BookList",
                                            "BookDetail",
                                            "CategoryList"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션 1은 도서 관리가 단순하고 카테고리 정책이 자주 바뀌지 않는 소규모 도서관에 적합합니다. 옵션 2는 카테고리 확장, 다국어 지원, 정책 변경 등 카테고리 관리의 독립성과 확장성이 중요한 중대형 도서관에 적합하며, 도메인 분리와 유지보수성 측면에서 권장됩니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항 분석 결과, 도서의 라이프사이클 관리와 상태 변경, ISBN 중복 검증, 카테고리 관리, 상태 변경 이력 추적이 핵심임을 확인했습니다. 이벤트와 DDL, 컨텍스트 관계를 고려하여, 첫 번째 옵션은 Book 단일 Aggregate로 모든 도서 관련 정보를 집중시켜 강한 일관성을 보장합니다. 두 번째 옵션은 Book과 BookCategory 두 개의 Aggregate로 분리하여 카테고리 관리의 독립성과 확장성을 확보합니다."
                    },
                    {
                        "boundedContext": "LoanProcessing",
                        "boundedContextAlias": "대출/반납 처리",
                        "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        169
                                                    ]
                                                ],
                                                [
                                                    [
                                                        45,
                                                        14
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            65
                                                        ],
                                                        [
                                                            7,
                                                            81
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 처리 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            100
                                                        ],
                                                        [
                                                            5,
                                                            109
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "MemberReference",
                                                "alias": "회원 참조",
                                                "referencedAggregate": {
                                                    "name": "Member",
                                                    "alias": "회원"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            13
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            62
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            14
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            58
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            117,
                                                            5
                                                        ],
                                                        [
                                                            117,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            71
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_id",
                                                "refs": [
                                                    [
                                                        [
                                                            116,
                                                            5
                                                        ],
                                                        [
                                                            116,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_days",
                                                "refs": [
                                                    [
                                                        [
                                                            118,
                                                            5
                                                        ],
                                                        [
                                                            118,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_amount",
                                                "refs": [
                                                    [
                                                        [
                                                            119,
                                                            5
                                                        ],
                                                        [
                                                            119,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_paid",
                                                "refs": [
                                                    [
                                                        [
                                                            120,
                                                            5
                                                        ],
                                                        [
                                                            120,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_count",
                                                "refs": [
                                                    [
                                                        [
                                                            121,
                                                            5
                                                        ],
                                                        [
                                                            121,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "last_notification_date",
                                                "refs": [
                                                    [
                                                        [
                                                            122,
                                                            5
                                                        ],
                                                        [
                                                            122,
                                                            40
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Member",
                                            "alias": "회원",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        169
                                                    ]
                                                ],
                                                [
                                                    [
                                                        12,
                                                        14
                                                    ],
                                                    [
                                                        12,
                                                        22
                                                    ]
                                                ],
                                                [
                                                    [
                                                        13,
                                                        1
                                                    ],
                                                    [
                                                        13,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        14,
                                                        1
                                                    ],
                                                    [
                                                        14,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        15,
                                                        1
                                                    ],
                                                    [
                                                        15,
                                                        22
                                                    ]
                                                ],
                                                [
                                                    [
                                                        16,
                                                        1
                                                    ],
                                                    [
                                                        16,
                                                        23
                                                    ]
                                                ],
                                                [
                                                    [
                                                        17,
                                                        1
                                                    ],
                                                    [
                                                        17,
                                                        17
                                                    ]
                                                ],
                                                [
                                                    [
                                                        18,
                                                        1
                                                    ],
                                                    [
                                                        18,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        19,
                                                        1
                                                    ],
                                                    [
                                                        19,
                                                        68
                                                    ]
                                                ],
                                                [
                                                    [
                                                        20,
                                                        1
                                                    ],
                                                    [
                                                        20,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        21,
                                                        1
                                                    ],
                                                    [
                                                        21,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        22,
                                                        1
                                                    ],
                                                    [
                                                        22,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        75
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "MemberStatus",
                                                "alias": "회원 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            5
                                                        ],
                                                        [
                                                            13,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_name",
                                                "refs": [
                                                    [
                                                        [
                                                            14,
                                                            5
                                                        ],
                                                        [
                                                            14,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "phone",
                                                "refs": [
                                                    [
                                                        [
                                                            15,
                                                            5
                                                        ],
                                                        [
                                                            15,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "email",
                                                "refs": [
                                                    [
                                                        [
                                                            16,
                                                            5
                                                        ],
                                                        [
                                                            16,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "address",
                                                "refs": [
                                                    [
                                                        [
                                                            17,
                                                            5
                                                        ],
                                                        [
                                                            17,
                                                            16
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            18,
                                                            5
                                                        ],
                                                        [
                                                            18,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            5
                                                        ],
                                                        [
                                                            20,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            123,
                                                            5
                                                        ],
                                                        [
                                                            123,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            5
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            124,
                                                            5
                                                        ],
                                                        [
                                                            124,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출 트랜잭션과 회원 정보가 각각의 Aggregate에 집중되어 있어 각자의 책임이 명확하다.",
                                    "coupling": "Book, LoanHistory 등 외부 Aggregate는 ValueObject 참조로만 연결되어 결합도가 낮다.",
                                    "consistency": "대출 생성, 연장, 반납 등 주요 비즈니스 규칙이 Loan Aggregate 내부에서 원자적으로 보장된다.",
                                    "encapsulation": "대출 상태 전이, 연장, 반납 로직이 Loan Aggregate 내부에 캡슐화되어 도메인 규칙 노출이 최소화된다.",
                                    "complexity": "Aggregate 수가 적어 전체 구조가 단순하고 유지보수가 용이하다.",
                                    "independence": "대출과 회원 관리가 독립적으로 진화할 수 있다.",
                                    "performance": "대출 관련 조회 및 변경이 단일 Aggregate 내에서 처리되어 트랜잭션 효율이 높다."
                                },
                                "cons": {
                                    "cohesion": "연체 관리, 벌금 등 확장 요구가 발생할 경우 Loan Aggregate가 비대해질 수 있다.",
                                    "coupling": "연체, 벌금 등 추가 도메인 개념이 Loan에 집중되어 결합도가 증가할 수 있다.",
                                    "consistency": "연체 기록 등 세부 관리가 Loan 내부에 포함되면 트랜잭션 경계가 커질 수 있다.",
                                    "encapsulation": "Loan이 너무 많은 책임을 가지면 도메인 규칙 분리가 어려워질 수 있다.",
                                    "complexity": "대출, 연장, 반납, 연체 등 다양한 상태와 로직이 Loan에 집중되어 복잡도가 증가할 수 있다.",
                                    "independence": "연체 관리 등 신규 기능 추가 시 Loan에 영향이 커진다.",
                                    "performance": "Loan에 연체 정보까지 포함하면 빈번한 업데이트로 인한 성능 저하가 발생할 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanProcessing",
                                    "alias": "대출/반납 처리",
                                    "displayName": "대출/반납 처리",
                                    "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Member",
                                            "alias": "회원"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
                                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoaned, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            5
                                                        ],
                                                        [
                                                            13,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_name",
                                                "refs": [
                                                    [
                                                        [
                                                            14,
                                                            5
                                                        ],
                                                        [
                                                            14,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "phone",
                                                "refs": [
                                                    [
                                                        [
                                                            15,
                                                            5
                                                        ],
                                                        [
                                                            15,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "email",
                                                "refs": [
                                                    [
                                                        [
                                                            16,
                                                            5
                                                        ],
                                                        [
                                                            16,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "address",
                                                "refs": [
                                                    [
                                                        [
                                                            17,
                                                            5
                                                        ],
                                                        [
                                                            17,
                                                            16
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            18,
                                                            5
                                                        ],
                                                        [
                                                            18,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            5
                                                        ],
                                                        [
                                                            20,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            123,
                                                            5
                                                        ],
                                                        [
                                                            123,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            5
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            124,
                                                            5
                                                        ],
                                                        [
                                                            124,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            117,
                                                            5
                                                        ],
                                                        [
                                                            117,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            71
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_id",
                                                "refs": [
                                                    [
                                                        [
                                                            116,
                                                            5
                                                        ],
                                                        [
                                                            116,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_days",
                                                "refs": [
                                                    [
                                                        [
                                                            118,
                                                            5
                                                        ],
                                                        [
                                                            118,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_amount",
                                                "refs": [
                                                    [
                                                        [
                                                            119,
                                                            5
                                                        ],
                                                        [
                                                            119,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_paid",
                                                "refs": [
                                                    [
                                                        [
                                                            120,
                                                            5
                                                        ],
                                                        [
                                                            120,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_count",
                                                "refs": [
                                                    [
                                                        [
                                                            121,
                                                            5
                                                        ],
                                                        [
                                                            121,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "last_notification_date",
                                                "refs": [
                                                    [
                                                        [
                                                            122,
                                                            5
                                                        ],
                                                        [
                                                            122,
                                                            40
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            169
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "19": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            12,
                                                            1
                                                        ],
                                                        [
                                                            12,
                                                            22
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            1
                                                        ],
                                                        [
                                                            13,
                                                            38
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            14,
                                                            1
                                                        ],
                                                        [
                                                            14,
                                                            38
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            15,
                                                            1
                                                        ],
                                                        [
                                                            15,
                                                            22
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            16,
                                                            1
                                                        ],
                                                        [
                                                            16,
                                                            23
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            17,
                                                            1
                                                        ],
                                                        [
                                                            17,
                                                            17
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            18,
                                                            1
                                                        ],
                                                        [
                                                            18,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            1
                                                        ],
                                                        [
                                                            19,
                                                            68
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            1
                                                        ],
                                                        [
                                                            20,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            1
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            22,
                                                            1
                                                        ],
                                                        [
                                                            22,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            115,
                                                            1
                                                        ],
                                                        [
                                                            115,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            116,
                                                            1
                                                        ],
                                                        [
                                                            116,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            117,
                                                            1
                                                        ],
                                                        [
                                                            117,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            118,
                                                            1
                                                        ],
                                                        [
                                                            118,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            119,
                                                            1
                                                        ],
                                                        [
                                                            119,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            120,
                                                            1
                                                        ],
                                                        [
                                                            120,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            121,
                                                            1
                                                        ],
                                                        [
                                                            121,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            122,
                                                            1
                                                        ],
                                                        [
                                                            122,
                                                            41
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            123,
                                                            1
                                                        ],
                                                        [
                                                            123,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            124,
                                                            1
                                                        ],
                                                        [
                                                            124,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            125,
                                                            1
                                                        ],
                                                        [
                                                            125,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            126,
                                                            1
                                                        ],
                                                        [
                                                            126,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            127,
                                                            1
                                                        ],
                                                        [
                                                            127,
                                                            41
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            128,
                                                            1
                                                        ],
                                                        [
                                                            128,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandInfos": [
                                            {
                                                "name": "LoanBook",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReserveBook",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            171
                                                        ],
                                                        [
                                                            5,
                                                            188
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReturnBook",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            28
                                                        ],
                                                        [
                                                            5,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ExtendLoan",
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "commandNames": [
                                            "LoanBook",
                                            "ReserveBook",
                                            "ReturnBook",
                                            "ExtendLoan"
                                        ],
                                        "readModelInfos": [
                                            {
                                                "name": "LoanStatusList",
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookSearch",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            96
                                                        ],
                                                        [
                                                            5,
                                                            117
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "readModelNames": [
                                            "LoanStatusList",
                                            "BookSearch"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        169
                                                    ]
                                                ],
                                                [
                                                    [
                                                        45,
                                                        14
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            65
                                                        ],
                                                        [
                                                            7,
                                                            81
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 처리 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            100
                                                        ],
                                                        [
                                                            5,
                                                            109
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "MemberReference",
                                                "alias": "회원 참조",
                                                "referencedAggregate": {
                                                    "name": "Member",
                                                    "alias": "회원"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            13
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            62
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            14
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            58
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            117,
                                                            5
                                                        ],
                                                        [
                                                            117,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            5
                                                        ],
                                                        [
                                                            13,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            71
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            5
                                                        ],
                                                        [
                                                            20,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            123,
                                                            5
                                                        ],
                                                        [
                                                            123,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            5
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            124,
                                                            5
                                                        ],
                                                        [
                                                            124,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Member",
                                            "alias": "회원",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        169
                                                    ]
                                                ],
                                                [
                                                    [
                                                        12,
                                                        14
                                                    ],
                                                    [
                                                        12,
                                                        22
                                                    ]
                                                ],
                                                [
                                                    [
                                                        13,
                                                        1
                                                    ],
                                                    [
                                                        13,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        14,
                                                        1
                                                    ],
                                                    [
                                                        14,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        15,
                                                        1
                                                    ],
                                                    [
                                                        15,
                                                        22
                                                    ]
                                                ],
                                                [
                                                    [
                                                        16,
                                                        1
                                                    ],
                                                    [
                                                        16,
                                                        23
                                                    ]
                                                ],
                                                [
                                                    [
                                                        17,
                                                        1
                                                    ],
                                                    [
                                                        17,
                                                        17
                                                    ]
                                                ],
                                                [
                                                    [
                                                        18,
                                                        1
                                                    ],
                                                    [
                                                        18,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        19,
                                                        1
                                                    ],
                                                    [
                                                        19,
                                                        68
                                                    ]
                                                ],
                                                [
                                                    [
                                                        20,
                                                        1
                                                    ],
                                                    [
                                                        20,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        21,
                                                        1
                                                    ],
                                                    [
                                                        21,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        22,
                                                        1
                                                    ],
                                                    [
                                                        22,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        75
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "MemberStatus",
                                                "alias": "회원 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            5
                                                        ],
                                                        [
                                                            13,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_name",
                                                "refs": [
                                                    [
                                                        [
                                                            14,
                                                            5
                                                        ],
                                                        [
                                                            14,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "phone",
                                                "refs": [
                                                    [
                                                        [
                                                            15,
                                                            5
                                                        ],
                                                        [
                                                            15,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "email",
                                                "refs": [
                                                    [
                                                        [
                                                            16,
                                                            5
                                                        ],
                                                        [
                                                            16,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "address",
                                                "refs": [
                                                    [
                                                        [
                                                            17,
                                                            5
                                                        ],
                                                        [
                                                            17,
                                                            16
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            18,
                                                            5
                                                        ],
                                                        [
                                                            18,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            5
                                                        ],
                                                        [
                                                            20,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            123,
                                                            5
                                                        ],
                                                        [
                                                            123,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            5
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            124,
                                                            5
                                                        ],
                                                        [
                                                            124,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "OverdueRecord",
                                            "alias": "연체 기록",
                                            "refs": [
                                                [
                                                    [
                                                        115,
                                                        14
                                                    ],
                                                    [
                                                        115,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        116,
                                                        1
                                                    ],
                                                    [
                                                        116,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        117,
                                                        1
                                                    ],
                                                    [
                                                        117,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        118,
                                                        1
                                                    ],
                                                    [
                                                        118,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        119,
                                                        1
                                                    ],
                                                    [
                                                        119,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        120,
                                                        1
                                                    ],
                                                    [
                                                        120,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        121,
                                                        1
                                                    ],
                                                    [
                                                        121,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        122,
                                                        1
                                                    ],
                                                    [
                                                        122,
                                                        41
                                                    ]
                                                ],
                                                [
                                                    [
                                                        123,
                                                        1
                                                    ],
                                                    [
                                                        123,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        124,
                                                        1
                                                    ],
                                                    [
                                                        124,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        125,
                                                        1
                                                    ],
                                                    [
                                                        125,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        126,
                                                        1
                                                    ],
                                                    [
                                                        126,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        127,
                                                        1
                                                    ],
                                                    [
                                                        127,
                                                        41
                                                    ]
                                                ],
                                                [
                                                    [
                                                        128,
                                                        1
                                                    ],
                                                    [
                                                        128,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        75
                                                    ],
                                                    [
                                                        7,
                                                        76
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            117,
                                                            5
                                                        ],
                                                        [
                                                            117,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            18
                                                        ],
                                                        [
                                                            108,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "overdue_id",
                                                "refs": [
                                                    [
                                                        [
                                                            116,
                                                            5
                                                        ],
                                                        [
                                                            116,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            117,
                                                            5
                                                        ],
                                                        [
                                                            117,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_days",
                                                "refs": [
                                                    [
                                                        [
                                                            118,
                                                            5
                                                        ],
                                                        [
                                                            118,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_amount",
                                                "refs": [
                                                    [
                                                        [
                                                            119,
                                                            5
                                                        ],
                                                        [
                                                            119,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_paid",
                                                "refs": [
                                                    [
                                                        [
                                                            120,
                                                            5
                                                        ],
                                                        [
                                                            120,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_count",
                                                "refs": [
                                                    [
                                                        [
                                                            121,
                                                            5
                                                        ],
                                                        [
                                                            121,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "last_notification_date",
                                                "refs": [
                                                    [
                                                        [
                                                            122,
                                                            5
                                                        ],
                                                        [
                                                            122,
                                                            40
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            5
                                                        ],
                                                        [
                                                            20,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            123,
                                                            5
                                                        ],
                                                        [
                                                            123,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            5
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            124,
                                                            5
                                                        ],
                                                        [
                                                            124,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "연체 관리가 OverdueRecord Aggregate로 분리되어 각 Aggregate가 단일 책임 원칙을 잘 지킨다.",
                                    "coupling": "Loan과 OverdueRecord가 ValueObject 참조로만 연결되어 결합도가 낮고, 확장성이 높다.",
                                    "consistency": "Loan과 OverdueRecord 각각의 트랜잭션 경계가 작아져 동시성 및 성능 이점이 있다.",
                                    "encapsulation": "연체, 벌금, 알림 등 연체 관련 로직이 OverdueRecord에 집중되어 도메인 규칙 분리가 명확하다.",
                                    "complexity": "연체 관리, 벌금 등 도메인 확장 시 구조가 자연스럽게 확장된다.",
                                    "independence": "연체 정책 변경, 벌금 로직 추가 등 OverdueRecord만 독립적으로 진화 가능하다.",
                                    "performance": "Loan과 OverdueRecord가 분리되어 빈번한 연체 업데이트가 Loan 성능에 영향을 주지 않는다."
                                },
                                "cons": {
                                    "cohesion": "대출 상태와 연체 상태가 분리되어 있어 전체 대출 현황 파악 시 여러 Aggregate를 조합해야 한다.",
                                    "coupling": "연체 발생 시 Loan과 OverdueRecord 간의 데이터 동기화가 필요하다.",
                                    "consistency": "대출 반납과 연체 해소가 동시에 일어날 때 일관성 보장이 어렵고, eventual consistency 패턴이 필요하다.",
                                    "encapsulation": "대출 상태와 연체 상태를 함께 다루는 복합 비즈니스 규칙은 서비스 계층에서 처리해야 한다.",
                                    "complexity": "대출 현황, 연체 현황 등 통합 조회 시 조인 및 오케스트레이션 로직이 필요하다.",
                                    "independence": "대출/반납과 연체 관리가 분리되어 있으나, 실제 업무에서는 긴밀한 협력이 필요하다.",
                                    "performance": "대출 및 연체 현황 통합 조회 시 여러 Aggregate를 조회해야 하므로 쿼리 복잡도가 증가한다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanProcessing",
                                    "alias": "대출/반납 처리",
                                    "displayName": "대출/반납 처리",
                                    "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Member",
                                            "alias": "회원"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
                                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoaned, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            5
                                                        ],
                                                        [
                                                            13,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_name",
                                                "refs": [
                                                    [
                                                        [
                                                            14,
                                                            5
                                                        ],
                                                        [
                                                            14,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "phone",
                                                "refs": [
                                                    [
                                                        [
                                                            15,
                                                            5
                                                        ],
                                                        [
                                                            15,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "email",
                                                "refs": [
                                                    [
                                                        [
                                                            16,
                                                            5
                                                        ],
                                                        [
                                                            16,
                                                            22
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "address",
                                                "refs": [
                                                    [
                                                        [
                                                            17,
                                                            5
                                                        ],
                                                        [
                                                            17,
                                                            16
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            18,
                                                            5
                                                        ],
                                                        [
                                                            18,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            5
                                                        ],
                                                        [
                                                            19,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            5
                                                        ],
                                                        [
                                                            20,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            123,
                                                            5
                                                        ],
                                                        [
                                                            123,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            5
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            124,
                                                            5
                                                        ],
                                                        [
                                                            124,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            117,
                                                            5
                                                        ],
                                                        [
                                                            117,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            71
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_id",
                                                "refs": [
                                                    [
                                                        [
                                                            116,
                                                            5
                                                        ],
                                                        [
                                                            116,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "overdue_days",
                                                "refs": [
                                                    [
                                                        [
                                                            118,
                                                            5
                                                        ],
                                                        [
                                                            118,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_amount",
                                                "refs": [
                                                    [
                                                        [
                                                            119,
                                                            5
                                                        ],
                                                        [
                                                            119,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "fine_paid",
                                                "refs": [
                                                    [
                                                        [
                                                            120,
                                                            5
                                                        ],
                                                        [
                                                            120,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_count",
                                                "refs": [
                                                    [
                                                        [
                                                            121,
                                                            5
                                                        ],
                                                        [
                                                            121,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "last_notification_date",
                                                "refs": [
                                                    [
                                                        [
                                                            122,
                                                            5
                                                        ],
                                                        [
                                                            122,
                                                            40
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            169
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "19": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            12,
                                                            1
                                                        ],
                                                        [
                                                            12,
                                                            22
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            13,
                                                            1
                                                        ],
                                                        [
                                                            13,
                                                            38
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            14,
                                                            1
                                                        ],
                                                        [
                                                            14,
                                                            38
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            15,
                                                            1
                                                        ],
                                                        [
                                                            15,
                                                            22
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            16,
                                                            1
                                                        ],
                                                        [
                                                            16,
                                                            23
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            17,
                                                            1
                                                        ],
                                                        [
                                                            17,
                                                            17
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            18,
                                                            1
                                                        ],
                                                        [
                                                            18,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            19,
                                                            1
                                                        ],
                                                        [
                                                            19,
                                                            68
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            20,
                                                            1
                                                        ],
                                                        [
                                                            20,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            21,
                                                            1
                                                        ],
                                                        [
                                                            21,
                                                            77
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            22,
                                                            1
                                                        ],
                                                        [
                                                            22,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            115,
                                                            1
                                                        ],
                                                        [
                                                            115,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            116,
                                                            1
                                                        ],
                                                        [
                                                            116,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            117,
                                                            1
                                                        ],
                                                        [
                                                            117,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            118,
                                                            1
                                                        ],
                                                        [
                                                            118,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            119,
                                                            1
                                                        ],
                                                        [
                                                            119,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            120,
                                                            1
                                                        ],
                                                        [
                                                            120,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            121,
                                                            1
                                                        ],
                                                        [
                                                            121,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            122,
                                                            1
                                                        ],
                                                        [
                                                            122,
                                                            41
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            123,
                                                            1
                                                        ],
                                                        [
                                                            123,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            124,
                                                            1
                                                        ],
                                                        [
                                                            124,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            125,
                                                            1
                                                        ],
                                                        [
                                                            125,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            126,
                                                            1
                                                        ],
                                                        [
                                                            126,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            127,
                                                            1
                                                        ],
                                                        [
                                                            127,
                                                            41
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            128,
                                                            1
                                                        ],
                                                        [
                                                            128,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            23
                                                        ],
                                                        [
                                                            5,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            110
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            58
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            175
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            216
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandInfos": [
                                            {
                                                "name": "LoanBook",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReserveBook",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            171
                                                        ],
                                                        [
                                                            5,
                                                            188
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReturnBook",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            28
                                                        ],
                                                        [
                                                            5,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ExtendLoan",
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "commandNames": [
                                            "LoanBook",
                                            "ReserveBook",
                                            "ReturnBook",
                                            "ExtendLoan"
                                        ],
                                        "readModelInfos": [
                                            {
                                                "name": "LoanStatusList",
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookSearch",
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            96
                                                        ],
                                                        [
                                                            5,
                                                            117
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "readModelNames": [
                                            "LoanStatusList",
                                            "BookSearch"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션 1은 대출과 회원 관리에 집중된 단순 구조로, 대출 트랜잭션 일관성이 중요하고 연체 관리가 단순한 도서관에 적합하다. 옵션 2는 연체 관리, 벌금, 알림 등 확장 요구가 있는 경우에 적합하며, 대출과 연체 관리의 독립적 진화와 성능 분리가 필요할 때 선택하는 것이 바람직하다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트, DDL, 컨텍스트 관계, 누적 초안의 기존 Aggregate를 분석한 결과, 대출/반납 프로세스의 핵심 트랜잭션 경계와 도메인 규칙을 반영하여 두 가지 옵션을 설계했다. 옵션 1은 Loan(대출)과 Member(회원) 두 개의 Aggregate로 단순화하여 대출 트랜잭션의 일관성을 극대화한다. 옵션 2는 Loan, Member, OverdueRecord(연체 기록) 세 개의 Aggregate로 분리하여 연체 관리의 독립성과 확장성을 높인다. 각 옵션은 Aggregate 수, 경계, 참조 방식에서 차별점을 둔다."
                    },
                    {
                        "boundedContext": "HistoryTracking",
                        "boundedContextAlias": "이력 관리",
                        "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력",
                                            "refs": [
                                                [
                                                    [
                                                        98,
                                                        1
                                                    ],
                                                    [
                                                        98,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ],
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ],
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 처리 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            27
                                                        ],
                                                        [
                                                            108,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "StatusHistory",
                                            "alias": "상태 변경 이력",
                                            "refs": [
                                                [
                                                    [
                                                        84,
                                                        4
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ],
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ],
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            27
                                                        ],
                                                        [
                                                            93,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출 이력과 상태 변경 이력이 각각의 비즈니스 책임에 따라 분리되어 있어, 각 이력의 관리와 확장이 명확합니다.",
                                    "coupling": "각 Aggregate가 독립적으로 동작하므로, 도서 상태 변경과 대출 이력 기록이 서로 영향을 주지 않습니다.",
                                    "consistency": "각 이력의 트랜잭션 경계가 명확하여, 이벤트 수신 시 원자적으로 이력 기록이 가능합니다.",
                                    "encapsulation": "각 이력의 도메인 규칙이 Aggregate 내부에 잘 숨겨져 있어 외부에서 불필요한 접근이 차단됩니다.",
                                    "complexity": "각 Aggregate가 단일 책임 원칙에 따라 설계되어, 도메인 복잡도가 낮고 유지보수가 용이합니다.",
                                    "independence": "대출 이력과 상태 변경 이력의 확장 및 변경이 서로 독립적으로 가능합니다.",
                                    "performance": "이력별로 최적화된 쿼리 및 저장이 가능해, 대량 이력 데이터 처리 시 성능 저하가 적습니다."
                                },
                                "cons": {
                                    "cohesion": "이력 간의 상호 참조가 필요한 복합 조회 시, 여러 Aggregate를 조합해야 하므로 구현이 복잡해질 수 있습니다.",
                                    "coupling": "복합 이력 조회나 통합 리포트 작성 시, 애플리케이션 레벨에서 Aggregate 간 조율이 필요합니다.",
                                    "consistency": "동일 이벤트로 두 이력이 동시에 기록되어야 할 때, 트랜잭션 분리로 인해 일시적 불일치가 발생할 수 있습니다.",
                                    "encapsulation": "이력 간의 연관 규칙(예: 대출 이력과 상태 변경 이력의 동기화)이 Aggregate 외부에서 관리되어야 합니다.",
                                    "complexity": "복합 이력 분석이나 통계 기능 개발 시, 여러 소스를 조합해야 하므로 개발 난이도가 증가할 수 있습니다.",
                                    "independence": "이력 간 연관성이 높아질 경우, 독립적 관리가 오히려 중복 구현을 유발할 수 있습니다.",
                                    "performance": "복합 이력 조회 시 조인 또는 다중 쿼리가 필요해 단일 Aggregate에 비해 조회 성능이 저하될 수 있습니다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "HistoryTracking",
                                    "alias": "이력 관리",
                                    "displayName": "이력 관리",
                                    "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        {
                                            "name": "StatusHistory",
                                            "alias": "상태 변경 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출 이력\n력과 상",
                                        "ddl": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoanHistoryRecorded, BookStatusHistoryRecorded 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "14": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            5
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            4
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            98,
                                                            1
                                                        ],
                                                        [
                                                            98,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandInfos": [],
                                        "commandNames": [],
                                        "readModelInfos": [
                                            {
                                                "name": "BookLoanHistory",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            49
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookStatusChangeHistory",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            56
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "readModelNames": [
                                            "BookLoanHistory",
                                            "BookStatusChangeHistory"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "HistoryRecord",
                                            "alias": "통합 이력 기록",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "HistoryType",
                                                "alias": "이력 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 처리 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            27
                                                        ],
                                                        [
                                                            93,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            27
                                                        ],
                                                        [
                                                            108,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "모든 이력 데이터가 하나의 Aggregate에 통합되어 있어, 복합 이력 조회 및 통계 처리에 최적화되어 있습니다.",
                                    "coupling": "이력 간 상호 참조나 복합 이벤트 처리 시, 단일 Aggregate 내에서 모두 처리할 수 있어 구현이 단순해집니다.",
                                    "consistency": "대출 이력과 상태 변경 이력이 동시에 기록되어야 할 때, 단일 트랜잭션으로 원자성 보장이 쉽습니다.",
                                    "encapsulation": "이력 관련 모든 도메인 규칙이 한 곳에 집중되어 있어, 규칙 변경 시 일관성 있게 관리할 수 있습니다.",
                                    "complexity": "복합 이력 관리 및 통합 리포트 기능 구현이 단순해집니다.",
                                    "independence": "이력 관리 기능 자체는 독립적으로 진화할 수 있습니다.",
                                    "performance": "복합 이력 조회 시 단일 Aggregate만 접근하면 되므로, 조회 성능이 우수합니다."
                                },
                                "cons": {
                                    "cohesion": "대출 이력과 상태 변경 이력의 도메인 규칙이 혼합되어, 단일 책임 원칙이 약화됩니다.",
                                    "coupling": "이력 유형별로 관리 정책이 달라질 경우, Aggregate 내부가 복잡해지고 변경 영향 범위가 넓어집니다.",
                                    "consistency": "이력 유형별로 트랜잭션 분리가 어렵고, 특정 이력만 독립적으로 관리하기 힘듭니다.",
                                    "encapsulation": "이력 유형별로 도메인 규칙을 분리하기 어렵고, 규칙 누락 가능성이 높아집니다.",
                                    "complexity": "Aggregate가 커질수록 관리 및 테스트가 어려워지고, 신규 이력 유형 추가 시 영향도가 커집니다.",
                                    "independence": "이력 유형별로 독립적 확장이나 변경이 어렵고, 전체 이력 관리 정책에 영향을 미칠 수 있습니다.",
                                    "performance": "이력 데이터가 대량으로 누적될 경우, 단일 Aggregate의 저장/조회 성능 저하 및 확장성 문제가 발생할 수 있습니다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "HistoryTracking",
                                    "alias": "이력 관리",
                                    "displayName": "이력 관리",
                                    "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        {
                                            "name": "StatusHistory",
                                            "alias": "상태 변경 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출 이력\n력과 상",
                                        "ddl": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoanHistoryRecorded, BookStatusHistoryRecorded 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "14": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            5
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            4
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            98,
                                                            1
                                                        ],
                                                        [
                                                            98,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            60
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            73
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandInfos": [],
                                        "commandNames": [],
                                        "readModelInfos": [
                                            {
                                                "name": "BookLoanHistory",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            49
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookStatusChangeHistory",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            56
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "readModelNames": [
                                            "BookLoanHistory",
                                            "BookStatusChangeHistory"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션1은 대출 이력과 상태 변경 이력을 각각 독립적으로 관리해야 하거나, 이력별로 도메인 규칙이 명확히 분리되는 경우에 적합합니다. 옵션2는 복합 이력 조회, 통합 리포트, 이벤트 동시 기록 등 이력 간 결합도가 높고, 단일 트랜잭션 내에서 모든 이력 처리가 필요한 환경에 적합합니다. 본 도메인에서는 복합 이력 조회와 통합 관리의 요구가 강하므로, 옵션2(통합 이력 기록 Aggregate)를 기본 선택으로 추천합니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 누적 초안, 이벤트, DDL, 컨텍스트 관계를 분석한 결과, HistoryTracking 컨텍스트는 도서의 대출 이력과 상태 변경 이력을 독립적으로 관리해야 하며, Book, Loan 등 기존 애그리거트는 참조만 해야 함을 확인했습니다. 옵션1은 두 개의 애그리거트(LoanHistory, StatusHistory)를 각각 독립적으로 정의하여 각 이력의 책임을 명확히 분리합니다. 옵션2는 모든 이력 관리를 하나의 Aggregate(HistoryRecord)로 통합하여 단일 트랜잭션 경계 내에서 모든 이력 기록을 처리합니다."
                    }
                ],
                "draftUIInfos": {
                    "leftBoundedContextCount": 0,
                    "directMessage": "Assigning DDL fields to aggregates for option 1... (1150 characters generated)",
                    "progress": 67
                },
                "isGeneratorButtonEnabled": true,
                "boundedContextVersion": 1,
                "retryInputs": {
                    "initialInputs": [
                        {
                            "boundedContext": {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "displayName": "도서 관리",
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                    "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        5
                                                    ],
                                                    [
                                                        26,
                                                        42
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "title",
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        5
                                                    ],
                                                    [
                                                        27,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "isbn",
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        36
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "author",
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        5
                                                    ],
                                                    [
                                                        29,
                                                        32
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "publisher",
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        5
                                                    ],
                                                    [
                                                        30,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "category",
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        5
                                                    ],
                                                    [
                                                        31,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        5
                                                    ],
                                                    [
                                                        32,
                                                        22
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "registration_date",
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        5
                                                    ],
                                                    [
                                                        33,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_date",
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        5
                                                    ],
                                                    [
                                                        34,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_reason",
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        5
                                                    ],
                                                    [
                                                        35,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        5
                                                    ],
                                                    [
                                                        36,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        5
                                                    ],
                                                    [
                                                        37,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_status",
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        5
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_status",
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        5
                                                    ],
                                                    [
                                                        89,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        304
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        1,
                                                        1
                                                    ],
                                                    [
                                                        1,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "19": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        24,
                                                        1
                                                    ],
                                                    [
                                                        24,
                                                        6
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        177
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        159
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandInfos": [
                                        {
                                            "name": "RegisterBook",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "DiscardBook",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "ChangeBookStatus",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        214
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        206
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "commandNames": [
                                        "RegisterBook",
                                        "DiscardBook",
                                        "ChangeBookStatus"
                                    ],
                                    "readModelInfos": [
                                        {
                                            "name": "BookList",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        31
                                                    ],
                                                    [
                                                        3,
                                                        48
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "BookDetail",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "CategoryList",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "readModelNames": [
                                        "BookList",
                                        "BookDetail",
                                        "CategoryList"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanProcessing",
                                "alias": "대출/반납 처리",
                                "displayName": "대출/반납 처리",
                                "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Member",
                                        "alias": "회원"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
                                    "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookLoaned, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "member_id",
                                            "refs": [
                                                [
                                                    [
                                                        13,
                                                        5
                                                    ],
                                                    [
                                                        13,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        5
                                                    ],
                                                    [
                                                        47,
                                                        34
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "member_name",
                                            "refs": [
                                                [
                                                    [
                                                        14,
                                                        5
                                                    ],
                                                    [
                                                        14,
                                                        37
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "phone",
                                            "refs": [
                                                [
                                                    [
                                                        15,
                                                        5
                                                    ],
                                                    [
                                                        15,
                                                        21
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "email",
                                            "refs": [
                                                [
                                                    [
                                                        16,
                                                        5
                                                    ],
                                                    [
                                                        16,
                                                        22
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "address",
                                            "refs": [
                                                [
                                                    [
                                                        17,
                                                        5
                                                    ],
                                                    [
                                                        17,
                                                        16
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "registration_date",
                                            "refs": [
                                                [
                                                    [
                                                        18,
                                                        5
                                                    ],
                                                    [
                                                        18,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        19,
                                                        5
                                                    ],
                                                    [
                                                        19,
                                                        24
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        5
                                                    ],
                                                    [
                                                        53,
                                                        21
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        20,
                                                        5
                                                    ],
                                                    [
                                                        20,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        5
                                                    ],
                                                    [
                                                        55,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        123,
                                                        5
                                                    ],
                                                    [
                                                        123,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        21,
                                                        5
                                                    ],
                                                    [
                                                        21,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        5
                                                    ],
                                                    [
                                                        56,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        124,
                                                        5
                                                    ],
                                                    [
                                                        124,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        5
                                                    ],
                                                    [
                                                        46,
                                                        42
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ],
                                                [
                                                    [
                                                        117,
                                                        5
                                                    ],
                                                    [
                                                        117,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        5
                                                    ],
                                                    [
                                                        48,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_date",
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        5
                                                    ],
                                                    [
                                                        49,
                                                        48
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "due_date",
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        5
                                                    ],
                                                    [
                                                        50,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "return_date",
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        5
                                                    ],
                                                    [
                                                        51,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_period_days",
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        5
                                                    ],
                                                    [
                                                        52,
                                                        71
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "extension_count",
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        5
                                                    ],
                                                    [
                                                        54,
                                                        33
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_type",
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        5
                                                    ],
                                                    [
                                                        102,
                                                        63
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "overdue_id",
                                            "refs": [
                                                [
                                                    [
                                                        116,
                                                        5
                                                    ],
                                                    [
                                                        116,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "overdue_days",
                                            "refs": [
                                                [
                                                    [
                                                        118,
                                                        5
                                                    ],
                                                    [
                                                        118,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "fine_amount",
                                            "refs": [
                                                [
                                                    [
                                                        119,
                                                        5
                                                    ],
                                                    [
                                                        119,
                                                        42
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "fine_paid",
                                            "refs": [
                                                [
                                                    [
                                                        120,
                                                        5
                                                    ],
                                                    [
                                                        120,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notification_count",
                                            "refs": [
                                                [
                                                    [
                                                        121,
                                                        5
                                                    ],
                                                    [
                                                        121,
                                                        36
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "last_notification_date",
                                            "refs": [
                                                [
                                                    [
                                                        122,
                                                        5
                                                    ],
                                                    [
                                                        122,
                                                        40
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        169
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "19": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        12,
                                                        1
                                                    ],
                                                    [
                                                        12,
                                                        22
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        13,
                                                        1
                                                    ],
                                                    [
                                                        13,
                                                        38
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        14,
                                                        1
                                                    ],
                                                    [
                                                        14,
                                                        38
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        15,
                                                        1
                                                    ],
                                                    [
                                                        15,
                                                        22
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        16,
                                                        1
                                                    ],
                                                    [
                                                        16,
                                                        23
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        17,
                                                        1
                                                    ],
                                                    [
                                                        17,
                                                        17
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        18,
                                                        1
                                                    ],
                                                    [
                                                        18,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        19,
                                                        1
                                                    ],
                                                    [
                                                        19,
                                                        68
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        20,
                                                        1
                                                    ],
                                                    [
                                                        20,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        21,
                                                        1
                                                    ],
                                                    [
                                                        21,
                                                        77
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        22,
                                                        1
                                                    ],
                                                    [
                                                        22,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        115,
                                                        1
                                                    ],
                                                    [
                                                        115,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        116,
                                                        1
                                                    ],
                                                    [
                                                        116,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        117,
                                                        1
                                                    ],
                                                    [
                                                        117,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        118,
                                                        1
                                                    ],
                                                    [
                                                        118,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        119,
                                                        1
                                                    ],
                                                    [
                                                        119,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        120,
                                                        1
                                                    ],
                                                    [
                                                        120,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        121,
                                                        1
                                                    ],
                                                    [
                                                        121,
                                                        37
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        122,
                                                        1
                                                    ],
                                                    [
                                                        122,
                                                        41
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "82": {
                                            "refs": [
                                                [
                                                    [
                                                        123,
                                                        1
                                                    ],
                                                    [
                                                        123,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "83": {
                                            "refs": [
                                                [
                                                    [
                                                        124,
                                                        1
                                                    ],
                                                    [
                                                        124,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        125,
                                                        1
                                                    ],
                                                    [
                                                        125,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        126,
                                                        1
                                                    ],
                                                    [
                                                        126,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        127,
                                                        1
                                                    ],
                                                    [
                                                        127,
                                                        41
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        128,
                                                        1
                                                    ],
                                                    [
                                                        128,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "105": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        23
                                                    ],
                                                    [
                                                        5,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "122": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "123": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "124": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "125": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "131": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "132": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        110
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "137": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "138": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "139": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "140": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "141": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "142": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "143": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "144": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "145": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "146": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "147": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "148": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "149": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "150": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "151": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "152": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "153": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "154": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        58
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        175
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "160": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "161": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "162": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "163": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        216
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "166": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "167": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "168": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "169": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "172": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "173": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "174": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "175": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandInfos": [
                                        {
                                            "name": "LoanBook",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "ReserveBook",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        171
                                                    ],
                                                    [
                                                        5,
                                                        188
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "ReturnBook",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        28
                                                    ],
                                                    [
                                                        5,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "ExtendLoan",
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "commandNames": [
                                        "LoanBook",
                                        "ReserveBook",
                                        "ReturnBook",
                                        "ExtendLoan"
                                    ],
                                    "readModelInfos": [
                                        {
                                            "name": "LoanStatusList",
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "BookSearch",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        96
                                                    ],
                                                    [
                                                        5,
                                                        117
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "readModelNames": [
                                        "LoanStatusList",
                                        "BookSearch"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다."
                        },
                        {
                            "boundedContext": {
                                "name": "HistoryTracking",
                                "alias": "이력 관리",
                                "displayName": "이력 관리",
                                "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "StatusHistory",
                                        "alias": "상태 변경 이력"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "대출 이력\n력과 상",
                                    "ddl": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                    "event": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookLoanHistoryRecorded, BookStatusHistoryRecorded 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_status",
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        5
                                                    ],
                                                    [
                                                        88,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_status",
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        5
                                                    ],
                                                    [
                                                        89,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_type",
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        5
                                                    ],
                                                    [
                                                        102,
                                                        63
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "14": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        5
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "16": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        4
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "21": {
                                            "refs": [
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        98,
                                                        1
                                                    ],
                                                    [
                                                        98,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "82": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "83": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        60
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        73
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandInfos": [],
                                    "commandNames": [],
                                    "readModelInfos": [
                                        {
                                            "name": "BookLoanHistory",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        49
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "name": "BookStatusChangeHistory",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        56
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "readModelNames": [
                                        "BookLoanHistory",
                                        "BookStatusChangeHistory"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                        }
                    ],
                    "initialAccumulatedDrafts": {
                        "BookManagement": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanProcessing": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "Member",
                                    "alias": "회원"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "HistoryTracking": [
                            {
                                "aggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "StatusHistory",
                                    "alias": "상태 변경 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ]
                    }
                },
                "selectedOptionItem": {
                    "BookManagement": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                304
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ],
                                        [
                                            [
                                                28,
                                                5
                                            ],
                                            [
                                                28,
                                                37
                                            ]
                                        ],
                                        [
                                            [
                                                29,
                                                1
                                            ],
                                            [
                                                29,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                30,
                                                1
                                            ],
                                            [
                                                30,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                31,
                                                1
                                            ],
                                            [
                                                31,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                32,
                                                1
                                            ],
                                            [
                                                32,
                                                10
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    304
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    184
                                                ],
                                                [
                                                    3,
                                                    266
                                                ]
                                            ],
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    10
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    14
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "ISBN",
                                        "alias": "ISBN",
                                        "referencedAggregateName": "",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    304
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    72
                                                ],
                                                [
                                                    3,
                                                    75
                                                ]
                                            ],
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    8
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookCategoryReference",
                                        "alias": "도서 카테고리 참조",
                                        "referencedAggregate": {
                                            "name": "BookCategory",
                                            "alias": "도서 카테고리"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    90
                                                ]
                                            ],
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    12
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "StatusHistoryReference",
                                        "alias": "상태 변경 이력 참조",
                                        "referencedAggregate": {
                                            "name": "StatusHistory",
                                            "alias": "상태 변경 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    22
                                                ]
                                            ],
                                            [
                                                [
                                                    84,
                                                    4
                                                ],
                                                [
                                                    84,
                                                    15
                                                ]
                                            ],
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ],
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ],
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ],
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ],
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanHistoryReference",
                                        "alias": "대출 이력 참조",
                                        "referencedAggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    12
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    22
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "aggregate": {
                                    "name": "BookCategory",
                                    "alias": "도서 카테고리",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                304
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                87
                                            ],
                                            [
                                                3,
                                                90
                                            ]
                                        ],
                                        [
                                            [
                                                31,
                                                5
                                            ],
                                            [
                                                31,
                                                12
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "BookCategoryType",
                                        "alias": "카테고리 유형",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    142
                                                ],
                                                [
                                                    3,
                                                    153
                                                ]
                                            ],
                                            [
                                                [
                                                    31,
                                                    14
                                                ],
                                                [
                                                    31,
                                                    40
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [],
                                "previewAttributes": []
                            }
                        ],
                        "pros": {
                            "cohesion": "도서 정보와 카테고리 관리가 분리되어 각 Aggregate가 명확한 책임을 가집니다.",
                            "coupling": "카테고리 확장, 다국어 지원 등 BookCategory Aggregate만 수정하면 되므로 결합도가 낮아집니다.",
                            "consistency": "도서 상태 변경 등 핵심 비즈니스 규칙은 Book Aggregate 내에서 보장되고, 카테고리 관리 규칙은 별도 Aggregate에서 관리됩니다.",
                            "encapsulation": "카테고리 관리 로직이 별도 Aggregate에 캡슐화되어, 도서 관리와 독립적으로 발전시킬 수 있습니다.",
                            "complexity": "카테고리 관리, 도서 관리가 분리되어 각 도메인별 복잡도가 낮아지고, 유지보수가 쉬워집니다.",
                            "independence": "카테고리 정책 변경, 신규 카테고리 추가 등 BookCategory Aggregate만 독립적으로 확장할 수 있습니다.",
                            "performance": "카테고리 변경, 조회 등은 BookCategory Aggregate에서 독립적으로 처리되어, 도서 관리와 분산 처리 및 확장이 용이합니다."
                        },
                        "cons": {
                            "cohesion": "도서 등록, 상태 변경 시 카테고리 참조가 필요해 두 Aggregate 간 연동이 필수적입니다.",
                            "coupling": "도서와 카테고리 간 참조가 추가되어, 일부 트랜잭션에서 두 Aggregate 동시 접근이 필요할 수 있습니다.",
                            "consistency": "카테고리 변경이 도서에 미치는 영향(예: 카테고리 삭제 시 도서 처리 등)에 대한 추가 일관성 관리가 필요합니다.",
                            "encapsulation": "도서 상태 변경과 카테고리 변경이 분리되어, 복합 비즈니스 규칙 구현 시 애플리케이션 서비스 계층에서 조정이 필요합니다.",
                            "complexity": "두 Aggregate 간 연동 로직 및 참조 관리가 추가되어 전체 시스템 복잡도가 증가할 수 있습니다.",
                            "independence": "도서 등록, 상태 변경 등 일부 작업에서 BookCategory Aggregate의 상태에 의존하게 됩니다.",
                            "performance": "도서와 카테고리 정보를 동시에 조회할 때 조인 또는 추가 쿼리가 필요해 성능에 영향이 있을 수 있습니다."
                        },
                        "isAIRecommended": true,
                        "boundedContext": {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "displayName": "도서 관리",
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "requirements": {
                                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        177\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        1\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        159\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        286\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    22
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    304
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "19": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    1
                                                ],
                                                [
                                                    24,
                                                    6
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    25,
                                                    1
                                                ],
                                                [
                                                    25,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    1
                                                ],
                                                [
                                                    26,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    1
                                                ],
                                                [
                                                    27,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    1
                                                ],
                                                [
                                                    28,
                                                    37
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    1
                                                ],
                                                [
                                                    29,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    1
                                                ],
                                                [
                                                    30,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    1
                                                ],
                                                [
                                                    31,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    1
                                                ],
                                                [
                                                    32,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    1
                                                ],
                                                [
                                                    33,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    1
                                                ],
                                                [
                                                    34,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    1
                                                ],
                                                [
                                                    35,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    1
                                                ],
                                                [
                                                    36,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    1
                                                ],
                                                [
                                                    37,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    38,
                                                    1
                                                ],
                                                [
                                                    38,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    39,
                                                    1
                                                ],
                                                [
                                                    39,
                                                    26
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    40,
                                                    1
                                                ],
                                                [
                                                    40,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    41,
                                                    1
                                                ],
                                                [
                                                    41,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    42,
                                                    1
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    1
                                                ],
                                                [
                                                    84,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    177
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    159
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandInfos": [
                                    {
                                        "name": "RegisterBook",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "DiscardBook",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ChangeBookStatus",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    214
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    206
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "commandNames": [
                                    "RegisterBook",
                                    "DiscardBook",
                                    "ChangeBookStatus"
                                ],
                                "readModelInfos": [
                                    {
                                        "name": "BookList",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    31
                                                ],
                                                [
                                                    3,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookDetail",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "CategoryList",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "readModelNames": [
                                    "BookList",
                                    "BookDetail",
                                    "CategoryList"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 폐기, 상태 변경 등 도서의 라이프사이클을 관리하며, ISBN 중복 및 유효성 검증, 카테고리 관리, 도서 상태 전환(대출가능/대출중/예약중/폐기)을 담당한다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서(대출가능 상태)\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.\",\n  \"inputs\": [\n    \"도서 이벤트(등록/대출/반납/예약/폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\",\n    \"BookDiscarded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 7,\n  \"description\": \"사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 처리 (LoanProcessing)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                    },
                    "LoanProcessing": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                2
                                            ],
                                            [
                                                7,
                                                169
                                            ]
                                        ],
                                        [
                                            [
                                                45,
                                                14
                                            ],
                                            [
                                                45,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                46,
                                                1
                                            ],
                                            [
                                                46,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                47,
                                                1
                                            ],
                                            [
                                                47,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                48,
                                                1
                                            ],
                                            [
                                                48,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                49,
                                                1
                                            ],
                                            [
                                                49,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                50,
                                                1
                                            ],
                                            [
                                                50,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                51,
                                                1
                                            ],
                                            [
                                                51,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                52,
                                                1
                                            ],
                                            [
                                                52,
                                                74
                                            ]
                                        ],
                                        [
                                            [
                                                53,
                                                1
                                            ],
                                            [
                                                53,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                54,
                                                1
                                            ],
                                            [
                                                54,
                                                34
                                            ]
                                        ],
                                        [
                                            [
                                                55,
                                                1
                                            ],
                                            [
                                                55,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                56,
                                                1
                                            ],
                                            [
                                                56,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                57,
                                                1
                                            ],
                                            [
                                                57,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                58,
                                                1
                                            ],
                                            [
                                                58,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                59,
                                                1
                                            ],
                                            [
                                                59,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                60,
                                                1
                                            ],
                                            [
                                                60,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                61,
                                                1
                                            ],
                                            [
                                                61,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                62,
                                                1
                                            ],
                                            [
                                                62,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                63,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                1
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanStatus",
                                        "alias": "대출 상태",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    65
                                                ],
                                                [
                                                    7,
                                                    81
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanActionType",
                                        "alias": "대출 처리 유형",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    54
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    100
                                                ],
                                                [
                                                    5,
                                                    109
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "MemberReference",
                                        "alias": "회원 참조",
                                        "referencedAggregate": {
                                            "name": "Member",
                                            "alias": "회원"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    13
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    62
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanHistoryReference",
                                        "alias": "대출 이력 참조",
                                        "referencedAggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    14
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ],
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ],
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ],
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ],
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ],
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    58
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    117,
                                                    5
                                                ],
                                                [
                                                    117,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    71
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    33
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "overdue_id",
                                        "refs": [
                                            [
                                                [
                                                    116,
                                                    5
                                                ],
                                                [
                                                    116,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "overdue_days",
                                        "refs": [
                                            [
                                                [
                                                    118,
                                                    5
                                                ],
                                                [
                                                    118,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "fine_amount",
                                        "refs": [
                                            [
                                                [
                                                    119,
                                                    5
                                                ],
                                                [
                                                    119,
                                                    42
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "fine_paid",
                                        "refs": [
                                            [
                                                [
                                                    120,
                                                    5
                                                ],
                                                [
                                                    120,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_count",
                                        "refs": [
                                            [
                                                [
                                                    121,
                                                    5
                                                ],
                                                [
                                                    121,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "last_notification_date",
                                        "refs": [
                                            [
                                                [
                                                    122,
                                                    5
                                                ],
                                                [
                                                    122,
                                                    40
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "aggregate": {
                                    "name": "Member",
                                    "alias": "회원",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                2
                                            ],
                                            [
                                                7,
                                                169
                                            ]
                                        ],
                                        [
                                            [
                                                12,
                                                14
                                            ],
                                            [
                                                12,
                                                22
                                            ]
                                        ],
                                        [
                                            [
                                                13,
                                                1
                                            ],
                                            [
                                                13,
                                                38
                                            ]
                                        ],
                                        [
                                            [
                                                14,
                                                1
                                            ],
                                            [
                                                14,
                                                38
                                            ]
                                        ],
                                        [
                                            [
                                                15,
                                                1
                                            ],
                                            [
                                                15,
                                                22
                                            ]
                                        ],
                                        [
                                            [
                                                16,
                                                1
                                            ],
                                            [
                                                16,
                                                23
                                            ]
                                        ],
                                        [
                                            [
                                                17,
                                                1
                                            ],
                                            [
                                                17,
                                                17
                                            ]
                                        ],
                                        [
                                            [
                                                18,
                                                1
                                            ],
                                            [
                                                18,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                19,
                                                1
                                            ],
                                            [
                                                19,
                                                68
                                            ]
                                        ],
                                        [
                                            [
                                                20,
                                                1
                                            ],
                                            [
                                                20,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                21,
                                                1
                                            ],
                                            [
                                                21,
                                                77
                                            ]
                                        ],
                                        [
                                            [
                                                22,
                                                1
                                            ],
                                            [
                                                22,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                59
                                            ],
                                            [
                                                5,
                                                75
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "MemberStatus",
                                        "alias": "회원 상태",
                                        "refs": [
                                            [
                                                [
                                                    19,
                                                    5
                                                ],
                                                [
                                                    19,
                                                    24
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [],
                                "previewAttributes": [
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    13,
                                                    5
                                                ],
                                                [
                                                    13,
                                                    37
                                                ]
                                            ],
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_name",
                                        "refs": [
                                            [
                                                [
                                                    14,
                                                    5
                                                ],
                                                [
                                                    14,
                                                    37
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "phone",
                                        "refs": [
                                            [
                                                [
                                                    15,
                                                    5
                                                ],
                                                [
                                                    15,
                                                    21
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "email",
                                        "refs": [
                                            [
                                                [
                                                    16,
                                                    5
                                                ],
                                                [
                                                    16,
                                                    22
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "address",
                                        "refs": [
                                            [
                                                [
                                                    17,
                                                    5
                                                ],
                                                [
                                                    17,
                                                    16
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    18,
                                                    5
                                                ],
                                                [
                                                    18,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    19,
                                                    5
                                                ],
                                                [
                                                    19,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    21
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    20,
                                                    5
                                                ],
                                                [
                                                    20,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    123,
                                                    5
                                                ],
                                                [
                                                    123,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    21,
                                                    5
                                                ],
                                                [
                                                    21,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    124,
                                                    5
                                                ],
                                                [
                                                    124,
                                                    77
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "대출 트랜잭션과 회원 정보가 각각의 Aggregate에 집중되어 있어 각자의 책임이 명확하다.",
                            "coupling": "Book, LoanHistory 등 외부 Aggregate는 ValueObject 참조로만 연결되어 결합도가 낮다.",
                            "consistency": "대출 생성, 연장, 반납 등 주요 비즈니스 규칙이 Loan Aggregate 내부에서 원자적으로 보장된다.",
                            "encapsulation": "대출 상태 전이, 연장, 반납 로직이 Loan Aggregate 내부에 캡슐화되어 도메인 규칙 노출이 최소화된다.",
                            "complexity": "Aggregate 수가 적어 전체 구조가 단순하고 유지보수가 용이하다.",
                            "independence": "대출과 회원 관리가 독립적으로 진화할 수 있다.",
                            "performance": "대출 관련 조회 및 변경이 단일 Aggregate 내에서 처리되어 트랜잭션 효율이 높다."
                        },
                        "cons": {
                            "cohesion": "연체 관리, 벌금 등 확장 요구가 발생할 경우 Loan Aggregate가 비대해질 수 있다.",
                            "coupling": "연체, 벌금 등 추가 도메인 개념이 Loan에 집중되어 결합도가 증가할 수 있다.",
                            "consistency": "연체 기록 등 세부 관리가 Loan 내부에 포함되면 트랜잭션 경계가 커질 수 있다.",
                            "encapsulation": "Loan이 너무 많은 책임을 가지면 도메인 규칙 분리가 어려워질 수 있다.",
                            "complexity": "대출, 연장, 반납, 연체 등 다양한 상태와 로직이 Loan에 집중되어 복잡도가 증가할 수 있다.",
                            "independence": "연체 관리 등 신규 기능 추가 시 Loan에 영향이 커진다.",
                            "performance": "Loan에 연체 정보까지 포함하면 빈번한 업데이트로 인한 성능 저하가 발생할 수 있다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "LoanProcessing",
                            "alias": "대출/반납 처리",
                            "displayName": "대출/반납 처리",
                            "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Member",
                                    "alias": "회원"
                                }
                            ],
                            "requirements": {
                                "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "CREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
                                "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        23\n      ],\n      [\n        5,\n        203\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        110\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        58\n      ],\n      [\n        7,\n        59\n      ]\n    ],\n    [\n      [\n        7,\n        175\n      ],\n      [\n        7,\n        203\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookLoaned, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    13,
                                                    5
                                                ],
                                                [
                                                    13,
                                                    37
                                                ]
                                            ],
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_name",
                                        "refs": [
                                            [
                                                [
                                                    14,
                                                    5
                                                ],
                                                [
                                                    14,
                                                    37
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "phone",
                                        "refs": [
                                            [
                                                [
                                                    15,
                                                    5
                                                ],
                                                [
                                                    15,
                                                    21
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "email",
                                        "refs": [
                                            [
                                                [
                                                    16,
                                                    5
                                                ],
                                                [
                                                    16,
                                                    22
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "address",
                                        "refs": [
                                            [
                                                [
                                                    17,
                                                    5
                                                ],
                                                [
                                                    17,
                                                    16
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    18,
                                                    5
                                                ],
                                                [
                                                    18,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    19,
                                                    5
                                                ],
                                                [
                                                    19,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    21
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    20,
                                                    5
                                                ],
                                                [
                                                    20,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    123,
                                                    5
                                                ],
                                                [
                                                    123,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    21,
                                                    5
                                                ],
                                                [
                                                    21,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    124,
                                                    5
                                                ],
                                                [
                                                    124,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    117,
                                                    5
                                                ],
                                                [
                                                    117,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    71
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    33
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "overdue_id",
                                        "refs": [
                                            [
                                                [
                                                    116,
                                                    5
                                                ],
                                                [
                                                    116,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "overdue_days",
                                        "refs": [
                                            [
                                                [
                                                    118,
                                                    5
                                                ],
                                                [
                                                    118,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "fine_amount",
                                        "refs": [
                                            [
                                                [
                                                    119,
                                                    5
                                                ],
                                                [
                                                    119,
                                                    42
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "fine_paid",
                                        "refs": [
                                            [
                                                [
                                                    120,
                                                    5
                                                ],
                                                [
                                                    120,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_count",
                                        "refs": [
                                            [
                                                [
                                                    121,
                                                    5
                                                ],
                                                [
                                                    121,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "last_notification_date",
                                        "refs": [
                                            [
                                                [
                                                    122,
                                                    5
                                                ],
                                                [
                                                    122,
                                                    40
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    7,
                                                    169
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "19": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    12,
                                                    1
                                                ],
                                                [
                                                    12,
                                                    22
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    13,
                                                    1
                                                ],
                                                [
                                                    13,
                                                    38
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    14,
                                                    1
                                                ],
                                                [
                                                    14,
                                                    38
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    15,
                                                    1
                                                ],
                                                [
                                                    15,
                                                    22
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    16,
                                                    1
                                                ],
                                                [
                                                    16,
                                                    23
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    17,
                                                    1
                                                ],
                                                [
                                                    17,
                                                    17
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    18,
                                                    1
                                                ],
                                                [
                                                    18,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    19,
                                                    1
                                                ],
                                                [
                                                    19,
                                                    68
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    20,
                                                    1
                                                ],
                                                [
                                                    20,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    21,
                                                    1
                                                ],
                                                [
                                                    21,
                                                    77
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    22,
                                                    1
                                                ],
                                                [
                                                    22,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    45,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    1
                                                ],
                                                [
                                                    46,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    1
                                                ],
                                                [
                                                    47,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    1
                                                ],
                                                [
                                                    48,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    1
                                                ],
                                                [
                                                    49,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    1
                                                ],
                                                [
                                                    50,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    1
                                                ],
                                                [
                                                    51,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    1
                                                ],
                                                [
                                                    52,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    1
                                                ],
                                                [
                                                    53,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    1
                                                ],
                                                [
                                                    54,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    1
                                                ],
                                                [
                                                    55,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    1
                                                ],
                                                [
                                                    56,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    57,
                                                    1
                                                ],
                                                [
                                                    57,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    58,
                                                    1
                                                ],
                                                [
                                                    58,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    59,
                                                    1
                                                ],
                                                [
                                                    59,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    60,
                                                    1
                                                ],
                                                [
                                                    60,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    61,
                                                    1
                                                ],
                                                [
                                                    61,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    62,
                                                    1
                                                ],
                                                [
                                                    62,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    63,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    115,
                                                    1
                                                ],
                                                [
                                                    115,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    116,
                                                    1
                                                ],
                                                [
                                                    116,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    117,
                                                    1
                                                ],
                                                [
                                                    117,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    118,
                                                    1
                                                ],
                                                [
                                                    118,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    119,
                                                    1
                                                ],
                                                [
                                                    119,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    120,
                                                    1
                                                ],
                                                [
                                                    120,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    121,
                                                    1
                                                ],
                                                [
                                                    121,
                                                    37
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    122,
                                                    1
                                                ],
                                                [
                                                    122,
                                                    41
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "82": {
                                        "refs": [
                                            [
                                                [
                                                    123,
                                                    1
                                                ],
                                                [
                                                    123,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "83": {
                                        "refs": [
                                            [
                                                [
                                                    124,
                                                    1
                                                ],
                                                [
                                                    124,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    125,
                                                    1
                                                ],
                                                [
                                                    125,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    126,
                                                    1
                                                ],
                                                [
                                                    126,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    127,
                                                    1
                                                ],
                                                [
                                                    127,
                                                    41
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    128,
                                                    1
                                                ],
                                                [
                                                    128,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "105": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    23
                                                ],
                                                [
                                                    5,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "122": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "123": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "124": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "125": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "131": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "132": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "137": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "138": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "139": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "140": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "141": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "142": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "143": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "144": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "145": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "146": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "147": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "148": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "149": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "150": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "151": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "152": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "153": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "154": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    58
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    175
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "160": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "161": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "162": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "163": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    216
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "166": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "167": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "168": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "169": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "172": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "173": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "174": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "175": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandInfos": [
                                    {
                                        "name": "LoanBook",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReserveBook",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    171
                                                ],
                                                [
                                                    5,
                                                    188
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReturnBook",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    28
                                                ],
                                                [
                                                    5,
                                                    40
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ExtendLoan",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "commandNames": [
                                    "LoanBook",
                                    "ReserveBook",
                                    "ReturnBook",
                                    "ExtendLoan"
                                ],
                                "readModelInfos": [
                                    {
                                        "name": "LoanStatusList",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookSearch",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    96
                                                ],
                                                [
                                                    5,
                                                    117
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "readModelNames": [
                                    "LoanStatusList",
                                    "BookSearch"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: LoanProcessing (대출/반납 처리)\n\n## Role\n회원 인증, 도서 대출/반납/연장, 대출 상태 관리, 대출 가능 여부 및 예약 연동 등 대출 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoaned\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n```\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n```sql\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 기록\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"반납 기록\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement→LoanProcessing\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서의 상태(대출가능/대출중/예약중/폐기 등) 변경 이벤트가 대출/반납 프로세스와 연동되어야 하므로 이벤트 기반의 느슨한 결합이 적합하다.\n- **Interaction Pattern**: 도서 상태 변경 이벤트(BookStatusChanged 등)를 발행하면 대출/반납 처리 컨텍스트가 이를 구독하여 상태에 따라 대출 가능 여부를 판단한다.\n\n### LoanProcessing→reservation-notification\n- **Type**: Request/Response\n- **Direction**: sends to 예약 & 알림 서비스 (reservation-notification)\n- **Reason**: 예약 및 알림 기능은 PBC로 제공되며, Generic Domain이므로 Request/Response 패턴을 사용해야 한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 예약 요청이 발생하면 예약 & 알림 서비스에 동기적으로 예약 요청을 전달한다.\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (HistoryTracking)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다."
                    },
                    "HistoryTracking": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "HistoryRecord",
                                    "alias": "통합 이력 기록",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                73
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                53
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                60
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "HistoryType",
                                        "alias": "이력 유형",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanActionType",
                                        "alias": "대출 처리 유형",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    93,
                                                    27
                                                ],
                                                [
                                                    93,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    108,
                                                    27
                                                ],
                                                [
                                                    108,
                                                    51
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "모든 이력 데이터가 하나의 Aggregate에 통합되어 있어, 복합 이력 조회 및 통계 처리에 최적화되어 있습니다.",
                            "coupling": "이력 간 상호 참조나 복합 이벤트 처리 시, 단일 Aggregate 내에서 모두 처리할 수 있어 구현이 단순해집니다.",
                            "consistency": "대출 이력과 상태 변경 이력이 동시에 기록되어야 할 때, 단일 트랜잭션으로 원자성 보장이 쉽습니다.",
                            "encapsulation": "이력 관련 모든 도메인 규칙이 한 곳에 집중되어 있어, 규칙 변경 시 일관성 있게 관리할 수 있습니다.",
                            "complexity": "복합 이력 관리 및 통합 리포트 기능 구현이 단순해집니다.",
                            "independence": "이력 관리 기능 자체는 독립적으로 진화할 수 있습니다.",
                            "performance": "복합 이력 조회 시 단일 Aggregate만 접근하면 되므로, 조회 성능이 우수합니다."
                        },
                        "cons": {
                            "cohesion": "대출 이력과 상태 변경 이력의 도메인 규칙이 혼합되어, 단일 책임 원칙이 약화됩니다.",
                            "coupling": "이력 유형별로 관리 정책이 달라질 경우, Aggregate 내부가 복잡해지고 변경 영향 범위가 넓어집니다.",
                            "consistency": "이력 유형별로 트랜잭션 분리가 어렵고, 특정 이력만 독립적으로 관리하기 힘듭니다.",
                            "encapsulation": "이력 유형별로 도메인 규칙을 분리하기 어렵고, 규칙 누락 가능성이 높아집니다.",
                            "complexity": "Aggregate가 커질수록 관리 및 테스트가 어려워지고, 신규 이력 유형 추가 시 영향도가 커집니다.",
                            "independence": "이력 유형별로 독립적 확장이나 변경이 어렵고, 전체 이력 관리 정책에 영향을 미칠 수 있습니다.",
                            "performance": "이력 데이터가 대량으로 누적될 경우, 단일 Aggregate의 저장/조회 성능 저하 및 확장성 문제가 발생할 수 있습니다."
                        },
                        "isAIRecommended": true,
                        "boundedContext": {
                            "name": "HistoryTracking",
                            "alias": "이력 관리",
                            "displayName": "이력 관리",
                            "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                {
                                    "name": "StatusHistory",
                                    "alias": "상태 변경 이력"
                                }
                            ],
                            "requirements": {
                                "userStory": "대출 이력\n력과 상",
                                "ddl": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                "event": "{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        53\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        60\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookLoanHistoryRecorded, BookStatusHistoryRecorded 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "14": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    5
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "16": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    4
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "21": {
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    1
                                                ],
                                                [
                                                    84,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    98,
                                                    1
                                                ],
                                                [
                                                    98,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "82": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "83": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    60
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    73
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandInfos": [],
                                "commandNames": [],
                                "readModelInfos": [
                                    {
                                        "name": "BookLoanHistory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    49
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookStatusChangeHistory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    56
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "readModelNames": [
                                    "BookLoanHistory",
                                    "BookStatusChangeHistory"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: HistoryTracking (이력 관리)\n\n## Role\n도서별 대출 이력과 상태 변경 이력을 기록 및 조회하여 도서의 상태 변화를 추적한다.\n\n## Key Events\n- BookLoanHistoryRecorded\n- BookStatusHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n력과 상\n\n## DDL\n\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n```sql\n대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryRecorded\",\n  \"displayName\": \"도서 대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 이벤트(대출/반납/연장)\"\n  ],\n  \"outputs\": [\n    \"대출 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusHistoryRecorded\",\n  \"displayName\": \"도서 상태 변경 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 이벤트\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanProcessing→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 처리 (LoanProcessing)\n- **Reason**: 대출/반납/연장 등 주요 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 처리 컨텍스트에서 대출/반납/연장 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 대출 이력을 기록한다.\n\n### BookManagement→HistoryTracking\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 관리 컨텍스트가 이벤트를 구독하여 상태 변경 이력을 기록한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                    }
                }
            }
        ],
        "frontEndResults": [
            {
                "aggregates": [],
                "alias": "프론트 엔드",
                "complexity": "0.0",
                "differentiation": "0.0",
                "events": [],
                "implementationStrategy": "Transaction Script",
                "importance": "Generic Domain",
                "name": "ui",
                "requirements": [
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    1,
                                    1
                                ],
                                [
                                    1,
                                    33
                                ]
                            ]
                        ],
                        "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    3,
                                    55
                                ]
                            ]
                        ],
                        "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    5,
                                    1
                                ],
                                [
                                    5,
                                    47
                                ]
                            ]
                        ],
                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    7,
                                    40
                                ]
                            ]
                        ],
                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    9,
                                    1
                                ],
                                [
                                    9,
                                    74
                                ]
                            ]
                        ],
                        "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                    }
                ],
                "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                "commandInfos": [],
                "readModelInfos": []
            }
        ],
        "pbcResults": [
            {
                "name": "reservation-notification",
                "alias": "예약 & 알림 서비스",
                "importance": "Generic Domain",
                "complexity": 0.5,
                "differentiation": 0.2,
                "implementationStrategy": "PBC: reservation-notification",
                "aggregates": [
                    {
                        "name": "Reservation",
                        "alias": "예약"
                    }
                ],
                "events": [
                    "BookReserved"
                ],
                "requirements": [
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    187
                                ]
                            ]
                        ],
                        "text": "예약 신청"
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    7,
                                    175
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ],
                        "text": "예약자가 있는 도서가 반납되면, 해당 도서는 '예약중"
                    },
                    {
                        "type": "DDL",
                        "refs": [
                            [
                                [
                                    65,
                                    4
                                ],
                                [
                                    82,
                                    2
                                ]
                            ]
                        ],
                        "text": "예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                    },
                    {
                        "type": "Event",
                        "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 기록\",\n    \"도서 상태 '예약중'\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        191\n      ]\n    ]\n  ]\n}",
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    191
                                ]
                            ]
                        ]
                    }
                ],
                "role": "도서 예약 신청 및 예약 알림 기능을 제공하며, 예약 상태 변경 시 알림을 담당한다.",
                "roleRefs": [
                    [
                        [
                            5,
                            183
                        ],
                        [
                            7,
                            184
                        ]
                    ]
                ],
                "commandInfos": [],
                "readModelInfos": []
            }
        ],
        "pbcLists": [
            {
                "name": "chat-vue3-en",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "Chat service (Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                "id": 20,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
            },
            {
                "name": "review",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                "description": "review",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                "id": 22,
                "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
            },
            {
                "name": "reservation-notification",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 23,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
            },
            {
                "name": "reservation-notification-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 24,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
            },
            {
                "name": "chat-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 25,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
            },
            {
                "name": "chat",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 26,
                "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
            },
            {
                "name": "payment-system",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                "description": "결제를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                "id": 27,
                "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
            },
            {
                "name": "document-management",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                "description": "파일관리를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "### Instruction\n",
                "id": 30,
                "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
            },
            {
                "name": "gitlab",
                "rating": 5,
                "imageUrl": null,
                "description": "openapi.yaml",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## instruction\n",
                "id": 34,
                "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
            },
            {
                "name": "PBC-Test",
                "rating": 5,
                "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                "description": "Framework for rapidly and easily developing Java-based web applications.",
                "tags": [
                    "PBC"
                ],
                "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                "id": 35,
                "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
            }
        ],
        "projectInfo": {
            "author": "EYCl46CwWAWvpz2E1BCUpVgPIpa2",
            "authorEmail": "shinseongjin@uengine.org",
            "comment": "",
            "createdTimeStamp": 1760938668757,
            "inputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "lastModifiedTimeStamp": 1760938668757,
            "projectId": "163972132_project_d8fb784454888ceb1c545e9461ffcdbf",
            "projectName": "",
            "prompt": "",
            "summarizedResult": "",
            "type": "project",
            "usedInputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "usedUserStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "commandReadModelData": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "commands": [
                            {
                                "name": "RegisterBook",
                                "actor": "admin",
                                "aggregate": "Book",
                                "description": "관리자가 새로운 도서를 등록하고, 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력하여 도서 정보를 시스템에 추가합니다. 등록 시 ISBN 중복 및 유효성 검증이 수행됩니다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "DiscardBook",
                                "actor": "admin",
                                "aggregate": "Book",
                                "description": "관리자가 훼손되거나 분실된 도서를 폐기 처리하여 더 이상 대출이 불가능하도록 합니다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ChangeBookStatus",
                                "actor": "system",
                                "aggregate": "Book",
                                "description": "도서의 대출/반납/예약 상황에 따라 도서 상태를 '대출가능', '대출중', '예약중', '폐기' 등으로 자동 변경합니다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            214
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            206
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModels": [
                            {
                                "name": "BookList",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "description": "현재 보유한 모든 도서의 목록과 상태 정보를 조회합니다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            31
                                        ],
                                        [
                                            3,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDetail",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": false,
                                "description": "특정 도서의 상세 정보(도서명, ISBN, 저자, 출판사, 카테고리, 상태 등)를 조회합니다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "CategoryList",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "description": "도서 등록 시 선택 가능한 카테고리(소설/비소설/학술/잡지) 목록을 제공합니다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "name": "LoanProcessing",
                        "commands": [
                            {
                                "name": "LoanBook",
                                "actor": "user",
                                "aggregate": "Loan",
                                "description": "회원이 도서를 대출 신청할 때 회원 인증(회원번호, 이름 확인) 후 대출할 도서를 선택하고, 대출 기간을 지정하여 대출을 진행합니다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReserveBook",
                                "actor": "user",
                                "aggregate": "Reservation",
                                "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서에 대해 예약 신청을 할 수 있습니다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            171
                                        ],
                                        [
                                            5,
                                            188
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReturnBook",
                                "actor": "user",
                                "aggregate": "Loan",
                                "description": "회원이 대출한 도서를 반납하여 도서의 상태를 변경하고, 예약자가 있는 경우 예약 상태로 전환합니다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            28
                                        ],
                                        [
                                            5,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ExtendLoan",
                                "actor": "user",
                                "aggregate": "Loan",
                                "description": "대출 중인 도서에 대해 회원이 대출 기간을 연장할 수 있습니다.",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "readModels": [
                            {
                                "name": "LoanStatusList",
                                "actor": "admin",
                                "aggregate": "Loan",
                                "isMultipleResult": true,
                                "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 조회합니다.",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookSearch",
                                "actor": "user",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "description": "도서명 또는 ISBN으로 도서를 검색하여 대출/예약 시 선택할 수 있도록 합니다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            96
                                        ],
                                        [
                                            5,
                                            117
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "name": "HistoryTracking",
                        "commands": [],
                        "readModels": [
                            {
                                "name": "BookLoanHistory",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "description": "특정 도서별로 대출 이력을 조회하여 해당 도서의 대출 현황을 추적합니다.",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            49
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChangeHistory",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "description": "특정 도서의 상태 변경 이력을 조회하여 도서의 상태 변화 과정을 확인합니다.",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            56
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ]
            }
        },
        "requirementsValidationResult": {
            "type": "ANALYSIS_RESULT",
            "projectName": "Requirements Analysis",
            "content": {
                "elements": {
                    "9ab28607-8ccc-b345-ea80-53d1360e1ac0": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "9ab28607-8ccc-b345-ea80-53d1360e1ac0",
                        "name": "Librarian",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "9ab28607-8ccc-b345-ea80-53d1360e1ac0",
                            "x": 150,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "c6e89d17-1dc9-3163-29df-b1d82651ad51": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "c6e89d17-1dc9-3163-29df-b1d82651ad51",
                        "name": "Member",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "c6e89d17-1dc9-3163-29df-b1d82651ad51",
                            "x": 150,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "24aa0eb5-4aea-ae90-88b4-cf103c7ebbf2": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "24aa0eb5-4aea-ae90-88b4-cf103c7ebbf2",
                        "name": "System",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "24aa0eb5-4aea-ae90-88b4-cf103c7ebbf2",
                            "x": 150,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "53939483-df9b-d60f-971d-a687cb832b3e": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                        "visibility": "public",
                        "name": "BookRegistered",
                        "oldName": "",
                        "displayName": "도서 등록됨",
                        "namePascalCase": "BookRegistered",
                        "nameCamelCase": "bookRegistered",
                        "namePlural": "",
                        "description": "사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                            "x": 300,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                            "x": 300,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                        "visibility": "public",
                        "name": "BookDiscarded",
                        "oldName": "",
                        "displayName": "도서 폐기됨",
                        "namePascalCase": "BookDiscarded",
                        "nameCamelCase": "bookDiscarded",
                        "namePlural": "",
                        "description": "사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                            "x": 500,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                            "x": 500,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "800d71b2-66c3-ff70-c446-7d794d457baa": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "visibility": "public",
                        "name": "BookStatusChanged",
                        "oldName": "",
                        "displayName": "도서 상태 변경됨",
                        "namePascalCase": "BookStatusChanged",
                        "nameCamelCase": "bookStatusChanged",
                        "namePlural": "",
                        "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "x": 300,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "x": 300,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "11766f02-d07c-b04d-f277-df41063ffee8": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "11766f02-d07c-b04d-f277-df41063ffee8",
                        "visibility": "public",
                        "name": "BookLoanHistoryRecorded",
                        "oldName": "",
                        "displayName": "도서 대출 이력 기록됨",
                        "namePascalCase": "BookLoanHistoryRecorded",
                        "nameCamelCase": "bookLoanHistoryRecorded",
                        "namePlural": "",
                        "description": "도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "11766f02-d07c-b04d-f277-df41063ffee8",
                            "x": 500,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "11766f02-d07c-b04d-f277-df41063ffee8",
                            "x": 500,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "2b8606f2-a4dd-69bb-7c29-152a76db8176": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "2b8606f2-a4dd-69bb-7c29-152a76db8176",
                        "visibility": "public",
                        "name": "BookStatusHistoryRecorded",
                        "oldName": "",
                        "displayName": "도서 상태 변경 이력 기록됨",
                        "namePascalCase": "BookStatusHistoryRecorded",
                        "nameCamelCase": "bookStatusHistoryRecorded",
                        "namePlural": "",
                        "description": "도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2b8606f2-a4dd-69bb-7c29-152a76db8176",
                            "x": 700,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "2b8606f2-a4dd-69bb-7c29-152a76db8176",
                            "x": 700,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "6b512931-4d1c-9acb-4f70-8576be3f9780": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                        "visibility": "public",
                        "name": "BookLoaned",
                        "oldName": "",
                        "displayName": "도서 대출됨",
                        "namePascalCase": "BookLoaned",
                        "nameCamelCase": "bookLoaned",
                        "namePlural": "",
                        "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "x": 300,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "x": 300,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "c9519b8b-5b4f-1eec-6aa3-cb9397705ace": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                        "visibility": "public",
                        "name": "BookReserved",
                        "oldName": "",
                        "displayName": "도서 예약됨",
                        "namePascalCase": "BookReserved",
                        "nameCamelCase": "bookReserved",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                            "x": 500,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                            "x": 500,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "42b87a95-6d5f-5e42-02c4-44af1b626147": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                        "visibility": "public",
                        "name": "BookLoanExtended",
                        "oldName": "",
                        "displayName": "도서 대출 연장됨",
                        "namePascalCase": "BookLoanExtended",
                        "nameCamelCase": "bookLoanExtended",
                        "namePlural": "",
                        "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                            "x": 700,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                            "x": 700,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                        "visibility": "public",
                        "name": "BookReturned",
                        "oldName": "",
                        "displayName": "도서 반납됨",
                        "namePascalCase": "BookReturned",
                        "nameCamelCase": "bookReturned",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "x": 900,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "x": 900,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    }
                },
                "relations": {
                    "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                        "to": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                        "description": "",
                        "relationView": {
                            "id": "c2e30bfe-2848-ed6a-04fd-e7ef3a5f6244",
                            "value": "[[0,275],[2000,275]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,275],[2000,275]]"
                    },
                    "5172516f-5aaf-450b-b384-983adc782162": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "5172516f-5aaf-450b-b384-983adc782162",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "5172516f-5aaf-450b-b384-983adc782162",
                        "to": "5172516f-5aaf-450b-b384-983adc782162",
                        "description": "",
                        "relationView": {
                            "id": "5172516f-5aaf-450b-b384-983adc782162",
                            "value": "[[0,525],[2000,525]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,525],[2000,525]]"
                    },
                    "24c74bf6-5ecd-0ddd-6ddf-e413296c6158": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                        "to": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                        "description": "",
                        "relationView": {
                            "id": "24c74bf6-5ecd-0ddd-6ddf-e413296c6158",
                            "value": "[[0,775],[2000,775]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,775],[2000,775]]"
                    },
                    "93c333db-f2f2-faa8-9db1-362ea53fa63d": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "93c333db-f2f2-faa8-9db1-362ea53fa63d",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                            "visibility": "public",
                            "name": "BookRegistered",
                            "oldName": "",
                            "displayName": "도서 등록됨",
                            "namePascalCase": "BookRegistered",
                            "nameCamelCase": "bookRegistered",
                            "namePlural": "",
                            "description": "사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                "x": 300,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "53939483-df9b-d60f-971d-a687cb832b3e",
                                "x": 300,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "53939483-df9b-d60f-971d-a687cb832b3e",
                        "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "relationView": {
                            "id": "93c333db-f2f2-faa8-9db1-362ea53fa63d",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "53939483-df9b-d60f-971d-a687cb832b3e",
                            "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "needReconnect": true
                        }
                    },
                    "e0b9ed93-660f-a58d-a3dd-39c24cfbd27e": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "e0b9ed93-660f-a58d-a3dd-39c24cfbd27e",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                        "relationView": {
                            "id": "e0b9ed93-660f-a58d-a3dd-39c24cfbd27e",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "needReconnect": true
                        }
                    },
                    "2aa1a57f-26f2-91e9-3e46-a9c10d824a5c": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "2aa1a57f-26f2-91e9-3e46-a9c10d824a5c",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                        "relationView": {
                            "id": "2aa1a57f-26f2-91e9-3e46-a9c10d824a5c",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "needReconnect": true
                        }
                    },
                    "677e0910-ad3f-d7ff-3bfa-2360e510742a": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "677e0910-ad3f-d7ff-3bfa-2360e510742a",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "to": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                        "relationView": {
                            "id": "677e0910-ad3f-d7ff-3bfa-2360e510742a",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "to": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                            "needReconnect": true
                        }
                    },
                    "87cfa9d4-d31f-1bd2-2642-f293e7190668": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "87cfa9d4-d31f-1bd2-2642-f293e7190668",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                            "visibility": "public",
                            "name": "BookDiscarded",
                            "oldName": "",
                            "displayName": "도서 폐기됨",
                            "namePascalCase": "BookDiscarded",
                            "nameCamelCase": "bookDiscarded",
                            "namePlural": "",
                            "description": "사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                "x": 500,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                                "x": 500,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "to": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                        "relationView": {
                            "id": "87cfa9d4-d31f-1bd2-2642-f293e7190668",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "to": "2bd613a2-3c4e-1e30-d2dd-8bf7d978d54d",
                            "needReconnect": true
                        }
                    },
                    "fda51825-801f-c588-e13d-433bd4b27cae": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "fda51825-801f-c588-e13d-433bd4b27cae",
                        "name": "3",
                        "displayName": "3",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                            "visibility": "public",
                            "name": "BookLoanExtended",
                            "oldName": "",
                            "displayName": "도서 대출 연장됨",
                            "namePascalCase": "BookLoanExtended",
                            "nameCamelCase": "bookLoanExtended",
                            "namePlural": "",
                            "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                        "to": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                        "relationView": {
                            "id": "fda51825-801f-c588-e13d-433bd4b27cae",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "to": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                            "needReconnect": true
                        }
                    },
                    "f3750b23-24b1-2915-4257-529d981d1269": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "f3750b23-24b1-2915-4257-529d981d1269",
                        "name": "3",
                        "displayName": "3",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                        "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                        "relationView": {
                            "id": "f3750b23-24b1-2915-4257-529d981d1269",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "needReconnect": true
                        }
                    },
                    "d537e621-9bbf-1580-cdeb-a08eb18976cf": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "d537e621-9bbf-1580-cdeb-a08eb18976cf",
                        "name": "4",
                        "displayName": "4",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                        "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                        "relationView": {
                            "id": "d537e621-9bbf-1580-cdeb-a08eb18976cf",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c9519b8b-5b4f-1eec-6aa3-cb9397705ace",
                            "to": "6b512931-4d1c-9acb-4f70-8576be3f9780",
                            "needReconnect": true
                        }
                    },
                    "675246f6-8ff9-b549-133c-2c74f8108691": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "675246f6-8ff9-b549-133c-2c74f8108691",
                        "name": "5",
                        "displayName": "5",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                            "visibility": "public",
                            "name": "BookLoanExtended",
                            "oldName": "",
                            "displayName": "도서 대출 연장됨",
                            "namePascalCase": "BookLoanExtended",
                            "nameCamelCase": "bookLoanExtended",
                            "namePlural": "",
                            "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                        "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                        "relationView": {
                            "id": "675246f6-8ff9-b549-133c-2c74f8108691",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "42b87a95-6d5f-5e42-02c4-44af1b626147",
                            "to": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "needReconnect": true
                        }
                    },
                    "d3757442-3eb7-f712-d3b7-d10d2d6ee83e": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "d3757442-3eb7-f712-d3b7-d10d2d6ee83e",
                        "name": "6",
                        "displayName": "6",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "800d71b2-66c3-ff70-c446-7d794d457baa",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                        "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                        "relationView": {
                            "id": "d3757442-3eb7-f712-d3b7-d10d2d6ee83e",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "281b8d6c-9b4d-cb99-8fc9-4c7c918bb703",
                            "to": "800d71b2-66c3-ff70-c446-7d794d457baa",
                            "needReconnect": true
                        }
                    }
                }
            },
            "analysisResult": {
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "이번 도메인 분석에서는 도서관의 업무를 네 가지 주요 비즈니스 역량(도서 관리, 대출/반납 관리, 예약 관리, 이력 관리)로 구분하는 것이 적합합니다. 1) 도서 관리(도서 등록, 상태 변경, 폐기 등)는 도서의 라이프사이클과 관련된 모든 업무를 담당합니다. 2) 대출/반납 관리는 회원 인증, 대출/반납 처리, 연장 등 대출 프로세스의 핵심을 담당합니다. 3) 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당하며, 대출/반납과 밀접하게 연계됩니다. 4) 이력 관리는 각 도서별 대출 및 상태 변경 이력의 저장과 조회를 담당합니다. 각 컨텍스트는 명확한 경계와 책임을 가지며, 비즈니스 규칙과 상태 전이의 복잡성, 그리고 액터 간 상호작용(예: 도서 상태 변경이 대출/예약/반납과 연계됨)에 따라 4개의 컨텍스트로 분리하는 것이 유지보수성과 확장성, 조직 내 역할 분담에 가장 적합합니다.",
                "events": [
                    {
                        "name": "BookRegistered",
                        "displayName": "도서 등록됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 새로운 도서를 도서 관리 화면에서 등록함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 통과한 후 도서가 등록됨. 등록된 도서는 '대출가능' 상태가 됨.",
                        "inputs": [
                            "도서명",
                            "ISBN(13자리)",
                            "저자",
                            "출판사",
                            "카테고리(소설/비소설/학술/잡지)"
                        ],
                        "outputs": [
                            "신규 도서(대출가능 상태)"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    57
                                ],
                                [
                                    3,
                                    177
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStatusChanged",
                        "displayName": "도서 상태 변경됨",
                        "actor": "System",
                        "level": 2,
                        "description": "도서가 등록, 대출, 반납, 예약, 폐기 등 주요 이벤트 발생 시 상태가 자동으로 변경됨. 예: 등록 시 '대출가능', 대출 시 '대출중', 반납 시 '대출가능' 또는 '예약중', 폐기 시 '폐기' 등.",
                        "inputs": [
                            "도서 이벤트(등록/대출/반납/예약/폐기 등)"
                        ],
                        "outputs": [
                            "도서 상태 변경"
                        ],
                        "nextEvents": [
                            "BookLoaned",
                            "BookReturned",
                            "BookReserved",
                            "BookDiscarded"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    3,
                                    238
                                ]
                            ],
                            [
                                [
                                    7,
                                    150
                                ],
                                [
                                    7,
                                    159
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoaned",
                        "displayName": "도서 대출됨",
                        "actor": "Member",
                        "level": 3,
                        "description": "회원이 도서 대출/반납 화면에서 회원 인증 후 대출할 도서를 선택하고 대출 기간을 지정하여 대출을 완료함. 도서 상태가 '대출중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "이름",
                            "도서명 또는 ISBN",
                            "대출 기간(7/14/30일)"
                        ],
                        "outputs": [
                            "대출 기록",
                            "도서 상태 '대출중'"
                        ],
                        "nextEvents": [
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    23
                                ],
                                [
                                    5,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReserved",
                        "displayName": "도서 예약됨",
                        "actor": "Member",
                        "level": 4,
                        "description": "회원이 대출 중인 도서에 대해 예약 신청을 완료함. 도서 상태가 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "이름",
                            "도서명 또는 ISBN"
                        ],
                        "outputs": [
                            "예약 기록",
                            "도서 상태 '예약중'"
                        ],
                        "nextEvents": [
                            "BookLoaned"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    191
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoanExtended",
                        "displayName": "도서 대출 연장됨",
                        "actor": "Member",
                        "level": 5,
                        "description": "회원이 대출 현황 화면에서 대출 중인 도서의 대출 기간을 연장함.",
                        "inputs": [
                            "회원번호",
                            "도서명 또는 ISBN",
                            "연장 요청"
                        ],
                        "outputs": [
                            "대출 기간 연장"
                        ],
                        "nextEvents": [
                            "BookReturned"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    109
                                ],
                                [
                                    7,
                                    110
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReturned",
                        "displayName": "도서 반납됨",
                        "actor": "Member",
                        "level": 6,
                        "description": "회원이 대출 중인 도서를 반납함. 도서 상태가 '대출가능' 또는 예약자가 있을 경우 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서명 또는 ISBN"
                        ],
                        "outputs": [
                            "반납 기록",
                            "도서 상태 변경"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    58
                                ],
                                [
                                    7,
                                    59
                                ]
                            ],
                            [
                                [
                                    7,
                                    175
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookDiscarded",
                        "displayName": "도서 폐기됨",
                        "actor": "Librarian",
                        "level": 7,
                        "description": "사서가 훼손되거나 분실된 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "inputs": [
                            "도서명 또는 ISBN",
                            "폐기 사유"
                        ],
                        "outputs": [
                            "도서 상태 '폐기'"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    286
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoanHistoryRecorded",
                        "displayName": "도서 대출 이력 기록됨",
                        "actor": "System",
                        "level": 8,
                        "description": "도서의 대출 및 반납, 연장 등 주요 상태 변경 시 대출 이력이 자동으로 기록됨.",
                        "inputs": [
                            "도서 이벤트(대출/반납/연장)"
                        ],
                        "outputs": [
                            "대출 이력"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    53
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStatusHistoryRecorded",
                        "displayName": "도서 상태 변경 이력 기록됨",
                        "actor": "System",
                        "level": 9,
                        "description": "도서의 상태가 변경될 때마다 상태 변경 이력이 자동으로 기록됨.",
                        "inputs": [
                            "도서 상태 변경 이벤트"
                        ],
                        "outputs": [
                            "상태 변경 이력"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    60
                                ]
                            ]
                        ]
                    }
                ],
                "actors": [
                    {
                        "name": "Librarian",
                        "events": [
                            "BookRegistered",
                            "BookDiscarded"
                        ],
                        "lane": 0
                    },
                    {
                        "name": "Member",
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "lane": 1
                    },
                    {
                        "name": "System",
                        "events": [
                            "BookStatusChanged",
                            "BookLoanHistoryRecorded",
                            "BookStatusHistoryRecorded"
                        ],
                        "lane": 2
                    }
                ]
            },
            "currentGeneratedLength": 4776
        },
        "commandReadModelData": {
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "commands": [
                        {
                            "name": "RegisterBook",
                            "actor": "admin",
                            "aggregate": "Book",
                            "description": "관리자가 새로운 도서를 등록하고, 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력하여 도서 정보를 시스템에 추가합니다. 등록 시 ISBN 중복 및 유효성 검증이 수행됩니다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "DiscardBook",
                            "actor": "admin",
                            "aggregate": "Book",
                            "description": "관리자가 훼손되거나 분실된 도서를 폐기 처리하여 더 이상 대출이 불가능하도록 합니다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ChangeBookStatus",
                            "actor": "system",
                            "aggregate": "Book",
                            "description": "도서의 대출/반납/예약 상황에 따라 도서 상태를 '대출가능', '대출중', '예약중', '폐기' 등으로 자동 변경합니다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        191
                                    ],
                                    [
                                        3,
                                        241
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        214
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        150
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        206
                                    ]
                                ]
                            ]
                        }
                    ],
                    "readModels": [
                        {
                            "name": "BookList",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "description": "현재 보유한 모든 도서의 목록과 상태 정보를 조회합니다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        31
                                    ],
                                    [
                                        3,
                                        48
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookDetail",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": false,
                            "description": "특정 도서의 상세 정보(도서명, ISBN, 저자, 출판사, 카테고리, 상태 등)를 조회합니다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "CategoryList",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "description": "도서 등록 시 선택 가능한 카테고리(소설/비소설/학술/잡지) 목록을 제공합니다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        136
                                    ],
                                    [
                                        3,
                                        163
                                    ]
                                ]
                            ]
                        }
                    ]
                },
                {
                    "name": "LoanProcessing",
                    "commands": [
                        {
                            "name": "LoanBook",
                            "actor": "user",
                            "aggregate": "Loan",
                            "description": "회원이 도서를 대출 신청할 때 회원 인증(회원번호, 이름 확인) 후 대출할 도서를 선택하고, 대출 기간을 지정하여 대출을 진행합니다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        126
                                    ],
                                    [
                                        5,
                                        152
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ReserveBook",
                            "actor": "user",
                            "aggregate": "Reservation",
                            "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서에 대해 예약 신청을 할 수 있습니다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        171
                                    ],
                                    [
                                        5,
                                        188
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ReturnBook",
                            "actor": "user",
                            "aggregate": "Loan",
                            "description": "회원이 대출한 도서를 반납하여 도서의 상태를 변경하고, 예약자가 있는 경우 예약 상태로 전환합니다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        28
                                    ],
                                    [
                                        5,
                                        40
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "ExtendLoan",
                            "actor": "user",
                            "aggregate": "Loan",
                            "description": "대출 중인 도서에 대해 회원이 대출 기간을 연장할 수 있습니다.",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        }
                    ],
                    "readModels": [
                        {
                            "name": "LoanStatusList",
                            "actor": "admin",
                            "aggregate": "Loan",
                            "isMultipleResult": true,
                            "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 조회합니다.",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        89
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookSearch",
                            "actor": "user",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "description": "도서명 또는 ISBN으로 도서를 검색하여 대출/예약 시 선택할 수 있도록 합니다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        96
                                    ],
                                    [
                                        5,
                                        117
                                    ]
                                ]
                            ]
                        }
                    ]
                },
                {
                    "name": "HistoryTracking",
                    "commands": [],
                    "readModels": [
                        {
                            "name": "BookLoanHistory",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "description": "특정 도서별로 대출 이력을 조회하여 해당 도서의 대출 현황을 추적합니다.",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        29
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        49
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookStatusChangeHistory",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "description": "특정 도서의 상태 변경 이력을 조회하여 도서의 상태 변화 과정을 확인합니다.",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        29
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        56
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ]
                }
            ]
        },
        "siteMap": [
            {
                "id": "node-1760940086072-d2qbflyo9",
                "title": "도서관 도서 관리 및 대출 시스템",
                "url": "",
                "description": "도서관의 도서 등록, 상태 관리, 대출/반납/예약, 대출 현황 및 이력 추적을 위한 통합 관리 웹사이트",
                "children": [
                    {
                        "id": "book-management",
                        "title": "도서 관리",
                        "url": "/books",
                        "description": "도서 등록, 상태 관리, 폐기 등 도서의 라이프사이클을 관리하는 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "register-book",
                                "title": "도서 등록",
                                "url": "/도서-등록",
                                "description": "새로운 도서를 등록하고, 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력합니다.",
                                "reference": "RegisterBook",
                                "children": []
                            },
                            {
                                "id": "book-list",
                                "title": "도서 목록",
                                "url": "/도서-목록",
                                "description": "현재 보유한 모든 도서의 목록과 상태 정보를 조회합니다.",
                                "reference": "BookList",
                                "children": []
                            },
                            {
                                "id": "book-detail",
                                "title": "도서 상세 정보",
                                "url": "/도서-상세-정보",
                                "description": "특정 도서의 상세 정보(도서명, ISBN, 저자, 출판사, 카테고리, 상태 등)를 조회합니다.",
                                "reference": "BookDetail",
                                "children": []
                            },
                            {
                                "id": "category-list",
                                "title": "카테고리 목록",
                                "url": "/카테고리-목록",
                                "description": "도서 등록 시 선택 가능한 카테고리(소설/비소설/학술/잡지) 목록을 제공합니다.",
                                "reference": "CategoryList",
                                "children": []
                            },
                            {
                                "id": "discard-book",
                                "title": "도서 폐기",
                                "url": "/도서-폐기",
                                "description": "훼손되거나 분실된 도서를 폐기 처리하여 더 이상 대출이 불가능하도록 합니다.",
                                "reference": "DiscardBook",
                                "children": []
                            },
                            {
                                "id": "change-book-status",
                                "title": "도서 상태 자동 변경",
                                "url": "/도서-상태-자동-변경",
                                "description": "도서의 대출/반납/예약 상황에 따라 도서 상태를 자동으로 변경합니다.",
                                "reference": "ChangeBookStatus",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "loan-processing",
                        "title": "대출/반납",
                        "url": "/loans",
                        "description": "회원 인증, 도서 대출/반납/연장, 예약 등 대출 프로세스를 관리하는 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "loan-book",
                                "title": "도서 대출 신청",
                                "url": "/도서-대출-신청",
                                "description": "회원 인증 후 대출할 도서를 선택하고, 대출 기간을 지정하여 대출을 진행합니다.",
                                "reference": "LoanBook",
                                "children": []
                            },
                            {
                                "id": "reserve-book",
                                "title": "도서 예약 신청",
                                "url": "/도서-예약-신청",
                                "description": "대출 중인 도서에 대해 예약 신청을 할 수 있습니다.",
                                "reference": "ReserveBook",
                                "children": []
                            },
                            {
                                "id": "return-book",
                                "title": "도서 반납",
                                "url": "/도서-반납",
                                "description": "대출한 도서를 반납하여 도서의 상태를 변경하고, 예약자가 있는 경우 예약 상태로 전환합니다.",
                                "reference": "ReturnBook",
                                "children": []
                            },
                            {
                                "id": "extend-loan",
                                "title": "대출 연장",
                                "url": "/대출-연장",
                                "description": "대출 중인 도서에 대해 대출 기간을 연장할 수 있습니다.",
                                "reference": "ExtendLoan",
                                "children": []
                            },
                            {
                                "id": "book-search",
                                "title": "도서 검색",
                                "url": "/도서-검색",
                                "description": "도서명 또는 ISBN으로 도서를 검색하여 대출/예약 시 선택할 수 있도록 합니다.",
                                "reference": "BookSearch",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "loan-status",
                        "title": "대출 현황",
                        "url": "/loan-status",
                        "description": "현재 대출 중인 도서들의 목록과 대출 상태, 연장 및 반납 처리를 관리하는 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "loan-status-list",
                                "title": "대출 현황 목록",
                                "url": "/대출-현황-목록",
                                "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 조회합니다.",
                                "reference": "LoanStatusList",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "history-tracking",
                        "title": "이력 조회",
                        "url": "/history",
                        "description": "도서별 대출 이력과 상태 변경 이력을 조회하여 도서의 상태 변화를 추적하는 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "book-loan-history",
                                "title": "도서 대출 이력",
                                "url": "/도서-대출-이력",
                                "description": "특정 도서별로 대출 이력을 조회하여 해당 도서의 대출 현황을 추적합니다.",
                                "reference": "BookLoanHistory",
                                "children": []
                            },
                            {
                                "id": "book-status-change-history",
                                "title": "도서 상태 변경 이력",
                                "url": "/도서-상태-변경-이력",
                                "description": "특정 도서의 상태 변경 이력을 조회하여 도서의 상태 변화 과정을 확인합니다.",
                                "reference": "BookStatusChangeHistory",
                                "children": []
                            }
                        ]
                    }
                ]
            }
        ],
        "selectedAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리"
    }
}