export const aggregateDraftScenarios = {
    "libraryApplication": {
        "selectedStructureOption": {
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "importance": "Core Domain",
                    "complexity": 0.7,
                    "differentiation": 0.9,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "events": [
                        "BookRegistered",
                        "BookStatusChanged",
                        "BookDisposed"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ],
                            "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        24,
                                        4
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        84,
                                        4
                                    ],
                                    [
                                        96,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        136
                                    ],
                                    [
                                        3,
                                        161
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        191
                                    ],
                                    [
                                        3,
                                        238
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        150
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                    "roleRefs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                3,
                                265
                            ]
                        ]
                    ],
                    "siteMap": [
                        {
                            "id": "book-list-view",
                            "title": "도서 목록 조회",
                            "name": "BookListView",
                            "description": "현재 보유 도서의 목록과 상태를 조회",
                            "boundedContext": "BookManagement",
                            "functionType": "view",
                            "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                        },
                        {
                            "id": "book-create-command",
                            "title": "도서 등록",
                            "name": "BookCreateCommand",
                            "description": "새로운 도서를 등록",
                            "boundedContext": "BookManagement",
                            "functionType": "command",
                            "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                        },
                        {
                            "id": "book-edit-command",
                            "title": "도서 정보 수정",
                            "name": "BookEditCommand",
                            "description": "기존 도서의 정보를 수정",
                            "boundedContext": "BookManagement",
                            "functionType": "command",
                            "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                        },
                        {
                            "id": "book-dispose-command",
                            "title": "도서 폐기 처리",
                            "name": "BookDisposeCommand",
                            "description": "훼손 또는 분실된 도서를 폐기 처리",
                            "boundedContext": "BookManagement",
                            "functionType": "command",
                            "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                        },
                        {
                            "id": "book-status-change-view",
                            "title": "도서 상태 변경 이력 조회",
                            "name": "BookStatusChangeHistoryView",
                            "description": "도서별 상태 변경 이력을 조회",
                            "boundedContext": "BookManagement",
                            "functionType": "view",
                            "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                        }
                    ]
                },
                {
                    "name": "LoanAndReservation",
                    "alias": "대출/반납 및 예약",
                    "importance": "Core Domain",
                    "complexity": 0.8,
                    "differentiation": 0.95,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "events": [
                        "BookLoaned",
                        "BookReserved",
                        "BookReturned",
                        "LoanExtended"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        1,
                                        13
                                    ],
                                    [
                                        1,
                                        29
                                    ]
                                ]
                            ],
                            "text": "대출/반납을 통합적으로 관리하는"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        5,
                                        82
                                    ]
                                ]
                            ],
                            "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        184
                                    ]
                                ]
                            ],
                            "text": "예약"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        59
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        110
                                    ]
                                ]
                            ],
                            "text": "연장"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        16
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        66,
                                        1
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        59
                                    ],
                                    [
                                        5,
                                        77
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        43
                                    ],
                                    [
                                        5,
                                        126
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        193
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                    "roleRefs": [
                        [
                            [
                                5,
                                2
                            ],
                            [
                                7,
                                203
                            ]
                        ]
                    ],
                    "siteMap": []
                },
                {
                    "name": "LoanHistory",
                    "alias": "이력 관리",
                    "importance": "Generic Domain",
                    "complexity": 0.5,
                    "differentiation": 0.5,
                    "implementationStrategy": "PBC: PBC-Test",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "ReservationHistory",
                            "alias": "예약 이력"
                        }
                    ],
                    "events": [
                        "LoanHistoryRecorded",
                        "ReservationHistoryRecorded"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        12
                                    ]
                                ]
                            ],
                            "text": "대출 이력"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        12
                                    ],
                                    [
                                        9,
                                        15
                                    ]
                                ]
                            ],
                            "text": "력과 상"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        111,
                                        25
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                    "roleRefs": [
                        [
                            [
                                9,
                                8
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ],
                    "siteMap": []
                }
            ],
            "relations": [
                {
                    "name": "BookManagement-LoanAndReservation",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                7,
                                203
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanAndReservation-LoanHistory",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "downStream": {
                        "name": "LoanHistory",
                        "alias": "이력 관리"
                    },
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                },
                {
                    "name": "BookManagement-LoanHistory",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanHistory",
                        "alias": "이력 관리"
                    },
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                }
            ],
            "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
            "explanations": [
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출/반납 및 예약",
                    "relationType": "Pub/Sub",
                    "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                    "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                7,
                                203
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 및 예약",
                    "targetContext": "이력 관리",
                    "relationType": "Pub/Sub",
                    "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                    "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "이력 관리",
                    "relationType": "Pub/Sub",
                    "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                    "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                }
            ],
            "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
            "currentGeneratedLength": 4161
        },
        "resultDevideBoundedContext": {
            "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookStatusChanged",
                            "BookDisposed"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            24,
                                            4
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            84,
                                            4
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    265
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "book-list-view",
                                "title": "도서 목록 조회",
                                "name": "BookListView",
                                "description": "현재 보유 도서의 목록과 상태를 조회",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                            },
                            {
                                "id": "book-create-command",
                                "title": "도서 등록",
                                "name": "BookCreateCommand",
                                "description": "새로운 도서를 등록",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                            },
                            {
                                "id": "book-edit-command",
                                "title": "도서 정보 수정",
                                "name": "BookEditCommand",
                                "description": "기존 도서의 정보를 수정",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                            },
                            {
                                "id": "book-dispose-command",
                                "title": "도서 폐기 처리",
                                "name": "BookDisposeCommand",
                                "description": "훼손 또는 분실된 도서를 폐기 처리",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                            },
                            {
                                "id": "book-status-change-view",
                                "title": "도서 상태 변경 이력 조회",
                                "name": "BookStatusChangeHistoryView",
                                "description": "도서별 상태 변경 이력을 조회",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                            }
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookReturned",
                            "LoanExtended"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            1,
                                            13
                                        ],
                                        [
                                            1,
                                            29
                                        ]
                                    ]
                                ],
                                "text": "대출/반납을 통합적으로 관리하는"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            5,
                                            82
                                        ]
                                    ]
                                ],
                                "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            184
                                        ]
                                    ]
                                ],
                                "text": "예약"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "text": "연장"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            16
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ],
                        "siteMap": []
                    },
                    {
                        "name": "LoanHistory",
                        "alias": "이력 관리",
                        "importance": "Generic Domain",
                        "complexity": 0.5,
                        "differentiation": 0.5,
                        "implementationStrategy": "PBC: PBC-Test",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "ReservationHistory",
                                "alias": "예약 이력"
                            }
                        ],
                        "events": [
                            "LoanHistoryRecorded",
                            "ReservationHistoryRecorded"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            12
                                        ]
                                    ]
                                ],
                                "text": "대출 이력"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            12
                                        ],
                                        [
                                            9,
                                            15
                                        ]
                                    ]
                                ],
                                "text": "력과 상"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            111,
                                            25
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                        "roleRefs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ],
                        "siteMap": []
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanAndReservation",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 및 예약",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                        "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                        "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                        "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 4161
            }
        },
        "boundedContextVersion": {
            "data": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookStatusChanged",
                            "BookDisposed"
                        ],
                        "requirements": [],
                        "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    265
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "book-list-view",
                                "title": "도서 목록 조회",
                                "name": "BookListView",
                                "description": "현재 보유 도서의 목록과 상태를 조회",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                            },
                            {
                                "id": "book-create-command",
                                "title": "도서 등록",
                                "name": "BookCreateCommand",
                                "description": "새로운 도서를 등록",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                            },
                            {
                                "id": "book-edit-command",
                                "title": "도서 정보 수정",
                                "name": "BookEditCommand",
                                "description": "기존 도서의 정보를 수정",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                            },
                            {
                                "id": "book-dispose-command",
                                "title": "도서 폐기 처리",
                                "name": "BookDisposeCommand",
                                "description": "훼손 또는 분실된 도서를 폐기 처리",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                            },
                            {
                                "id": "book-status-change-view",
                                "title": "도서 상태 변경 이력 조회",
                                "name": "BookStatusChangeHistoryView",
                                "description": "도서별 상태 변경 이력을 조회",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                            }
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookReturned",
                            "LoanExtended"
                        ],
                        "requirements": [],
                        "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ],
                        "siteMap": []
                    },
                    {
                        "name": "LoanHistory",
                        "alias": "이력 관리",
                        "importance": "Generic Domain",
                        "complexity": 0.5,
                        "differentiation": 0.5,
                        "implementationStrategy": "PBC: PBC-Test",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "ReservationHistory",
                                "alias": "예약 이력"
                            }
                        ],
                        "events": [
                            "LoanHistoryRecorded",
                            "ReservationHistoryRecorded"
                        ],
                        "requirements": [],
                        "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                        "roleRefs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ],
                        "siteMap": []
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanAndReservation",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 및 예약",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                        "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                        "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                        "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 4161
            },
            "version": 1,
            "aspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리"
        },
        "draftOptions": {
            "BookManagement": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Book",
                            "alias": "도서",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        265
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        56
                                    ],
                                    [
                                        3,
                                        301
                                    ]
                                ],
                                [
                                    [
                                        25,
                                        1
                                    ],
                                    [
                                        25,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        26,
                                        1
                                    ],
                                    [
                                        26,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        27,
                                        1
                                    ],
                                    [
                                        27,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        28,
                                        1
                                    ],
                                    [
                                        28,
                                        37
                                    ]
                                ],
                                [
                                    [
                                        29,
                                        1
                                    ],
                                    [
                                        29,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        30,
                                        1
                                    ],
                                    [
                                        30,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        31,
                                        1
                                    ],
                                    [
                                        31,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        32,
                                        1
                                    ],
                                    [
                                        32,
                                        59
                                    ]
                                ],
                                [
                                    [
                                        33,
                                        1
                                    ],
                                    [
                                        33,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        34,
                                        1
                                    ],
                                    [
                                        34,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        35,
                                        1
                                    ],
                                    [
                                        35,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        36,
                                        1
                                    ],
                                    [
                                        36,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        37,
                                        1
                                    ],
                                    [
                                        37,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        38,
                                        1
                                    ],
                                    [
                                        38,
                                        28
                                    ]
                                ],
                                [
                                    [
                                        39,
                                        1
                                    ],
                                    [
                                        39,
                                        26
                                    ]
                                ],
                                [
                                    [
                                        40,
                                        1
                                    ],
                                    [
                                        40,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        41,
                                        1
                                    ],
                                    [
                                        41,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        42,
                                        1
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            22
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            19
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            183
                                        ],
                                        [
                                            3,
                                            265
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookCategory",
                                "alias": "도서 카테고리",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            41
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            86
                                        ],
                                        [
                                            3,
                                            156
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            6
                                        ],
                                        [
                                            9,
                                            10
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationReference",
                                "alias": "예약 참조",
                                "referencedAggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            222
                                        ],
                                        [
                                            3,
                                            224
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "도서의 등록, 상태 변경, 폐기 등 모든 핵심 도서 관리 기능이 Book Aggregate에 집중되어 있어 도메인 응집도가 매우 높음.",
                    "coupling": "대출/예약과의 연동은 ValueObject 참조로만 처리되어 타 컨텍스트와의 결합도가 낮음.",
                    "consistency": "도서 상태와 관련된 비즈니스 불변성이 단일 트랜잭션 내에서 강하게 보장됨.",
                    "encapsulation": "도서의 상태, 대출/예약 참조, 폐기 정보 등 모든 도메인 규칙이 Book 내부에 은닉되어 있음.",
                    "complexity": "구현 및 이해가 단순하며, 도서별 상태 관리가 한 곳에서 이루어져 개발자 부담이 적음.",
                    "independence": "Book Aggregate만으로 도서 관리의 대부분을 처리할 수 있어 타 Aggregate 변화에 영향이 적음.",
                    "performance": "도서 상태 변경, 폐기 등 주요 연산이 단일 Aggregate에서 처리되어 조회 및 갱신 성능이 우수함."
                },
                "cons": {
                    "cohesion": "상태 변경 이력, 대출/예약 참조 등 다양한 책임이 Book에 집중되어 도메인 역할이 다소 혼재될 수 있음.",
                    "coupling": "Book이 모든 도서 관련 정보를 직접 관리하므로, 도서 이력이나 확장 요구가 커질 경우 Aggregate가 비대해질 수 있음.",
                    "consistency": "상태 변경 이력 등 부가 정보가 많아질수록 트랜잭션 크기가 커질 수 있음.",
                    "encapsulation": "상태 이력 등 부가 기능이 많아질 경우 도메인 규칙의 은닉성이 다소 약화될 수 있음.",
                    "complexity": "도서 관리와 이력 관리, 대출/예약 참조까지 모두 포함되어 Aggregate가 점차 복잡해질 수 있음.",
                    "independence": "이력 관리 등 부가 기능 확장 시 Book Aggregate의 독립성이 저하될 수 있음.",
                    "performance": "상태 변경 이력 등 부가 정보가 많아질 경우 일부 연산에서 성능 저하 가능성 있음."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "displayName": "도서 관리",
                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "requirements": {
                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            265
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            301
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            63
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            24,
                                            1
                                        ],
                                        [
                                            24,
                                            6
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            25,
                                            1
                                        ],
                                        [
                                            25,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            26,
                                            1
                                        ],
                                        [
                                            26,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            27,
                                            1
                                        ],
                                        [
                                            27,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            28,
                                            1
                                        ],
                                        [
                                            28,
                                            37
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            29,
                                            1
                                        ],
                                        [
                                            29,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            30,
                                            1
                                        ],
                                        [
                                            30,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            31,
                                            1
                                        ],
                                        [
                                            31,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            32,
                                            1
                                        ],
                                        [
                                            32,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            33,
                                            1
                                        ],
                                        [
                                            33,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            34,
                                            1
                                        ],
                                        [
                                            34,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            35,
                                            1
                                        ],
                                        [
                                            35,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            36,
                                            1
                                        ],
                                        [
                                            36,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            37,
                                            1
                                        ],
                                        [
                                            37,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            38,
                                            1
                                        ],
                                        [
                                            38,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            39,
                                            1
                                        ],
                                        [
                                            39,
                                            26
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            40,
                                            1
                                        ],
                                        [
                                            40,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            41,
                                            1
                                        ],
                                        [
                                            41,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            42,
                                            1
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            84,
                                            1
                                        ],
                                        [
                                            84,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "siteMap": [
                            {
                                "id": "book-list-view",
                                "title": "도서 목록 조회",
                                "name": "BookListView",
                                "description": "현재 보유 도서의 목록과 상태를 조회",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                            },
                            {
                                "id": "book-create-command",
                                "title": "도서 등록",
                                "name": "BookCreateCommand",
                                "description": "새로운 도서를 등록",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                            },
                            {
                                "id": "book-edit-command",
                                "title": "도서 정보 수정",
                                "name": "BookEditCommand",
                                "description": "기존 도서의 정보를 수정",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                            },
                            {
                                "id": "book-dispose-command",
                                "title": "도서 폐기 처리",
                                "name": "BookDisposeCommand",
                                "description": "훼손 또는 분실된 도서를 폐기 처리",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                            },
                            {
                                "id": "book-status-change-view",
                                "title": "도서 상태 변경 이력 조회",
                                "name": "BookStatusChangeHistoryView",
                                "description": "도서별 상태 변경 이력을 조회",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                            }
                        ]
                    }
                },
                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
            },
            "LoanAndReservation": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Loan",
                            "alias": "대출",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        45,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        46,
                                        1
                                    ],
                                    [
                                        46,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        47,
                                        1
                                    ],
                                    [
                                        47,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        48,
                                        1
                                    ],
                                    [
                                        48,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        49,
                                        1
                                    ],
                                    [
                                        49,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        50,
                                        1
                                    ],
                                    [
                                        50,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        51,
                                        1
                                    ],
                                    [
                                        51,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        52,
                                        1
                                    ],
                                    [
                                        52,
                                        74
                                    ]
                                ],
                                [
                                    [
                                        53,
                                        1
                                    ],
                                    [
                                        53,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        54,
                                        1
                                    ],
                                    [
                                        54,
                                        34
                                    ]
                                ],
                                [
                                    [
                                        55,
                                        1
                                    ],
                                    [
                                        55,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        56,
                                        1
                                    ],
                                    [
                                        56,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        57,
                                        1
                                    ],
                                    [
                                        57,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        58,
                                        1
                                    ],
                                    [
                                        58,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        59,
                                        1
                                    ],
                                    [
                                        59,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        60,
                                        1
                                    ],
                                    [
                                        60,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        61,
                                        1
                                    ],
                                    [
                                        61,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        62,
                                        1
                                    ],
                                    [
                                        62,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        63,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        79
                                    ],
                                    [
                                        5,
                                        81
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        59
                                    ],
                                    [
                                        5,
                                        77
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        43
                                    ],
                                    [
                                        5,
                                        126
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 상태",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationReference",
                                "alias": "예약 참조",
                                "referencedAggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            18
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            38
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            39
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            41
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregate": {
                            "name": "Reservation",
                            "alias": "예약",
                            "refs": [
                                [
                                    [
                                        66,
                                        1
                                    ],
                                    [
                                        66,
                                        27
                                    ]
                                ],
                                [
                                    [
                                        67,
                                        1
                                    ],
                                    [
                                        67,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        68,
                                        1
                                    ],
                                    [
                                        68,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        69,
                                        1
                                    ],
                                    [
                                        69,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        70,
                                        1
                                    ],
                                    [
                                        70,
                                        56
                                    ]
                                ],
                                [
                                    [
                                        71,
                                        1
                                    ],
                                    [
                                        71,
                                        61
                                    ]
                                ],
                                [
                                    [
                                        72,
                                        1
                                    ],
                                    [
                                        72,
                                        44
                                    ]
                                ],
                                [
                                    [
                                        73,
                                        1
                                    ],
                                    [
                                        73,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        74,
                                        1
                                    ],
                                    [
                                        74,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        75,
                                        1
                                    ],
                                    [
                                        75,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        76,
                                        1
                                    ],
                                    [
                                        76,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        77,
                                        1
                                    ],
                                    [
                                        77,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        78,
                                        1
                                    ],
                                    [
                                        78,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        79,
                                        1
                                    ],
                                    [
                                        79,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        80,
                                        1
                                    ],
                                    [
                                        80,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        81,
                                        1
                                    ],
                                    [
                                        81,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        82,
                                        1
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        193
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "ReservationStatus",
                                "alias": "예약 상태",
                                "refs": [
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            44
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            37
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "대출과 예약이 각각의 Aggregate로 분리되어 각 도메인 책임이 명확하며, 각 Aggregate가 자신의 비즈니스 규칙을 집중적으로 관리할 수 있습니다.",
                    "coupling": "Book, Reservation 간 참조는 ValueObject로 일방향으로만 이루어져 결합도가 낮고, 도서 관리 변경이 대출/예약에 직접적인 영향을 주지 않습니다.",
                    "consistency": "대출, 예약 각각의 트랜잭션 경계가 명확하여 상태 변경 시 원자성을 보장할 수 있습니다.",
                    "encapsulation": "각 Aggregate가 자신의 상태와 행위를 완전히 캡슐화하여 외부에서 내부 구현에 접근할 수 없습니다.",
                    "complexity": "Aggregate 수가 적절하여 도메인 복잡도를 효과적으로 관리할 수 있습니다.",
                    "independence": "대출과 예약 기능이 독립적으로 진화 및 확장될 수 있어 유지보수성이 높습니다.",
                    "performance": "대출/예약 각각의 조회 및 변경이 독립적으로 처리되어 동시성 및 성능에 유리합니다."
                },
                "cons": {
                    "cohesion": "대출과 예약 간의 상태 전이(예: 반납 시 예약 자동 처리 등) 로직이 Aggregate 간 조정 로직으로 분산될 수 있습니다.",
                    "coupling": "예약과 대출 간의 상태 동기화가 필요할 때, 두 Aggregate 간의 간접적 연동이 필요하여 구현이 복잡해질 수 있습니다.",
                    "consistency": "예약과 대출이 동시에 변경되어야 하는 복합 트랜잭션의 경우, 분산 트랜잭션 또는 이벤트 기반 보상 로직이 필요할 수 있습니다.",
                    "encapsulation": "예약과 대출의 복합 비즈니스 규칙(예: 예약 우선 순위 반영 등)이 Aggregate 외부에서 처리될 수 있습니다.",
                    "complexity": "예약과 대출의 상호작용을 조율하는 추가 서비스 계층이 필요할 수 있습니다.",
                    "independence": "예약과 대출의 상호작용이 많을 경우, 완전한 독립성 확보가 어려울 수 있습니다.",
                    "performance": "예약과 대출 정보를 통합 조회할 때 Aggregate 간 조인 또는 별도 조회가 필요하여 성능 저하가 발생할 수 있습니다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "LoanAndReservation",
                    "alias": "대출/반납 및 예약",
                    "displayName": "대출/반납 및 예약",
                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "requirements": {
                        "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            38
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            39
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            37
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            41
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "10": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "16": {
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            17
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "18": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            81
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "20": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            9
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            45,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            46,
                                            1
                                        ],
                                        [
                                            46,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            47,
                                            1
                                        ],
                                        [
                                            47,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            48,
                                            1
                                        ],
                                        [
                                            48,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            49,
                                            1
                                        ],
                                        [
                                            49,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            50,
                                            1
                                        ],
                                        [
                                            50,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            51,
                                            1
                                        ],
                                        [
                                            51,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            52,
                                            1
                                        ],
                                        [
                                            52,
                                            74
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            53,
                                            1
                                        ],
                                        [
                                            53,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            54,
                                            1
                                        ],
                                        [
                                            54,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            55,
                                            1
                                        ],
                                        [
                                            55,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            56,
                                            1
                                        ],
                                        [
                                            56,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            57,
                                            1
                                        ],
                                        [
                                            57,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            58,
                                            1
                                        ],
                                        [
                                            58,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            59,
                                            1
                                        ],
                                        [
                                            59,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            60,
                                            1
                                        ],
                                        [
                                            60,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            61,
                                            1
                                        ],
                                        [
                                            61,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            62,
                                            1
                                        ],
                                        [
                                            62,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            63,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            66,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            67,
                                            1
                                        ],
                                        [
                                            67,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            68,
                                            1
                                        ],
                                        [
                                            68,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            69,
                                            1
                                        ],
                                        [
                                            69,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            70,
                                            1
                                        ],
                                        [
                                            70,
                                            56
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            71,
                                            1
                                        ],
                                        [
                                            71,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            72,
                                            1
                                        ],
                                        [
                                            72,
                                            44
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            73,
                                            1
                                        ],
                                        [
                                            73,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            74,
                                            1
                                        ],
                                        [
                                            74,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            75,
                                            1
                                        ],
                                        [
                                            75,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            76,
                                            1
                                        ],
                                        [
                                            76,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            77,
                                            1
                                        ],
                                        [
                                            77,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            78,
                                            1
                                        ],
                                        [
                                            78,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            79,
                                            1
                                        ],
                                        [
                                            79,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            80,
                                            1
                                        ],
                                        [
                                            80,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            81,
                                            1
                                        ],
                                        [
                                            81,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            82,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "82": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "83": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "105": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "122": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "123": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "124": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "125": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "131": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "137": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "138": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "139": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "140": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "141": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "142": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "143": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "144": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "145": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "146": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "147": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "148": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "149": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "150": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "151": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "152": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "153": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "157": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "158": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "159": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "160": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "161": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "162": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "163": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "164": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "165": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "166": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "167": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "168": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "169": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "170": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "171": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "172": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "173": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "174": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "175": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "181": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "182": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "183": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "184": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "187": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "188": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "189": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "190": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "siteMap": []
                    }
                },
                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
            }
        },
        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
        "state": {
            "generator": "RequirementsMappingGenerator",
            "isAIModelSelected": false,
            "firstMessageIsTyping": true,
            "secondMessageIsTyping": false,
            "userStory": "",
            "communicationStyle": "Choreography",
            "aggregateDetail": false,
            "uiStyle": null,
            "associatedProject": "4c558c54796d8f22083465e17f4f3173"
        },
        "messages": [
            {
                "uniqueId": "2b06cf7132ff4c240aac1bd0775ca77e",
                "type": "processAnalysis",
                "isAnalizing": false,
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "processingRate": 0,
                "content": {
                    "type": "ANALYSIS_RESULT",
                    "projectName": "Requirements Analysis",
                    "content": {
                        "elements": {
                            "390d9ad6-e8b1-0508-75ce-07a946d754a9": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "390d9ad6-e8b1-0508-75ce-07a946d754a9",
                                "name": "Librarian",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "390d9ad6-e8b1-0508-75ce-07a946d754a9",
                                    "x": 150,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "95caa185-a0dd-6d33-2345-575c86309c45": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "95caa185-a0dd-6d33-2345-575c86309c45",
                                "name": "Member",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "95caa185-a0dd-6d33-2345-575c86309c45",
                                    "x": 150,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "2b568279-36d9-f183-03c4-d3934740d482": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "2b568279-36d9-f183-03c4-d3934740d482",
                                "name": "System",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "2b568279-36d9-f183-03c4-d3934740d482",
                                    "x": 150,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "1f8b1907-ad9c-3d11-b02d-c329e2202b80": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                "visibility": "public",
                                "name": "BookRegistered",
                                "oldName": "",
                                "displayName": "도서 등록됨",
                                "namePascalCase": "BookRegistered",
                                "nameCamelCase": "bookRegistered",
                                "namePlural": "",
                                "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                    "x": 300,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                    "x": 300,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "46430672-409c-9699-4fd8-1c403afb6ae0": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                "visibility": "public",
                                "name": "BookDisposed",
                                "oldName": "",
                                "displayName": "도서 폐기됨",
                                "namePascalCase": "BookDisposed",
                                "nameCamelCase": "bookDisposed",
                                "namePlural": "",
                                "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                    "x": 500,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                    "x": 500,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "visibility": "public",
                                "name": "BookStatusChanged",
                                "oldName": "",
                                "displayName": "도서 상태 변경됨",
                                "namePascalCase": "BookStatusChanged",
                                "nameCamelCase": "bookStatusChanged",
                                "namePlural": "",
                                "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "x": 300,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "x": 300,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "3fd758ad-d1aa-2d00-84c6-e617a5ca321d": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "visibility": "public",
                                "name": "LoanHistoryRecorded",
                                "oldName": "",
                                "displayName": "대출 이력 기록됨",
                                "namePascalCase": "LoanHistoryRecorded",
                                "nameCamelCase": "loanHistoryRecorded",
                                "namePlural": "",
                                "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "x": 500,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "x": 500,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "0c5189db-fb16-d909-f227-0d57f711a17b": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                "visibility": "public",
                                "name": "ReservationHistoryRecorded",
                                "oldName": "",
                                "displayName": "예약 이력 기록됨",
                                "namePascalCase": "ReservationHistoryRecorded",
                                "nameCamelCase": "reservationHistoryRecorded",
                                "namePlural": "",
                                "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                    "x": 700,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                    "x": 700,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "6f1d672f-a24c-3ce2-a1d8-001277df7fc7": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "visibility": "public",
                                "name": "BookLoaned",
                                "oldName": "",
                                "displayName": "도서 대출됨",
                                "namePascalCase": "BookLoaned",
                                "nameCamelCase": "bookLoaned",
                                "namePlural": "",
                                "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "x": 300,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "x": 300,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "d858202f-6448-5f92-839f-057850558645": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "visibility": "public",
                                "name": "BookReserved",
                                "oldName": "",
                                "displayName": "도서 예약됨",
                                "namePascalCase": "BookReserved",
                                "nameCamelCase": "bookReserved",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d858202f-6448-5f92-839f-057850558645",
                                    "x": 500,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "d858202f-6448-5f92-839f-057850558645",
                                    "x": 500,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "visibility": "public",
                                "name": "BookReturned",
                                "oldName": "",
                                "displayName": "도서 반납됨",
                                "namePascalCase": "BookReturned",
                                "nameCamelCase": "bookReturned",
                                "namePlural": "",
                                "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "x": 700,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "x": 700,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "fdb46713-7a04-0545-7333-76bb78ef9e6b": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                "visibility": "public",
                                "name": "LoanExtended",
                                "oldName": "",
                                "displayName": "대출 연장됨",
                                "namePascalCase": "LoanExtended",
                                "nameCamelCase": "loanExtended",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                    "x": 900,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                    "x": 900,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            }
                        },
                        "relations": {
                            "1145e43c-b5f5-f11d-4ce6-8284718bd16d": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                                "to": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                                "description": "",
                                "relationView": {
                                    "id": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                                    "value": "[[0,275],[2000,275]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,275],[2000,275]]"
                            },
                            "1a7be36f-bc74-c430-34fc-05d2731ae1e7": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                                "to": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                                "description": "",
                                "relationView": {
                                    "id": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                                    "value": "[[0,525],[2000,525]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,525],[2000,525]]"
                            },
                            "2c8dc285-d342-8b02-4648-9c8765948650": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "2c8dc285-d342-8b02-4648-9c8765948650",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "2c8dc285-d342-8b02-4648-9c8765948650",
                                "to": "2c8dc285-d342-8b02-4648-9c8765948650",
                                "description": "",
                                "relationView": {
                                    "id": "2c8dc285-d342-8b02-4648-9c8765948650",
                                    "value": "[[0,775],[2000,775]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,775],[2000,775]]"
                            },
                            "08de7859-04f0-9f44-9d01-34a8f16de0f8": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "08de7859-04f0-9f44-9d01-34a8f16de0f8",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                    "visibility": "public",
                                    "name": "BookRegistered",
                                    "oldName": "",
                                    "displayName": "도서 등록됨",
                                    "namePascalCase": "BookRegistered",
                                    "nameCamelCase": "bookRegistered",
                                    "namePlural": "",
                                    "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                        "x": 300,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                        "x": 300,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "relationView": {
                                    "id": "08de7859-04f0-9f44-9d01-34a8f16de0f8",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                    "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "needReconnect": true
                                }
                            },
                            "5126cbe9-4654-ddff-1703-d9c350d09e40": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "5126cbe9-4654-ddff-1703-d9c350d09e40",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                    "visibility": "public",
                                    "name": "BookDisposed",
                                    "oldName": "",
                                    "displayName": "도서 폐기됨",
                                    "namePascalCase": "BookDisposed",
                                    "nameCamelCase": "bookDisposed",
                                    "namePlural": "",
                                    "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                        "x": 500,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                        "x": 500,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "to": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                "relationView": {
                                    "id": "5126cbe9-4654-ddff-1703-d9c350d09e40",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "to": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                    "needReconnect": true
                                }
                            },
                            "c851c068-8abb-87d9-1c2a-1e80ed443591": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "c851c068-8abb-87d9-1c2a-1e80ed443591",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "to": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "relationView": {
                                    "id": "c851c068-8abb-87d9-1c2a-1e80ed443591",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "to": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "needReconnect": true
                                }
                            },
                            "bde18cde-2136-ad9e-f9b0-1257e6ebc558": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "bde18cde-2136-ad9e-f9b0-1257e6ebc558",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "to": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "relationView": {
                                    "id": "bde18cde-2136-ad9e-f9b0-1257e6ebc558",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "to": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "needReconnect": true
                                }
                            },
                            "2f9fb1a8-a85c-57be-3df8-b6cce24a96eb": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "2f9fb1a8-a85c-57be-3df8-b6cce24a96eb",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d858202f-6448-5f92-839f-057850558645",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "d858202f-6448-5f92-839f-057850558645",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "d858202f-6448-5f92-839f-057850558645",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "to": "d858202f-6448-5f92-839f-057850558645",
                                "relationView": {
                                    "id": "2f9fb1a8-a85c-57be-3df8-b6cce24a96eb",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "to": "d858202f-6448-5f92-839f-057850558645",
                                    "needReconnect": true
                                }
                            },
                            "156064f6-b46c-dbd1-66e7-aec2612bee9a": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "156064f6-b46c-dbd1-66e7-aec2612bee9a",
                                "name": "4",
                                "displayName": "4",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "relationView": {
                                    "id": "156064f6-b46c-dbd1-66e7-aec2612bee9a",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "needReconnect": true
                                }
                            },
                            "0badfcbf-da89-28f3-1fc8-2176df4c90c2": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "0badfcbf-da89-28f3-1fc8-2176df4c90c2",
                                "name": "4",
                                "displayName": "4",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "visibility": "public",
                                    "name": "LoanHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "대출 이력 기록됨",
                                    "namePascalCase": "LoanHistoryRecorded",
                                    "nameCamelCase": "loanHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "relationView": {
                                    "id": "0badfcbf-da89-28f3-1fc8-2176df4c90c2",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                    "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "needReconnect": true
                                }
                            },
                            "2c9e22a8-f6b9-0ee6-a0ee-e0cff1eef916": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "2c9e22a8-f6b9-0ee6-a0ee-e0cff1eef916",
                                "name": "5",
                                "displayName": "5",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d858202f-6448-5f92-839f-057850558645",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "d858202f-6448-5f92-839f-057850558645",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "d858202f-6448-5f92-839f-057850558645",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "d858202f-6448-5f92-839f-057850558645",
                                "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "relationView": {
                                    "id": "2c9e22a8-f6b9-0ee6-a0ee-e0cff1eef916",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "d858202f-6448-5f92-839f-057850558645",
                                    "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "needReconnect": true
                                }
                            },
                            "6b599222-08e9-f779-3f93-85e57557d253": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "6b599222-08e9-f779-3f93-85e57557d253",
                                "name": "5",
                                "displayName": "5",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d858202f-6448-5f92-839f-057850558645",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "d858202f-6448-5f92-839f-057850558645",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "d858202f-6448-5f92-839f-057850558645",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                    "visibility": "public",
                                    "name": "ReservationHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "예약 이력 기록됨",
                                    "namePascalCase": "ReservationHistoryRecorded",
                                    "nameCamelCase": "reservationHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                        "x": 700,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                        "x": 700,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "d858202f-6448-5f92-839f-057850558645",
                                "to": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                "relationView": {
                                    "id": "6b599222-08e9-f779-3f93-85e57557d253",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "d858202f-6448-5f92-839f-057850558645",
                                    "to": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                    "needReconnect": true
                                }
                            },
                            "9609f7f4-f5a0-b5ca-4c01-e7543b2eaf23": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "9609f7f4-f5a0-b5ca-4c01-e7543b2eaf23",
                                "name": "6",
                                "displayName": "6",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "relationView": {
                                    "id": "9609f7f4-f5a0-b5ca-4c01-e7543b2eaf23",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                    "needReconnect": true
                                }
                            },
                            "ed4c3414-3bb0-b268-2d63-04ef6a8b5c93": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "ed4c3414-3bb0-b268-2d63-04ef6a8b5c93",
                                "name": "6",
                                "displayName": "6",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "visibility": "public",
                                    "name": "LoanHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "대출 이력 기록됨",
                                    "namePascalCase": "LoanHistoryRecorded",
                                    "nameCamelCase": "loanHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "relationView": {
                                    "id": "ed4c3414-3bb0-b268-2d63-04ef6a8b5c93",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                    "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "needReconnect": true
                                }
                            },
                            "14263a5f-ed03-3d09-14f9-14a9af8b5ccb": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "14263a5f-ed03-3d09-14f9-14a9af8b5ccb",
                                "name": "7",
                                "displayName": "7",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                    "visibility": "public",
                                    "name": "LoanExtended",
                                    "oldName": "",
                                    "displayName": "대출 연장됨",
                                    "namePascalCase": "LoanExtended",
                                    "nameCamelCase": "loanExtended",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "visibility": "public",
                                    "name": "LoanHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "대출 이력 기록됨",
                                    "namePascalCase": "LoanHistoryRecorded",
                                    "nameCamelCase": "loanHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "relationView": {
                                    "id": "14263a5f-ed03-3d09-14f9-14a9af8b5ccb",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                    "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                    "needReconnect": true
                                }
                            }
                        }
                    },
                    "analysisResult": {
                        "recommendedBoundedContextsNumber": 4,
                        "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 다음과 같습니다: (1) 도서 관리(Book Management), (2) 대출/반납 관리(Loan/Return Management), (3) 예약 관리(Reservation Management), (4) 이력/조회 관리(History/Inquiry Management). 2) 각 컨텍스트의 비즈니스 도메인과 책임은 다음과 같습니다: 도서 관리는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. 대출/반납 관리는 회원 인증, 대출/반납/연장 등 도서의 이동과 관련된 프로세스를 담당합니다. 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당합니다. 이력/조회 관리는 대출 및 상태 변경 이력의 기록과 조회를 담당합니다. 3) 바운디드 컨텍스트 수는 각 도메인의 명확한 책임 분리, 이벤트 복잡성, 그리고 액터 간 상호작용(예: 도서 담당자, 회원, 시스템)의 분리를 근거로 산정했습니다. 4) 각 컨텍스트는 실제 조직 내 역할 분리(예: 사서, 회원, 시스템 관리자) 및 업무 흐름(등록/대출/예약/이력 관리)과 일치하며, 유지보수성과 확장성을 높입니다.",
                        "events": [
                            {
                                "name": "BookRegistered",
                                "displayName": "도서 등록됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                "inputs": [
                                    "도서명",
                                    "ISBN(13자리)",
                                    "저자",
                                    "출판사",
                                    "카테고리(소설/비소설/학술/잡지)"
                                ],
                                "outputs": [
                                    "신규 도서 정보",
                                    "도서 상태: 대출가능"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChanged",
                                "displayName": "도서 상태 변경됨",
                                "actor": "System",
                                "level": 2,
                                "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                "inputs": [
                                    "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "변경된 도서 상태"
                                ],
                                "nextEvents": [
                                    "BookDisposed",
                                    "BookLoaned",
                                    "BookReturned",
                                    "BookReserved"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDisposed",
                                "displayName": "도서 폐기됨",
                                "actor": "Librarian",
                                "level": 3,
                                "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "inputs": [
                                    "도서 식별자",
                                    "폐기 사유"
                                ],
                                "outputs": [
                                    "도서 상태: 폐기"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoaned",
                                "displayName": "도서 대출됨",
                                "actor": "Member",
                                "level": 4,
                                "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "이름",
                                    "도서 식별자",
                                    "대출 기간(7/14/30일)"
                                ],
                                "outputs": [
                                    "대출 정보",
                                    "도서 상태: 대출중"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged",
                                    "LoanHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReserved",
                                "displayName": "도서 예약됨",
                                "actor": "Member",
                                "level": 5,
                                "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "예약 정보",
                                    "도서 상태: 예약중"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged",
                                    "ReservationHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReturned",
                                "displayName": "도서 반납됨",
                                "actor": "Member",
                                "level": 6,
                                "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "도서 상태: 대출가능 또는 예약중",
                                    "반납 처리 정보"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged",
                                    "LoanHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanExtended",
                                "displayName": "대출 연장됨",
                                "actor": "Member",
                                "level": 7,
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자",
                                    "연장 기간"
                                ],
                                "outputs": [
                                    "갱신된 대출 정보",
                                    "새 반납 예정일"
                                ],
                                "nextEvents": [
                                    "LoanHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryRecorded",
                                "displayName": "대출 이력 기록됨",
                                "actor": "System",
                                "level": 8,
                                "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                "inputs": [
                                    "대출/반납/연장 이벤트 정보"
                                ],
                                "outputs": [
                                    "대출 이력 데이터"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationHistoryRecorded",
                                "displayName": "예약 이력 기록됨",
                                "actor": "System",
                                "level": 9,
                                "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                                "inputs": [
                                    "예약 이벤트 정보"
                                ],
                                "outputs": [
                                    "예약 이력 데이터"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "actors": [
                            {
                                "name": "Librarian",
                                "events": [
                                    "BookRegistered",
                                    "BookDisposed"
                                ],
                                "lane": 0
                            },
                            {
                                "name": "Member",
                                "events": [
                                    "BookLoaned",
                                    "BookReserved",
                                    "BookReturned",
                                    "LoanExtended"
                                ],
                                "lane": 1
                            },
                            {
                                "name": "System",
                                "events": [
                                    "BookStatusChanged",
                                    "LoanHistoryRecorded",
                                    "ReservationHistoryRecorded"
                                ],
                                "lane": 2
                            }
                        ]
                    },
                    "currentGeneratedLength": 5107
                },
                "currentGeneratedLength": 5107,
                "timestamp": "2025-09-16T05:45:18.312Z"
            },
            {
                "uniqueId": "b0e083b89632a46be0a9cb178e4cbc49",
                "type": "bcGenerationOption",
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "isAnalizing": false,
                "generateOption": {
                    "numberOfBCs": 3,
                    "selectedAspects": [
                        "도메인 복잡도 분리",
                        "프로세스(value stream) 기반 분리"
                    ],
                    "additionalOptions": "",
                    "aspectDetails": {},
                    "isProtocolMode": true,
                    "isGenerateFrontEnd": false
                },
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 다음과 같습니다: (1) 도서 관리(Book Management), (2) 대출/반납 관리(Loan/Return Management), (3) 예약 관리(Reservation Management), (4) 이력/조회 관리(History/Inquiry Management). 2) 각 컨텍스트의 비즈니스 도메인과 책임은 다음과 같습니다: 도서 관리는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. 대출/반납 관리는 회원 인증, 대출/반납/연장 등 도서의 이동과 관련된 프로세스를 담당합니다. 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당합니다. 이력/조회 관리는 대출 및 상태 변경 이력의 기록과 조회를 담당합니다. 3) 바운디드 컨텍스트 수는 각 도메인의 명확한 책임 분리, 이벤트 복잡성, 그리고 액터 간 상호작용(예: 도서 담당자, 회원, 시스템)의 분리를 근거로 산정했습니다. 4) 각 컨텍스트는 실제 조직 내 역할 분리(예: 사서, 회원, 시스템 관리자) 및 업무 흐름(등록/대출/예약/이력 관리)과 일치하며, 유지보수성과 확장성을 높입니다.",
                "timestamp": "2025-09-16T05:45:20.505Z"
            },
            {
                "uniqueId": "90b0f0d20e948cddc5eb5c6adb3dc31a",
                "type": "boundedContextResult",
                "result": {
                    "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                        "boundedContexts": [
                            {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "importance": "Core Domain",
                                "complexity": 0.7,
                                "differentiation": 0.9,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "events": [
                                    "BookRegistered",
                                    "BookStatusChanged",
                                    "BookDisposed"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    4
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    4
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                                "roleRefs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            265
                                        ]
                                    ]
                                ],
                                "siteMap": [
                                    {
                                        "id": "book-list-view",
                                        "title": "도서 목록 조회",
                                        "name": "BookListView",
                                        "description": "현재 보유 도서의 목록과 상태를 조회",
                                        "boundedContext": "BookManagement",
                                        "functionType": "view",
                                        "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                                    },
                                    {
                                        "id": "book-create-command",
                                        "title": "도서 등록",
                                        "name": "BookCreateCommand",
                                        "description": "새로운 도서를 등록",
                                        "boundedContext": "BookManagement",
                                        "functionType": "command",
                                        "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                                    },
                                    {
                                        "id": "book-edit-command",
                                        "title": "도서 정보 수정",
                                        "name": "BookEditCommand",
                                        "description": "기존 도서의 정보를 수정",
                                        "boundedContext": "BookManagement",
                                        "functionType": "command",
                                        "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                                    },
                                    {
                                        "id": "book-dispose-command",
                                        "title": "도서 폐기 처리",
                                        "name": "BookDisposeCommand",
                                        "description": "훼손 또는 분실된 도서를 폐기 처리",
                                        "boundedContext": "BookManagement",
                                        "functionType": "command",
                                        "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                                    },
                                    {
                                        "id": "book-status-change-view",
                                        "title": "도서 상태 변경 이력 조회",
                                        "name": "BookStatusChangeHistoryView",
                                        "description": "도서별 상태 변경 이력을 조회",
                                        "boundedContext": "BookManagement",
                                        "functionType": "view",
                                        "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                                    }
                                ]
                            },
                            {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약",
                                "importance": "Core Domain",
                                "complexity": 0.8,
                                "differentiation": 0.95,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "events": [
                                    "BookLoaned",
                                    "BookReserved",
                                    "BookReturned",
                                    "LoanExtended"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    13
                                                ],
                                                [
                                                    1,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "text": "대출/반납을 통합적으로 관리하는"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    5,
                                                    82
                                                ]
                                            ]
                                        ],
                                        "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "text": "예약"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "text": "연장"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    16
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                                "roleRefs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "siteMap": []
                            },
                            {
                                "name": "LoanHistory",
                                "alias": "이력 관리",
                                "importance": "Generic Domain",
                                "complexity": 0.5,
                                "differentiation": 0.5,
                                "implementationStrategy": "PBC: PBC-Test",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "ReservationHistory",
                                        "alias": "예약 이력"
                                    }
                                ],
                                "events": [
                                    "LoanHistoryRecorded",
                                    "ReservationHistoryRecorded"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    12
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    12
                                                ],
                                                [
                                                    9,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "text": "력과 상"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date"
                                    }
                                ],
                                "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                                "roleRefs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "siteMap": []
                            }
                        ],
                        "relations": [
                            {
                                "name": "BookManagement-LoanAndReservation",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanAndReservation-LoanHistory",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "downStream": {
                                    "name": "LoanHistory",
                                    "alias": "이력 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookManagement-LoanHistory",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanHistory",
                                    "alias": "이력 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                        "explanations": [
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출/반납 및 예약",
                                "relationType": "Pub/Sub",
                                "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                                "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 및 예약",
                                "targetContext": "이력 관리",
                                "relationType": "Pub/Sub",
                                "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                                "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "이력 관리",
                                "relationType": "Pub/Sub",
                                "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                                "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                        "currentGeneratedLength": 4161
                    }
                },
                "isStartMapping": false,
                "isGeneratingBoundedContext": false,
                "isSummarizeStarted": false,
                "isAnalizing": false,
                "processingRate": 100,
                "currentProcessingBoundedContext": "이력 관리",
                "selectedAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "summarizedResult": {
                    "summary": "",
                    "refs": [],
                    "originalRequirements": ""
                },
                "pbcLists": [
                    {
                        "name": "chat-vue3-en",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "Chat service (Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                        "id": 19,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
                    },
                    {
                        "name": "review",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                        "description": "review",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                        "id": 21,
                        "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 22,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 23,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 24,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 25,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
                    },
                    {
                        "name": "payment-system",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                        "description": "결제를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                        "id": 26,
                        "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
                    },
                    {
                        "name": "document-management",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                        "description": "파일관리를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "### Instruction\n",
                        "id": 30,
                        "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
                    },
                    {
                        "name": "gitlab",
                        "rating": 5,
                        "imageUrl": null,
                        "description": "openapi.yaml",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## instruction\n",
                        "id": 34,
                        "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
                    },
                    {
                        "name": "PBC-Test",
                        "rating": 5,
                        "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                        "description": "Framework for rapidly and easily developing Java-based web applications.",
                        "tags": [
                            "PBC"
                        ],
                        "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                        "id": 35,
                        "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
                    }
                ],
                "currentGeneratedLength": 4161,
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "timestamp": "2025-09-16T05:45:23.200Z"
            },
            {
                "uniqueId": "78e828b20bda5c84702e1b068b1b950a",
                "type": "siteMapViewer",
                "siteMap": [
                    {
                        "id": "node-1758001555271-eg70hgt6m",
                        "title": "도서 관리",
                        "description": "도서 등록, 상태 관리, 폐기 처리 등 도서의 전체 생애주기 관리",
                        "type": "root",
                        "boundedContexts": [
                            {
                                "id": "BookManagement",
                                "title": "BookManagement",
                                "description": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다."
                            },
                            {
                                "id": "LoanAndReservation",
                                "title": "LoanAndReservation",
                                "description": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다."
                            },
                            {
                                "id": "LoanHistory",
                                "title": "LoanHistory",
                                "description": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다."
                            }
                        ],
                        "children": [
                            {
                                "id": "book-list-view",
                                "title": "도서 목록 조회",
                                "name": "BookListView",
                                "description": "현재 보유 도서의 목록과 상태를 조회",
                                "type": "navigation",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원",
                                "children": []
                            },
                            {
                                "id": "book-create-command",
                                "title": "도서 등록",
                                "name": "BookCreateCommand",
                                "description": "새로운 도서를 등록",
                                "type": "navigation",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정",
                                "children": []
                            },
                            {
                                "id": "book-edit-command",
                                "title": "도서 정보 수정",
                                "name": "BookEditCommand",
                                "description": "기존 도서의 정보를 수정",
                                "type": "navigation",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가",
                                "children": []
                            },
                            {
                                "id": "book-dispose-command",
                                "title": "도서 폐기 처리",
                                "name": "BookDisposeCommand",
                                "description": "훼손 또는 분실된 도서를 폐기 처리",
                                "type": "navigation",
                                "boundedContext": "BookManagement",
                                "functionType": "command",
                                "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가",
                                "children": []
                            },
                            {
                                "id": "book-status-change-view",
                                "title": "도서 상태 변경 이력 조회",
                                "name": "BookStatusChangeHistoryView",
                                "description": "도서별 상태 변경 이력을 조회",
                                "type": "navigation",
                                "boundedContext": "BookManagement",
                                "functionType": "view",
                                "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "node-1758001555271-q8wvam9mq",
                        "title": "대출/반납 관리",
                        "description": "도서 대출, 반납, 연장, 예약 등 회원의 도서 이용 관리",
                        "type": "root",
                        "boundedContexts": [
                            {
                                "id": "BookManagement",
                                "title": "BookManagement",
                                "description": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다."
                            },
                            {
                                "id": "LoanAndReservation",
                                "title": "LoanAndReservation",
                                "description": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다."
                            },
                            {
                                "id": "LoanHistory",
                                "title": "LoanHistory",
                                "description": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다."
                            }
                        ],
                        "children": [
                            {
                                "id": "loan-create-command",
                                "title": "도서 대출 신청",
                                "name": "LoanCreateCommand",
                                "description": "회원이 도서를 대출 신청",
                                "type": "navigation",
                                "boundedContext": "LoanAndReservation",
                                "functionType": "command",
                                "uiRequirements": "회원번호, 이름으로 회원 확인, 도서명/ISBN 검색, 대출 기간(7/14/30일) 선택, 대출 가능 도서만 선택 가능, 대출 시 도서 상태 '대출중'으로 변경",
                                "children": []
                            },
                            {
                                "id": "loan-return-command",
                                "title": "도서 반납 처리",
                                "name": "LoanReturnCommand",
                                "description": "회원이 대출한 도서를 반납",
                                "type": "navigation",
                                "boundedContext": "LoanAndReservation",
                                "functionType": "command",
                                "uiRequirements": "대출 목록에서 반납 버튼, 반납 시 도서 상태 '대출가능' 또는 예약자 존재 시 '예약중'으로 자동 변경",
                                "children": []
                            },
                            {
                                "id": "loan-extension-command",
                                "title": "대출 연장 신청",
                                "name": "LoanExtensionCommand",
                                "description": "대출 중인 도서의 대출 기간 연장",
                                "type": "navigation",
                                "boundedContext": "LoanAndReservation",
                                "functionType": "command",
                                "uiRequirements": "대출 중인 도서에 대해 연장 버튼, 연장 가능 조건(예: 연체/예약자 없음) 확인, 연장 시 반납예정일 자동 갱신",
                                "children": []
                            },
                            {
                                "id": "reservation-create-command",
                                "title": "도서 예약 신청",
                                "name": "ReservationCreateCommand",
                                "description": "대출 중인 도서에 대해 예약 신청",
                                "type": "navigation",
                                "boundedContext": "LoanAndReservation",
                                "functionType": "command",
                                "uiRequirements": "도서명/ISBN 검색, 대출 중인 도서만 예약 가능, 예약 시 예약자 정보 입력, 예약 완료 시 도서 상태 '예약중'으로 변경",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "node-1758001555271-omsn576xu",
                        "title": "대출 현황",
                        "description": "현재 대출 중인 도서 및 대출 상태 관리",
                        "type": "root",
                        "boundedContexts": [
                            {
                                "id": "BookManagement",
                                "title": "BookManagement",
                                "description": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다."
                            },
                            {
                                "id": "LoanAndReservation",
                                "title": "LoanAndReservation",
                                "description": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다."
                            },
                            {
                                "id": "LoanHistory",
                                "title": "LoanHistory",
                                "description": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다."
                            }
                        ],
                        "children": [
                            {
                                "id": "loan-list-view",
                                "title": "대출 목록 조회",
                                "name": "LoanListView",
                                "description": "현재 대출 중인 도서 목록 및 상태 조회",
                                "type": "navigation",
                                "boundedContext": "LoanAndReservation",
                                "functionType": "view",
                                "uiRequirements": "회원명, 도서명, 대출일, 반납예정일, 상태(대출중/연체/반납완료) 필터 및 검색, 연장/반납 처리 버튼 제공",
                                "children": []
                            },
                            {
                                "id": "loan-detail-view",
                                "title": "대출 상세 조회",
                                "name": "LoanDetailView",
                                "description": "특정 대출 건의 상세 정보 조회",
                                "type": "navigation",
                                "boundedContext": "LoanAndReservation",
                                "functionType": "view",
                                "uiRequirements": "회원 정보, 도서 정보, 대출일, 반납예정일, 상태, 연장/반납 이력 등 상세 정보 표시",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "node-1758001555271-l31h0fh6q",
                        "title": "이력 조회",
                        "description": "도서별 대출 및 상태 변경 이력 관리",
                        "type": "root",
                        "boundedContexts": [
                            {
                                "id": "BookManagement",
                                "title": "BookManagement",
                                "description": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다."
                            },
                            {
                                "id": "LoanAndReservation",
                                "title": "LoanAndReservation",
                                "description": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다."
                            },
                            {
                                "id": "LoanHistory",
                                "title": "LoanHistory",
                                "description": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다."
                            }
                        ],
                        "children": [
                            {
                                "id": "book-loan-history-view",
                                "title": "도서별 대출 이력 조회",
                                "name": "BookLoanHistoryView",
                                "description": "특정 도서의 대출 및 예약 이력 조회",
                                "type": "navigation",
                                "boundedContext": "LoanHistory",
                                "functionType": "view",
                                "uiRequirements": "도서명/ISBN 검색, 대출/예약 일시, 회원 정보, 상태(대출/반납/예약 등) 이력 리스트 표시",
                                "children": []
                            },
                            {
                                "id": "book-status-history-view",
                                "title": "도서별 상태 변경 이력 조회",
                                "name": "BookStatusHistoryView",
                                "description": "특정 도서의 상태 변경 이력 조회",
                                "type": "navigation",
                                "boundedContext": "LoanHistory",
                                "functionType": "view",
                                "uiRequirements": "도서명/ISBN 검색, 상태 변경 일시, 변경 전/후 상태, 변경자, 변경 사유 등 표시",
                                "children": []
                            }
                        ]
                    }
                ],
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "resultDevideBoundedContext": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "importance": "Core Domain",
                            "complexity": 0.7,
                            "differentiation": 0.9,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "events": [
                                "BookRegistered",
                                "BookStatusChanged",
                                "BookDisposed"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ],
                                    "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                3
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ],
                                    "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                24,
                                                4
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                84,
                                                4
                                            ],
                                            [
                                                96,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                105
                                            ],
                                            [
                                                3,
                                                128
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                136
                                            ],
                                            [
                                                3,
                                                161
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                191
                                            ],
                                            [
                                                3,
                                                238
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                150
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                            "roleRefs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        265
                                    ]
                                ]
                            ],
                            "siteMap": [
                                {
                                    "id": "book-list-view",
                                    "title": "도서 목록 조회",
                                    "name": "BookListView",
                                    "description": "현재 보유 도서의 목록과 상태를 조회",
                                    "boundedContext": "BookManagement",
                                    "functionType": "view",
                                    "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                                },
                                {
                                    "id": "book-create-command",
                                    "title": "도서 등록",
                                    "name": "BookCreateCommand",
                                    "description": "새로운 도서를 등록",
                                    "boundedContext": "BookManagement",
                                    "functionType": "command",
                                    "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                                },
                                {
                                    "id": "book-edit-command",
                                    "title": "도서 정보 수정",
                                    "name": "BookEditCommand",
                                    "description": "기존 도서의 정보를 수정",
                                    "boundedContext": "BookManagement",
                                    "functionType": "command",
                                    "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                                },
                                {
                                    "id": "book-dispose-command",
                                    "title": "도서 폐기 처리",
                                    "name": "BookDisposeCommand",
                                    "description": "훼손 또는 분실된 도서를 폐기 처리",
                                    "boundedContext": "BookManagement",
                                    "functionType": "command",
                                    "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                                },
                                {
                                    "id": "book-status-change-view",
                                    "title": "도서 상태 변경 이력 조회",
                                    "name": "BookStatusChangeHistoryView",
                                    "description": "도서별 상태 변경 이력을 조회",
                                    "boundedContext": "BookManagement",
                                    "functionType": "view",
                                    "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                                }
                            ]
                        },
                        {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약",
                            "importance": "Core Domain",
                            "complexity": 0.8,
                            "differentiation": 0.95,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "events": [
                                "BookLoaned",
                                "BookReserved",
                                "BookReturned",
                                "LoanExtended"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                1,
                                                13
                                            ],
                                            [
                                                1,
                                                29
                                            ]
                                        ]
                                    ],
                                    "text": "대출/반납을 통합적으로 관리하는"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                2
                                            ],
                                            [
                                                5,
                                                82
                                            ]
                                        ]
                                    ],
                                    "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                184
                                            ]
                                        ]
                                    ],
                                    "text": "예약"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                59
                                            ]
                                        ]
                                    ],
                                    "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                110
                                            ]
                                        ]
                                    ],
                                    "text": "연장"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                16
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력과 상태"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                66,
                                                1
                                            ],
                                            [
                                                82,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                1
                                            ],
                                            [
                                                112,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                59
                                            ],
                                            [
                                                5,
                                                77
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                43
                                            ],
                                            [
                                                5,
                                                126
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                198
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                193
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                133
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                124
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                            "roleRefs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ],
                            "siteMap": []
                        }
                    ],
                    "relations": [
                        {
                            "name": "BookManagement-LoanAndReservation",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanAndReservation-LoanHistory",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "downStream": {
                                "name": "LoanHistory",
                                "alias": "이력 관리"
                            },
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookManagement-LoanHistory",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanHistory",
                                "alias": "이력 관리"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ],
                    "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                    "explanations": [
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출/반납 및 예약",
                            "relationType": "Pub/Sub",
                            "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                            "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 및 예약",
                            "targetContext": "이력 관리",
                            "relationType": "Pub/Sub",
                            "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                            "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "이력 관리",
                            "relationType": "Pub/Sub",
                            "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                            "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ],
                    "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                    "currentGeneratedLength": 4161
                },
                "isGenerating": false,
                "processingRate": 0,
                "currentChunk": 0,
                "totalChunks": 0,
                "currentGeneratedLength": 0,
                "timestamp": "2025-09-16T05:45:32.765Z"
            },
            {
                "type": "aggregateDraftDialogDto",
                "uniqueId": "1758001579115",
                "isShow": true,
                "draftOptions": [
                    {
                        "boundedContext": "BookManagement",
                        "boundedContextAlias": "도서 관리",
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        265
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        56
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            183
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            41
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            86
                                                        ],
                                                        [
                                                            3,
                                                            156
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            10
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            222
                                                        ],
                                                        [
                                                            3,
                                                            224
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서의 등록, 상태 변경, 폐기 등 모든 핵심 도서 관리 기능이 Book Aggregate에 집중되어 있어 도메인 응집도가 매우 높음.",
                                    "coupling": "대출/예약과의 연동은 ValueObject 참조로만 처리되어 타 컨텍스트와의 결합도가 낮음.",
                                    "consistency": "도서 상태와 관련된 비즈니스 불변성이 단일 트랜잭션 내에서 강하게 보장됨.",
                                    "encapsulation": "도서의 상태, 대출/예약 참조, 폐기 정보 등 모든 도메인 규칙이 Book 내부에 은닉되어 있음.",
                                    "complexity": "구현 및 이해가 단순하며, 도서별 상태 관리가 한 곳에서 이루어져 개발자 부담이 적음.",
                                    "independence": "Book Aggregate만으로 도서 관리의 대부분을 처리할 수 있어 타 Aggregate 변화에 영향이 적음.",
                                    "performance": "도서 상태 변경, 폐기 등 주요 연산이 단일 Aggregate에서 처리되어 조회 및 갱신 성능이 우수함."
                                },
                                "cons": {
                                    "cohesion": "상태 변경 이력, 대출/예약 참조 등 다양한 책임이 Book에 집중되어 도메인 역할이 다소 혼재될 수 있음.",
                                    "coupling": "Book이 모든 도서 관련 정보를 직접 관리하므로, 도서 이력이나 확장 요구가 커질 경우 Aggregate가 비대해질 수 있음.",
                                    "consistency": "상태 변경 이력 등 부가 정보가 많아질수록 트랜잭션 크기가 커질 수 있음.",
                                    "encapsulation": "상태 이력 등 부가 기능이 많아질 경우 도메인 규칙의 은닉성이 다소 약화될 수 있음.",
                                    "complexity": "도서 관리와 이력 관리, 대출/예약 참조까지 모두 포함되어 Aggregate가 점차 복잡해질 수 있음.",
                                    "independence": "이력 관리 등 부가 기능 확장 시 Book Aggregate의 독립성이 저하될 수 있음.",
                                    "performance": "상태 변경 이력 등 부가 정보가 많아질 경우 일부 연산에서 성능 저하 가능성 있음."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": [
                                            {
                                                "id": "book-list-view",
                                                "title": "도서 목록 조회",
                                                "name": "BookListView",
                                                "description": "현재 보유 도서의 목록과 상태를 조회",
                                                "boundedContext": "BookManagement",
                                                "functionType": "view",
                                                "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                                            },
                                            {
                                                "id": "book-create-command",
                                                "title": "도서 등록",
                                                "name": "BookCreateCommand",
                                                "description": "새로운 도서를 등록",
                                                "boundedContext": "BookManagement",
                                                "functionType": "command",
                                                "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                                            },
                                            {
                                                "id": "book-edit-command",
                                                "title": "도서 정보 수정",
                                                "name": "BookEditCommand",
                                                "description": "기존 도서의 정보를 수정",
                                                "boundedContext": "BookManagement",
                                                "functionType": "command",
                                                "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                                            },
                                            {
                                                "id": "book-dispose-command",
                                                "title": "도서 폐기 처리",
                                                "name": "BookDisposeCommand",
                                                "description": "훼손 또는 분실된 도서를 폐기 처리",
                                                "boundedContext": "BookManagement",
                                                "functionType": "command",
                                                "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                                            },
                                            {
                                                "id": "book-status-change-view",
                                                "title": "도서 상태 변경 이력 조회",
                                                "name": "BookStatusChangeHistoryView",
                                                "description": "도서별 상태 변경 이력을 조회",
                                                "boundedContext": "BookManagement",
                                                "functionType": "view",
                                                "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                                            }
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        265
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        56
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            183
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            41
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            86
                                                        ],
                                                        [
                                                            3,
                                                            156
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            10
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            222
                                                        ],
                                                        [
                                                            3,
                                                            224
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "BookStatusHistory",
                                            "alias": "도서 상태 변경 이력",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        13
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ],
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ],
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ],
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            22
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            183
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            5
                                                        ],
                                                        [
                                                            93,
                                                            25
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "Book은 도서의 현재 상태와 핵심 정보에 집중하고, BookStatusHistory는 상태 변경 이력 관리에만 집중하여 역할이 명확하게 분리됨.",
                                    "coupling": "이력 관리와 도서 관리가 분리되어 각 Aggregate의 변경이 서로에게 미치는 영향이 최소화됨.",
                                    "consistency": "도서 상태 변경과 이력 기록이 별도 트랜잭션으로 관리되어 대용량 이력 처리 시에도 안정적임.",
                                    "encapsulation": "상태 변경 이력 관리가 별도 Aggregate로 은닉되어 도서 관리 도메인 규칙의 명확성이 높음.",
                                    "complexity": "각 Aggregate가 단일 책임 원칙에 따라 설계되어 도메인 복잡도가 낮음.",
                                    "independence": "이력 관리, 도서 관리가 각각 독립적으로 확장 및 배포 가능함.",
                                    "performance": "이력 데이터가 많아져도 Book Aggregate의 성능 저하 없이 별도로 관리 가능함."
                                },
                                "cons": {
                                    "cohesion": "도서 상태 변경 시 이력 기록을 위해 두 Aggregate 간의 연동 로직이 필요하여 일부 응집도가 분산됨.",
                                    "coupling": "상태 변경 시 이력 기록을 위한 추가적인 애플리케이션 서비스 계층의 결합이 필요함.",
                                    "consistency": "상태 변경과 이력 기록이 별도 트랜잭션으로 처리되어 일시적 불일치가 발생할 수 있음.",
                                    "encapsulation": "상태 변경과 이력 관리가 분리되어 전체 도서 상태 추적을 위해 두 Aggregate를 모두 조회해야 함.",
                                    "complexity": "상태 변경과 이력 기록의 동기화, 이벤트 발행 등 구현 복잡도가 증가함.",
                                    "independence": "상태 변경과 이력 기록의 동시 확장 시 연동 로직 관리가 필요함.",
                                    "performance": "상태 변경 시 이력 기록을 위한 추가 쓰기 연산이 발생하여 일부 연산에서 오버헤드가 있을 수 있음."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": [
                                            {
                                                "id": "book-list-view",
                                                "title": "도서 목록 조회",
                                                "name": "BookListView",
                                                "description": "현재 보유 도서의 목록과 상태를 조회",
                                                "boundedContext": "BookManagement",
                                                "functionType": "view",
                                                "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                                            },
                                            {
                                                "id": "book-create-command",
                                                "title": "도서 등록",
                                                "name": "BookCreateCommand",
                                                "description": "새로운 도서를 등록",
                                                "boundedContext": "BookManagement",
                                                "functionType": "command",
                                                "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                                            },
                                            {
                                                "id": "book-edit-command",
                                                "title": "도서 정보 수정",
                                                "name": "BookEditCommand",
                                                "description": "기존 도서의 정보를 수정",
                                                "boundedContext": "BookManagement",
                                                "functionType": "command",
                                                "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                                            },
                                            {
                                                "id": "book-dispose-command",
                                                "title": "도서 폐기 처리",
                                                "name": "BookDisposeCommand",
                                                "description": "훼손 또는 분실된 도서를 폐기 처리",
                                                "boundedContext": "BookManagement",
                                                "functionType": "command",
                                                "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                                            },
                                            {
                                                "id": "book-status-change-view",
                                                "title": "도서 상태 변경 이력 조회",
                                                "name": "BookStatusChangeHistoryView",
                                                "description": "도서별 상태 변경 이력을 조회",
                                                "boundedContext": "BookManagement",
                                                "functionType": "view",
                                                "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                                            }
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션 1은 도서 관리가 단일 트랜잭션 내에서 원자적으로 이루어져야 하거나, 시스템이 단순하고 이력 데이터가 적은 환경에 적합합니다. 옵션 2는 도서 상태 변경 이력의 대용량 관리, 이력 데이터의 독립적 확장 및 관리가 필요한 도서관 환경에 더욱 적합하며, 이력 관리와 도서 관리의 책임 분리가 중요한 경우 추천됩니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항 분석 결과, 도서의 등록, 상태 변경, 폐기, 그리고 대출/예약/이력 컨텍스트와의 이벤트 연동이 핵심임을 확인하였습니다. 도서의 상태와 생애주기 관리가 원자적으로 이루어져야 하므로 Book Aggregate를 중심으로 설계하되, 옵션별로 대출/예약 참조 및 상태 이력 관리의 분리 여부에 따라 구조를 달리하였습니다. 첫 번째 옵션은 단일 Book Aggregate에 모든 도서 관련 기능을 통합하고, 두 번째 옵션은 Book과 BookStatusHistory Aggregate를 분리하여 이력 관리의 독립성과 확장성을 높였습니다."
                    },
                    {
                        "boundedContext": "LoanAndReservation",
                        "boundedContextAlias": "대출/반납 및 예약",
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        79
                                                    ],
                                                    [
                                                        5,
                                                        81
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            18
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Reservation",
                                            "alias": "예약",
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ],
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "ReservationStatus",
                                                "alias": "예약 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            44
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출과 예약이 각각의 Aggregate로 분리되어 각 도메인 책임이 명확하며, 각 Aggregate가 자신의 비즈니스 규칙을 집중적으로 관리할 수 있습니다.",
                                    "coupling": "Book, Reservation 간 참조는 ValueObject로 일방향으로만 이루어져 결합도가 낮고, 도서 관리 변경이 대출/예약에 직접적인 영향을 주지 않습니다.",
                                    "consistency": "대출, 예약 각각의 트랜잭션 경계가 명확하여 상태 변경 시 원자성을 보장할 수 있습니다.",
                                    "encapsulation": "각 Aggregate가 자신의 상태와 행위를 완전히 캡슐화하여 외부에서 내부 구현에 접근할 수 없습니다.",
                                    "complexity": "Aggregate 수가 적절하여 도메인 복잡도를 효과적으로 관리할 수 있습니다.",
                                    "independence": "대출과 예약 기능이 독립적으로 진화 및 확장될 수 있어 유지보수성이 높습니다.",
                                    "performance": "대출/예약 각각의 조회 및 변경이 독립적으로 처리되어 동시성 및 성능에 유리합니다."
                                },
                                "cons": {
                                    "cohesion": "대출과 예약 간의 상태 전이(예: 반납 시 예약 자동 처리 등) 로직이 Aggregate 간 조정 로직으로 분산될 수 있습니다.",
                                    "coupling": "예약과 대출 간의 상태 동기화가 필요할 때, 두 Aggregate 간의 간접적 연동이 필요하여 구현이 복잡해질 수 있습니다.",
                                    "consistency": "예약과 대출이 동시에 변경되어야 하는 복합 트랜잭션의 경우, 분산 트랜잭션 또는 이벤트 기반 보상 로직이 필요할 수 있습니다.",
                                    "encapsulation": "예약과 대출의 복합 비즈니스 규칙(예: 예약 우선 순위 반영 등)이 Aggregate 외부에서 처리될 수 있습니다.",
                                    "complexity": "예약과 대출의 상호작용을 조율하는 추가 서비스 계층이 필요할 수 있습니다.",
                                    "independence": "예약과 대출의 상호작용이 많을 경우, 완전한 독립성 확보가 어려울 수 있습니다.",
                                    "performance": "예약과 대출 정보를 통합 조회할 때 Aggregate 간 조인 또는 별도 조회가 필요하여 성능 저하가 발생할 수 있습니다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약",
                                    "displayName": "대출/반납 및 예약",
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            17
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "18": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            81
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "170": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "171": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "190": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": []
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        79
                                                    ],
                                                    [
                                                        5,
                                                        81
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "Loan Aggregate가 대출/반납/연장 등 대출 관련 모든 비즈니스 규칙을 한 곳에서 집중적으로 관리하여 일관성이 높습니다.",
                                    "coupling": "BookReference만을 통해 도서 정보를 참조하므로 외부 컨텍스트와의 결합도가 매우 낮습니다.",
                                    "consistency": "대출 상태 변경, 연장, 반납 등 모든 트랜잭션이 하나의 Aggregate 내에서 원자적으로 처리됩니다.",
                                    "encapsulation": "대출 관련 데이터와 행위가 완전히 캡슐화되어 외부에서 내부 구현에 접근할 수 없습니다.",
                                    "complexity": "Aggregate가 하나뿐이므로 도메인 구조가 단순하고 이해하기 쉽습니다.",
                                    "independence": "대출 기능만을 독립적으로 개발, 배포, 확장할 수 있습니다.",
                                    "performance": "대출 관련 데이터 접근이 단일 Aggregate 내에서 이루어져 조회 및 변경 성능이 우수합니다."
                                },
                                "cons": {
                                    "cohesion": "예약 관련 기능이 별도의 Aggregate로 분리되지 않아 예약과 대출 간의 경계가 불분명해질 수 있습니다.",
                                    "coupling": "예약 기능이 Loan Aggregate 외부에서 별도 관리될 경우, 두 기능 간의 연동이 복잡해질 수 있습니다.",
                                    "consistency": "예약과 대출의 상태 동기화가 필요할 때, 일관성 보장이 어려울 수 있습니다.",
                                    "encapsulation": "예약과 대출의 복합 규칙이 Aggregate 외부에서 처리되어 도메인 규칙이 분산될 수 있습니다.",
                                    "complexity": "예약과 대출의 통합 비즈니스 로직이 필요할 경우, 서비스 계층이 복잡해질 수 있습니다.",
                                    "independence": "예약 기능의 확장이나 변경 시 Loan Aggregate와의 연동을 별도로 고려해야 합니다.",
                                    "performance": "예약과 대출 정보를 함께 조회할 때 추가적인 데이터 접근이 필요하여 성능 저하가 발생할 수 있습니다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약",
                                    "displayName": "대출/반납 및 예약",
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            17
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "18": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            81
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "170": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "171": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "190": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": []
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                            }
                        ],
                        "conclusions": "Option 1은 대출과 예약을 각각의 Aggregate로 분리하여 각 도메인 책임과 확장성을 극대화하고, 복잡한 도서관 환경에서의 유지보수성과 확장성에 유리합니다. Option 2는 대출 기능에 집중하여 단순한 도메인 구조와 높은 성능, 빠른 개발이 필요한 경우에 적합합니다. 복합적인 예약 정책이나 예약-대출 간의 긴밀한 연동이 필요하다면 Option 1, 단일 대출 중심의 간결한 시스템이 필요하다면 Option 2를 선택하는 것이 바람직합니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트, DDL, 컨텍스트 관계, 기존 누적 초안(도서 및 도서 상태 이력은 ValueObject 참조로만 사용) 및 Aggregate 명칭 조건을 종합적으로 분석하였습니다. Option 1은 Loan과 Reservation을 하나의 Aggregate로 통합하여 대출/예약의 원자성을 극대화합니다. Option 2는 Loan과 Reservation을 별도의 Aggregate로 분리하여 각 도메인 책임과 확장성을 강조합니다."
                    }
                ],
                "draftUIInfos": {
                    "leftBoundedContextCount": 0,
                    "directMessage": "Assigning DDL fields to aggregates for option 1... (1782 characters generated)",
                    "progress": 67
                },
                "isGeneratorButtonEnabled": true,
                "boundedContextVersion": 1,
                "retryInputs": {
                    "initialInputs": [
                        {
                            "boundedContext": {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "displayName": "도서 관리",
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                    "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        5
                                                    ],
                                                    [
                                                        26,
                                                        42
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "title",
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        5
                                                    ],
                                                    [
                                                        27,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "isbn",
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        36
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "author",
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        5
                                                    ],
                                                    [
                                                        29,
                                                        32
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "publisher",
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        5
                                                    ],
                                                    [
                                                        30,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "category",
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        5
                                                    ],
                                                    [
                                                        31,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        5
                                                    ],
                                                    [
                                                        32,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "registration_date",
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        5
                                                    ],
                                                    [
                                                        33,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_date",
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        5
                                                    ],
                                                    [
                                                        34,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_reason",
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        5
                                                    ],
                                                    [
                                                        35,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        5
                                                    ],
                                                    [
                                                        36,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        5
                                                    ],
                                                    [
                                                        37,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_status",
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        5
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_status",
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        5
                                                    ],
                                                    [
                                                        89,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        265
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        24,
                                                        1
                                                    ],
                                                    [
                                                        24,
                                                        6
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "siteMap": [
                                        {
                                            "id": "book-list-view",
                                            "title": "도서 목록 조회",
                                            "name": "BookListView",
                                            "description": "현재 보유 도서의 목록과 상태를 조회",
                                            "boundedContext": "BookManagement",
                                            "functionType": "view",
                                            "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                                        },
                                        {
                                            "id": "book-create-command",
                                            "title": "도서 등록",
                                            "name": "BookCreateCommand",
                                            "description": "새로운 도서를 등록",
                                            "boundedContext": "BookManagement",
                                            "functionType": "command",
                                            "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                                        },
                                        {
                                            "id": "book-edit-command",
                                            "title": "도서 정보 수정",
                                            "name": "BookEditCommand",
                                            "description": "기존 도서의 정보를 수정",
                                            "boundedContext": "BookManagement",
                                            "functionType": "command",
                                            "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                                        },
                                        {
                                            "id": "book-dispose-command",
                                            "title": "도서 폐기 처리",
                                            "name": "BookDisposeCommand",
                                            "description": "훼손 또는 분실된 도서를 폐기 처리",
                                            "boundedContext": "BookManagement",
                                            "functionType": "command",
                                            "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                                        },
                                        {
                                            "id": "book-status-change-view",
                                            "title": "도서 상태 변경 이력 조회",
                                            "name": "BookStatusChangeHistoryView",
                                            "description": "도서별 상태 변경 이력을 조회",
                                            "boundedContext": "BookManagement",
                                            "functionType": "view",
                                            "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                                        }
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약",
                                "displayName": "대출/반납 및 예약",
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                    "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                    "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        5
                                                    ],
                                                    [
                                                        46,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "member_id",
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        5
                                                    ],
                                                    [
                                                        47,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        5
                                                    ],
                                                    [
                                                        68,
                                                        34
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        5
                                                    ],
                                                    [
                                                        48,
                                                        24
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        5
                                                    ],
                                                    [
                                                        69,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_date",
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        5
                                                    ],
                                                    [
                                                        49,
                                                        48
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "due_date",
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        5
                                                    ],
                                                    [
                                                        50,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "return_date",
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        5
                                                    ],
                                                    [
                                                        51,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_period_days",
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        5
                                                    ],
                                                    [
                                                        52,
                                                        39
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        5
                                                    ],
                                                    [
                                                        53,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        5
                                                    ],
                                                    [
                                                        71,
                                                        54
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "extension_count",
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        5
                                                    ],
                                                    [
                                                        54,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        5
                                                    ],
                                                    [
                                                        55,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        5
                                                    ],
                                                    [
                                                        74,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        5
                                                    ],
                                                    [
                                                        56,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        5
                                                    ],
                                                    [
                                                        75,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_id",
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        5
                                                    ],
                                                    [
                                                        67,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_date",
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        5
                                                    ],
                                                    [
                                                        70,
                                                        55
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notification_sent",
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        5
                                                    ],
                                                    [
                                                        72,
                                                        37
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "expiry_date",
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        5
                                                    ],
                                                    [
                                                        73,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        41
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_type",
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        5
                                                    ],
                                                    [
                                                        102,
                                                        63
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "10": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "16": {
                                            "refs": [
                                                [
                                                    [
                                                        1,
                                                        1
                                                    ],
                                                    [
                                                        1,
                                                        17
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "18": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        81
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "20": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        9
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "82": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "83": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "105": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "122": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "123": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "124": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "125": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "131": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "137": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "138": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "139": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "140": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "141": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "142": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "143": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "144": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "145": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "146": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "147": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "148": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "149": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "150": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "151": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "152": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "153": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "157": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "158": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "159": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "160": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "161": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "162": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "163": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "164": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "165": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "166": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "167": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "168": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "169": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "170": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "171": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "172": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "173": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "174": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "175": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "181": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "182": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "183": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "184": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "187": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "188": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "189": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "190": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "siteMap": []
                                }
                            },
                            "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                        }
                    ],
                    "initialAccumulatedDrafts": {
                        "BookManagement": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanAndReservation": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ]
                    }
                },
                "selectedOptionItem": {
                    "BookManagement": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                265
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                56
                                            ],
                                            [
                                                3,
                                                301
                                            ]
                                        ],
                                        [
                                            [
                                                25,
                                                1
                                            ],
                                            [
                                                25,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                26,
                                                1
                                            ],
                                            [
                                                26,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                27,
                                                1
                                            ],
                                            [
                                                27,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                28,
                                                1
                                            ],
                                            [
                                                28,
                                                37
                                            ]
                                        ],
                                        [
                                            [
                                                29,
                                                1
                                            ],
                                            [
                                                29,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                30,
                                                1
                                            ],
                                            [
                                                30,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                31,
                                                1
                                            ],
                                            [
                                                31,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                32,
                                                1
                                            ],
                                            [
                                                32,
                                                59
                                            ]
                                        ],
                                        [
                                            [
                                                33,
                                                1
                                            ],
                                            [
                                                33,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                34,
                                                1
                                            ],
                                            [
                                                34,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                35,
                                                1
                                            ],
                                            [
                                                35,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                36,
                                                1
                                            ],
                                            [
                                                36,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                37,
                                                1
                                            ],
                                            [
                                                37,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                38,
                                                1
                                            ],
                                            [
                                                38,
                                                28
                                            ]
                                        ],
                                        [
                                            [
                                                39,
                                                1
                                            ],
                                            [
                                                39,
                                                26
                                            ]
                                        ],
                                        [
                                            [
                                                40,
                                                1
                                            ],
                                            [
                                                40,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                41,
                                                1
                                            ],
                                            [
                                                41,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                42,
                                                1
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    22
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    19
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    183
                                                ],
                                                [
                                                    3,
                                                    265
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookCategory",
                                        "alias": "도서 카테고리",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    41
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    86
                                                ],
                                                [
                                                    3,
                                                    156
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    6
                                                ],
                                                [
                                                    9,
                                                    10
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReservationReference",
                                        "alias": "예약 참조",
                                        "referencedAggregate": {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    222
                                                ],
                                                [
                                                    3,
                                                    224
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "도서의 등록, 상태 변경, 폐기 등 모든 핵심 도서 관리 기능이 Book Aggregate에 집중되어 있어 도메인 응집도가 매우 높음.",
                            "coupling": "대출/예약과의 연동은 ValueObject 참조로만 처리되어 타 컨텍스트와의 결합도가 낮음.",
                            "consistency": "도서 상태와 관련된 비즈니스 불변성이 단일 트랜잭션 내에서 강하게 보장됨.",
                            "encapsulation": "도서의 상태, 대출/예약 참조, 폐기 정보 등 모든 도메인 규칙이 Book 내부에 은닉되어 있음.",
                            "complexity": "구현 및 이해가 단순하며, 도서별 상태 관리가 한 곳에서 이루어져 개발자 부담이 적음.",
                            "independence": "Book Aggregate만으로 도서 관리의 대부분을 처리할 수 있어 타 Aggregate 변화에 영향이 적음.",
                            "performance": "도서 상태 변경, 폐기 등 주요 연산이 단일 Aggregate에서 처리되어 조회 및 갱신 성능이 우수함."
                        },
                        "cons": {
                            "cohesion": "상태 변경 이력, 대출/예약 참조 등 다양한 책임이 Book에 집중되어 도메인 역할이 다소 혼재될 수 있음.",
                            "coupling": "Book이 모든 도서 관련 정보를 직접 관리하므로, 도서 이력이나 확장 요구가 커질 경우 Aggregate가 비대해질 수 있음.",
                            "consistency": "상태 변경 이력 등 부가 정보가 많아질수록 트랜잭션 크기가 커질 수 있음.",
                            "encapsulation": "상태 이력 등 부가 기능이 많아질 경우 도메인 규칙의 은닉성이 다소 약화될 수 있음.",
                            "complexity": "도서 관리와 이력 관리, 대출/예약 참조까지 모두 포함되어 Aggregate가 점차 복잡해질 수 있음.",
                            "independence": "이력 관리 등 부가 기능 확장 시 Book Aggregate의 독립성이 저하될 수 있음.",
                            "performance": "상태 변경 이력 등 부가 정보가 많아질 경우 일부 연산에서 성능 저하 가능성 있음."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "displayName": "도서 관리",
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "requirements": {
                                "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    265
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    301
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    63
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    1
                                                ],
                                                [
                                                    24,
                                                    6
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    25,
                                                    1
                                                ],
                                                [
                                                    25,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    1
                                                ],
                                                [
                                                    26,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    1
                                                ],
                                                [
                                                    27,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    1
                                                ],
                                                [
                                                    28,
                                                    37
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    1
                                                ],
                                                [
                                                    29,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    1
                                                ],
                                                [
                                                    30,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    1
                                                ],
                                                [
                                                    31,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    1
                                                ],
                                                [
                                                    32,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    1
                                                ],
                                                [
                                                    33,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    1
                                                ],
                                                [
                                                    34,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    1
                                                ],
                                                [
                                                    35,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    1
                                                ],
                                                [
                                                    36,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    1
                                                ],
                                                [
                                                    37,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    38,
                                                    1
                                                ],
                                                [
                                                    38,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    39,
                                                    1
                                                ],
                                                [
                                                    39,
                                                    26
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    40,
                                                    1
                                                ],
                                                [
                                                    40,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    41,
                                                    1
                                                ],
                                                [
                                                    41,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    42,
                                                    1
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    1
                                                ],
                                                [
                                                    84,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "siteMap": [
                                    {
                                        "id": "book-list-view",
                                        "title": "도서 목록 조회",
                                        "name": "BookListView",
                                        "description": "현재 보유 도서의 목록과 상태를 조회",
                                        "boundedContext": "BookManagement",
                                        "functionType": "view",
                                        "uiRequirements": "도서명, ISBN, 저자, 출판사, 카테고리, 상태(대출가능/대출중/예약중/폐기) 필터 및 검색, 페이징 지원"
                                    },
                                    {
                                        "id": "book-create-command",
                                        "title": "도서 등록",
                                        "name": "BookCreateCommand",
                                        "description": "새로운 도서를 등록",
                                        "boundedContext": "BookManagement",
                                        "functionType": "command",
                                        "uiRequirements": "도서명, ISBN(13자리, 중복확인), 저자, 출판사, 카테고리(소설/비소설/학술/잡지) 입력 폼, 등록 시 상태는 '대출가능'으로 설정"
                                    },
                                    {
                                        "id": "book-edit-command",
                                        "title": "도서 정보 수정",
                                        "name": "BookEditCommand",
                                        "description": "기존 도서의 정보를 수정",
                                        "boundedContext": "BookManagement",
                                        "functionType": "command",
                                        "uiRequirements": "도서명, 저자, 출판사, 카테고리 등 수정, ISBN은 수정 불가, 상태 변경 불가"
                                    },
                                    {
                                        "id": "book-dispose-command",
                                        "title": "도서 폐기 처리",
                                        "name": "BookDisposeCommand",
                                        "description": "훼손 또는 분실된 도서를 폐기 처리",
                                        "boundedContext": "BookManagement",
                                        "functionType": "command",
                                        "uiRequirements": "도서 목록에서 폐기 처리 버튼, 폐기 사유 입력, 폐기 시 상태를 '폐기'로 변경, 폐기 도서는 대출 불가"
                                    },
                                    {
                                        "id": "book-status-change-view",
                                        "title": "도서 상태 변경 이력 조회",
                                        "name": "BookStatusChangeHistoryView",
                                        "description": "도서별 상태 변경 이력을 조회",
                                        "boundedContext": "BookManagement",
                                        "functionType": "view",
                                        "uiRequirements": "도서별 상태 변경(대출가능/대출중/예약중/폐기 등) 이력 리스트, 변경일시, 변경자, 변경 사유 표시"
                                    }
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                    },
                    "LoanAndReservation": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                45,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                46,
                                                1
                                            ],
                                            [
                                                46,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                47,
                                                1
                                            ],
                                            [
                                                47,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                48,
                                                1
                                            ],
                                            [
                                                48,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                49,
                                                1
                                            ],
                                            [
                                                49,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                50,
                                                1
                                            ],
                                            [
                                                50,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                51,
                                                1
                                            ],
                                            [
                                                51,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                52,
                                                1
                                            ],
                                            [
                                                52,
                                                74
                                            ]
                                        ],
                                        [
                                            [
                                                53,
                                                1
                                            ],
                                            [
                                                53,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                54,
                                                1
                                            ],
                                            [
                                                54,
                                                34
                                            ]
                                        ],
                                        [
                                            [
                                                55,
                                                1
                                            ],
                                            [
                                                55,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                56,
                                                1
                                            ],
                                            [
                                                56,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                57,
                                                1
                                            ],
                                            [
                                                57,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                58,
                                                1
                                            ],
                                            [
                                                58,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                59,
                                                1
                                            ],
                                            [
                                                59,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                60,
                                                1
                                            ],
                                            [
                                                60,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                61,
                                                1
                                            ],
                                            [
                                                61,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                62,
                                                1
                                            ],
                                            [
                                                62,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                63,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                79
                                            ],
                                            [
                                                5,
                                                81
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                59
                                            ],
                                            [
                                                5,
                                                77
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                43
                                            ],
                                            [
                                                5,
                                                126
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                198
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                124
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanStatus",
                                        "alias": "대출 상태",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    40
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReservationReference",
                                        "alias": "예약 참조",
                                        "referencedAggregate": {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    18
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    38
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    39
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    41
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "aggregate": {
                                    "name": "Reservation",
                                    "alias": "예약",
                                    "refs": [
                                        [
                                            [
                                                66,
                                                1
                                            ],
                                            [
                                                66,
                                                27
                                            ]
                                        ],
                                        [
                                            [
                                                67,
                                                1
                                            ],
                                            [
                                                67,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                68,
                                                1
                                            ],
                                            [
                                                68,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                69,
                                                1
                                            ],
                                            [
                                                69,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                70,
                                                1
                                            ],
                                            [
                                                70,
                                                56
                                            ]
                                        ],
                                        [
                                            [
                                                71,
                                                1
                                            ],
                                            [
                                                71,
                                                61
                                            ]
                                        ],
                                        [
                                            [
                                                72,
                                                1
                                            ],
                                            [
                                                72,
                                                44
                                            ]
                                        ],
                                        [
                                            [
                                                73,
                                                1
                                            ],
                                            [
                                                73,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                74,
                                                1
                                            ],
                                            [
                                                74,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                75,
                                                1
                                            ],
                                            [
                                                75,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                76,
                                                1
                                            ],
                                            [
                                                76,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                77,
                                                1
                                            ],
                                            [
                                                77,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                78,
                                                1
                                            ],
                                            [
                                                78,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                79,
                                                1
                                            ],
                                            [
                                                79,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                80,
                                                1
                                            ],
                                            [
                                                80,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                81,
                                                1
                                            ],
                                            [
                                                81,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                82,
                                                1
                                            ],
                                            [
                                                82,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                193
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "ReservationStatus",
                                        "alias": "예약 상태",
                                        "refs": [
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    44
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    37
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "대출과 예약이 각각의 Aggregate로 분리되어 각 도메인 책임이 명확하며, 각 Aggregate가 자신의 비즈니스 규칙을 집중적으로 관리할 수 있습니다.",
                            "coupling": "Book, Reservation 간 참조는 ValueObject로 일방향으로만 이루어져 결합도가 낮고, 도서 관리 변경이 대출/예약에 직접적인 영향을 주지 않습니다.",
                            "consistency": "대출, 예약 각각의 트랜잭션 경계가 명확하여 상태 변경 시 원자성을 보장할 수 있습니다.",
                            "encapsulation": "각 Aggregate가 자신의 상태와 행위를 완전히 캡슐화하여 외부에서 내부 구현에 접근할 수 없습니다.",
                            "complexity": "Aggregate 수가 적절하여 도메인 복잡도를 효과적으로 관리할 수 있습니다.",
                            "independence": "대출과 예약 기능이 독립적으로 진화 및 확장될 수 있어 유지보수성이 높습니다.",
                            "performance": "대출/예약 각각의 조회 및 변경이 독립적으로 처리되어 동시성 및 성능에 유리합니다."
                        },
                        "cons": {
                            "cohesion": "대출과 예약 간의 상태 전이(예: 반납 시 예약 자동 처리 등) 로직이 Aggregate 간 조정 로직으로 분산될 수 있습니다.",
                            "coupling": "예약과 대출 간의 상태 동기화가 필요할 때, 두 Aggregate 간의 간접적 연동이 필요하여 구현이 복잡해질 수 있습니다.",
                            "consistency": "예약과 대출이 동시에 변경되어야 하는 복합 트랜잭션의 경우, 분산 트랜잭션 또는 이벤트 기반 보상 로직이 필요할 수 있습니다.",
                            "encapsulation": "예약과 대출의 복합 비즈니스 규칙(예: 예약 우선 순위 반영 등)이 Aggregate 외부에서 처리될 수 있습니다.",
                            "complexity": "예약과 대출의 상호작용을 조율하는 추가 서비스 계층이 필요할 수 있습니다.",
                            "independence": "예약과 대출의 상호작용이 많을 경우, 완전한 독립성 확보가 어려울 수 있습니다.",
                            "performance": "예약과 대출 정보를 통합 조회할 때 Aggregate 간 조인 또는 별도 조회가 필요하여 성능 저하가 발생할 수 있습니다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약",
                            "displayName": "대출/반납 및 예약",
                            "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "requirements": {
                                "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    38
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    39
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    37
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    41
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "10": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "16": {
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    17
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "18": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    81
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "20": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    45,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    1
                                                ],
                                                [
                                                    46,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    1
                                                ],
                                                [
                                                    47,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    1
                                                ],
                                                [
                                                    48,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    1
                                                ],
                                                [
                                                    49,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    1
                                                ],
                                                [
                                                    50,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    1
                                                ],
                                                [
                                                    51,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    1
                                                ],
                                                [
                                                    52,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    1
                                                ],
                                                [
                                                    53,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    1
                                                ],
                                                [
                                                    54,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    1
                                                ],
                                                [
                                                    55,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    1
                                                ],
                                                [
                                                    56,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    57,
                                                    1
                                                ],
                                                [
                                                    57,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    58,
                                                    1
                                                ],
                                                [
                                                    58,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    59,
                                                    1
                                                ],
                                                [
                                                    59,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    60,
                                                    1
                                                ],
                                                [
                                                    60,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    61,
                                                    1
                                                ],
                                                [
                                                    61,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    62,
                                                    1
                                                ],
                                                [
                                                    62,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    63,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    66,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    1
                                                ],
                                                [
                                                    67,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    68,
                                                    1
                                                ],
                                                [
                                                    68,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    69,
                                                    1
                                                ],
                                                [
                                                    69,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    1
                                                ],
                                                [
                                                    70,
                                                    56
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    71,
                                                    1
                                                ],
                                                [
                                                    71,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    1
                                                ],
                                                [
                                                    72,
                                                    44
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    1
                                                ],
                                                [
                                                    73,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    74,
                                                    1
                                                ],
                                                [
                                                    74,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    75,
                                                    1
                                                ],
                                                [
                                                    75,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    76,
                                                    1
                                                ],
                                                [
                                                    76,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    77,
                                                    1
                                                ],
                                                [
                                                    77,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    78,
                                                    1
                                                ],
                                                [
                                                    78,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    79,
                                                    1
                                                ],
                                                [
                                                    79,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    80,
                                                    1
                                                ],
                                                [
                                                    80,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    81,
                                                    1
                                                ],
                                                [
                                                    81,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    82,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "82": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "83": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "105": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "122": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "123": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "124": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "125": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "131": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "137": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "138": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "139": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "140": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "141": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "142": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "143": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "144": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "145": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "146": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "147": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "148": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "149": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "150": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "151": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "152": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "153": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "157": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "158": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "159": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "160": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "161": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "162": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "163": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "164": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "165": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "166": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "167": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "168": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "169": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "170": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "171": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "172": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "173": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "174": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "175": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "181": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "182": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "183": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "184": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "187": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "188": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "189": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "190": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "siteMap": []
                            }
                        },
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                    }
                }
            }
        ],
        "frontEndResults": [],
        "pbcResults": [
            {
                "name": "LoanHistory",
                "alias": "이력 관리",
                "importance": "Generic Domain",
                "complexity": 0.5,
                "differentiation": 0.5,
                "implementationStrategy": "PBC: PBC-Test",
                "aggregates": [
                    {
                        "name": "LoanHistory",
                        "alias": "대출 이력"
                    },
                    {
                        "name": "ReservationHistory",
                        "alias": "예약 이력"
                    }
                ],
                "events": [
                    "LoanHistoryRecorded",
                    "ReservationHistoryRecorded"
                ],
                "requirements": [
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    12
                                ]
                            ]
                        ],
                        "text": "대출 이력"
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    9,
                                    12
                                ],
                                [
                                    9,
                                    15
                                ]
                            ]
                        ],
                        "text": "력과 상"
                    },
                    {
                        "type": "DDL",
                        "refs": [
                            [
                                [
                                    99,
                                    1
                                ],
                                [
                                    111,
                                    25
                                ]
                            ]
                        ],
                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date"
                    },
                    {
                        "type": "Event",
                        "text": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ]
                    },
                    {
                        "type": "Event",
                        "text": "{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ]
                    }
                ],
                "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                "roleRefs": [
                    [
                        [
                            9,
                            8
                        ],
                        [
                            9,
                            67
                        ]
                    ]
                ],
                "siteMap": []
            }
        ],
        "pbcLists": [
            {
                "name": "chat-vue3-en",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "Chat service (Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                "id": 19,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
            },
            {
                "name": "review",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                "description": "review",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                "id": 21,
                "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
            },
            {
                "name": "reservation-notification",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 22,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
            },
            {
                "name": "reservation-notification-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 23,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
            },
            {
                "name": "chat-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 24,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
            },
            {
                "name": "chat",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 25,
                "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
            },
            {
                "name": "payment-system",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                "description": "결제를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                "id": 26,
                "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
            },
            {
                "name": "document-management",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                "description": "파일관리를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "### Instruction\n",
                "id": 30,
                "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
            },
            {
                "name": "gitlab",
                "rating": 5,
                "imageUrl": null,
                "description": "openapi.yaml",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## instruction\n",
                "id": 34,
                "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
            },
            {
                "name": "PBC-Test",
                "rating": 5,
                "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                "description": "Framework for rapidly and easily developing Java-based web applications.",
                "tags": [
                    "PBC"
                ],
                "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                "id": 35,
                "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
            }
        ],
        "projectInfo": {
            "author": "EYCl46CwWAWvpz2E1BCUpVgPIpa2",
            "authorEmail": "shinseongjin@uengine.org",
            "comment": "",
            "createdTimeStamp": 1758001496825,
            "inputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "lastModifiedTimeStamp": 1758001496825,
            "projectId": "163972132_project_4c558c54796d8f22083465e17f4f3173",
            "projectName": "",
            "prompt": "",
            "summarizedResult": "",
            "type": "project",
            "usedInputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "usedUserStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n"
        },
        "requirementsValidationResult": {
            "type": "ANALYSIS_RESULT",
            "projectName": "Requirements Analysis",
            "content": {
                "elements": {
                    "390d9ad6-e8b1-0508-75ce-07a946d754a9": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "390d9ad6-e8b1-0508-75ce-07a946d754a9",
                        "name": "Librarian",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "390d9ad6-e8b1-0508-75ce-07a946d754a9",
                            "x": 150,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "95caa185-a0dd-6d33-2345-575c86309c45": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "95caa185-a0dd-6d33-2345-575c86309c45",
                        "name": "Member",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "95caa185-a0dd-6d33-2345-575c86309c45",
                            "x": 150,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "2b568279-36d9-f183-03c4-d3934740d482": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "2b568279-36d9-f183-03c4-d3934740d482",
                        "name": "System",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "2b568279-36d9-f183-03c4-d3934740d482",
                            "x": 150,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "1f8b1907-ad9c-3d11-b02d-c329e2202b80": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                        "visibility": "public",
                        "name": "BookRegistered",
                        "oldName": "",
                        "displayName": "도서 등록됨",
                        "namePascalCase": "BookRegistered",
                        "nameCamelCase": "bookRegistered",
                        "namePlural": "",
                        "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                            "x": 300,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                            "x": 300,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "46430672-409c-9699-4fd8-1c403afb6ae0": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                        "visibility": "public",
                        "name": "BookDisposed",
                        "oldName": "",
                        "displayName": "도서 폐기됨",
                        "namePascalCase": "BookDisposed",
                        "nameCamelCase": "bookDisposed",
                        "namePlural": "",
                        "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                            "x": 500,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                            "x": 500,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "visibility": "public",
                        "name": "BookStatusChanged",
                        "oldName": "",
                        "displayName": "도서 상태 변경됨",
                        "namePascalCase": "BookStatusChanged",
                        "nameCamelCase": "bookStatusChanged",
                        "namePlural": "",
                        "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "x": 300,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "x": 300,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "3fd758ad-d1aa-2d00-84c6-e617a5ca321d": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                        "visibility": "public",
                        "name": "LoanHistoryRecorded",
                        "oldName": "",
                        "displayName": "대출 이력 기록됨",
                        "namePascalCase": "LoanHistoryRecorded",
                        "nameCamelCase": "loanHistoryRecorded",
                        "namePlural": "",
                        "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "x": 500,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "x": 500,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "0c5189db-fb16-d909-f227-0d57f711a17b": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                        "visibility": "public",
                        "name": "ReservationHistoryRecorded",
                        "oldName": "",
                        "displayName": "예약 이력 기록됨",
                        "namePascalCase": "ReservationHistoryRecorded",
                        "nameCamelCase": "reservationHistoryRecorded",
                        "namePlural": "",
                        "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                            "x": 700,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                            "x": 700,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "6f1d672f-a24c-3ce2-a1d8-001277df7fc7": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                        "visibility": "public",
                        "name": "BookLoaned",
                        "oldName": "",
                        "displayName": "도서 대출됨",
                        "namePascalCase": "BookLoaned",
                        "nameCamelCase": "bookLoaned",
                        "namePlural": "",
                        "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "x": 300,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "x": 300,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "d858202f-6448-5f92-839f-057850558645": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "d858202f-6448-5f92-839f-057850558645",
                        "visibility": "public",
                        "name": "BookReserved",
                        "oldName": "",
                        "displayName": "도서 예약됨",
                        "namePascalCase": "BookReserved",
                        "nameCamelCase": "bookReserved",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d858202f-6448-5f92-839f-057850558645",
                            "x": 500,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "d858202f-6448-5f92-839f-057850558645",
                            "x": 500,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                        "visibility": "public",
                        "name": "BookReturned",
                        "oldName": "",
                        "displayName": "도서 반납됨",
                        "namePascalCase": "BookReturned",
                        "nameCamelCase": "bookReturned",
                        "namePlural": "",
                        "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "x": 700,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "x": 700,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "fdb46713-7a04-0545-7333-76bb78ef9e6b": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                        "visibility": "public",
                        "name": "LoanExtended",
                        "oldName": "",
                        "displayName": "대출 연장됨",
                        "namePascalCase": "LoanExtended",
                        "nameCamelCase": "loanExtended",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                            "x": 900,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                            "x": 900,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    }
                },
                "relations": {
                    "1145e43c-b5f5-f11d-4ce6-8284718bd16d": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                        "to": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                        "description": "",
                        "relationView": {
                            "id": "1145e43c-b5f5-f11d-4ce6-8284718bd16d",
                            "value": "[[0,275],[2000,275]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,275],[2000,275]]"
                    },
                    "1a7be36f-bc74-c430-34fc-05d2731ae1e7": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                        "to": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                        "description": "",
                        "relationView": {
                            "id": "1a7be36f-bc74-c430-34fc-05d2731ae1e7",
                            "value": "[[0,525],[2000,525]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,525],[2000,525]]"
                    },
                    "2c8dc285-d342-8b02-4648-9c8765948650": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "2c8dc285-d342-8b02-4648-9c8765948650",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "2c8dc285-d342-8b02-4648-9c8765948650",
                        "to": "2c8dc285-d342-8b02-4648-9c8765948650",
                        "description": "",
                        "relationView": {
                            "id": "2c8dc285-d342-8b02-4648-9c8765948650",
                            "value": "[[0,775],[2000,775]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,775],[2000,775]]"
                    },
                    "08de7859-04f0-9f44-9d01-34a8f16de0f8": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "08de7859-04f0-9f44-9d01-34a8f16de0f8",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                            "visibility": "public",
                            "name": "BookRegistered",
                            "oldName": "",
                            "displayName": "도서 등록됨",
                            "namePascalCase": "BookRegistered",
                            "nameCamelCase": "bookRegistered",
                            "namePlural": "",
                            "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                "x": 300,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                                "x": 300,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                        "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "relationView": {
                            "id": "08de7859-04f0-9f44-9d01-34a8f16de0f8",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1f8b1907-ad9c-3d11-b02d-c329e2202b80",
                            "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "needReconnect": true
                        }
                    },
                    "5126cbe9-4654-ddff-1703-d9c350d09e40": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "5126cbe9-4654-ddff-1703-d9c350d09e40",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                            "visibility": "public",
                            "name": "BookDisposed",
                            "oldName": "",
                            "displayName": "도서 폐기됨",
                            "namePascalCase": "BookDisposed",
                            "nameCamelCase": "bookDisposed",
                            "namePlural": "",
                            "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                "x": 500,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "46430672-409c-9699-4fd8-1c403afb6ae0",
                                "x": 500,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "to": "46430672-409c-9699-4fd8-1c403afb6ae0",
                        "relationView": {
                            "id": "5126cbe9-4654-ddff-1703-d9c350d09e40",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "to": "46430672-409c-9699-4fd8-1c403afb6ae0",
                            "needReconnect": true
                        }
                    },
                    "c851c068-8abb-87d9-1c2a-1e80ed443591": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "c851c068-8abb-87d9-1c2a-1e80ed443591",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "to": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                        "relationView": {
                            "id": "c851c068-8abb-87d9-1c2a-1e80ed443591",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "to": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "needReconnect": true
                        }
                    },
                    "bde18cde-2136-ad9e-f9b0-1257e6ebc558": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "bde18cde-2136-ad9e-f9b0-1257e6ebc558",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "to": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                        "relationView": {
                            "id": "bde18cde-2136-ad9e-f9b0-1257e6ebc558",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "to": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "needReconnect": true
                        }
                    },
                    "2f9fb1a8-a85c-57be-3df8-b6cce24a96eb": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "2f9fb1a8-a85c-57be-3df8-b6cce24a96eb",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d858202f-6448-5f92-839f-057850558645",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "to": "d858202f-6448-5f92-839f-057850558645",
                        "relationView": {
                            "id": "2f9fb1a8-a85c-57be-3df8-b6cce24a96eb",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "to": "d858202f-6448-5f92-839f-057850558645",
                            "needReconnect": true
                        }
                    },
                    "156064f6-b46c-dbd1-66e7-aec2612bee9a": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "156064f6-b46c-dbd1-66e7-aec2612bee9a",
                        "name": "4",
                        "displayName": "4",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                        "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "relationView": {
                            "id": "156064f6-b46c-dbd1-66e7-aec2612bee9a",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "needReconnect": true
                        }
                    },
                    "0badfcbf-da89-28f3-1fc8-2176df4c90c2": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "0badfcbf-da89-28f3-1fc8-2176df4c90c2",
                        "name": "4",
                        "displayName": "4",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "visibility": "public",
                            "name": "LoanHistoryRecorded",
                            "oldName": "",
                            "displayName": "대출 이력 기록됨",
                            "namePascalCase": "LoanHistoryRecorded",
                            "nameCamelCase": "loanHistoryRecorded",
                            "namePlural": "",
                            "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                        "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                        "relationView": {
                            "id": "0badfcbf-da89-28f3-1fc8-2176df4c90c2",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "6f1d672f-a24c-3ce2-a1d8-001277df7fc7",
                            "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "needReconnect": true
                        }
                    },
                    "2c9e22a8-f6b9-0ee6-a0ee-e0cff1eef916": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "2c9e22a8-f6b9-0ee6-a0ee-e0cff1eef916",
                        "name": "5",
                        "displayName": "5",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d858202f-6448-5f92-839f-057850558645",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "d858202f-6448-5f92-839f-057850558645",
                        "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "relationView": {
                            "id": "2c9e22a8-f6b9-0ee6-a0ee-e0cff1eef916",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "d858202f-6448-5f92-839f-057850558645",
                            "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "needReconnect": true
                        }
                    },
                    "6b599222-08e9-f779-3f93-85e57557d253": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "6b599222-08e9-f779-3f93-85e57557d253",
                        "name": "5",
                        "displayName": "5",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d858202f-6448-5f92-839f-057850558645",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "d858202f-6448-5f92-839f-057850558645",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                            "visibility": "public",
                            "name": "ReservationHistoryRecorded",
                            "oldName": "",
                            "displayName": "예약 이력 기록됨",
                            "namePascalCase": "ReservationHistoryRecorded",
                            "nameCamelCase": "reservationHistoryRecorded",
                            "namePlural": "",
                            "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                "x": 700,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "0c5189db-fb16-d909-f227-0d57f711a17b",
                                "x": 700,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "d858202f-6448-5f92-839f-057850558645",
                        "to": "0c5189db-fb16-d909-f227-0d57f711a17b",
                        "relationView": {
                            "id": "6b599222-08e9-f779-3f93-85e57557d253",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "d858202f-6448-5f92-839f-057850558645",
                            "to": "0c5189db-fb16-d909-f227-0d57f711a17b",
                            "needReconnect": true
                        }
                    },
                    "9609f7f4-f5a0-b5ca-4c01-e7543b2eaf23": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "9609f7f4-f5a0-b5ca-4c01-e7543b2eaf23",
                        "name": "6",
                        "displayName": "6",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                        "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                        "relationView": {
                            "id": "9609f7f4-f5a0-b5ca-4c01-e7543b2eaf23",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "to": "c80d52a4-a410-c5b4-8f69-c658dd4ae1fb",
                            "needReconnect": true
                        }
                    },
                    "ed4c3414-3bb0-b268-2d63-04ef6a8b5c93": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "ed4c3414-3bb0-b268-2d63-04ef6a8b5c93",
                        "name": "6",
                        "displayName": "6",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "visibility": "public",
                            "name": "LoanHistoryRecorded",
                            "oldName": "",
                            "displayName": "대출 이력 기록됨",
                            "namePascalCase": "LoanHistoryRecorded",
                            "nameCamelCase": "loanHistoryRecorded",
                            "namePlural": "",
                            "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                        "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                        "relationView": {
                            "id": "ed4c3414-3bb0-b268-2d63-04ef6a8b5c93",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "69c6b800-fbe8-b39d-7671-bb7c9a5a9fde",
                            "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "needReconnect": true
                        }
                    },
                    "14263a5f-ed03-3d09-14f9-14a9af8b5ccb": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "14263a5f-ed03-3d09-14f9-14a9af8b5ccb",
                        "name": "7",
                        "displayName": "7",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                            "visibility": "public",
                            "name": "LoanExtended",
                            "oldName": "",
                            "displayName": "대출 연장됨",
                            "namePascalCase": "LoanExtended",
                            "nameCamelCase": "loanExtended",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "visibility": "public",
                            "name": "LoanHistoryRecorded",
                            "oldName": "",
                            "displayName": "대출 이력 기록됨",
                            "namePascalCase": "LoanHistoryRecorded",
                            "nameCamelCase": "loanHistoryRecorded",
                            "namePlural": "",
                            "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                        "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                        "relationView": {
                            "id": "14263a5f-ed03-3d09-14f9-14a9af8b5ccb",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "fdb46713-7a04-0545-7333-76bb78ef9e6b",
                            "to": "3fd758ad-d1aa-2d00-84c6-e617a5ca321d",
                            "needReconnect": true
                        }
                    }
                }
            },
            "analysisResult": {
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 다음과 같습니다: (1) 도서 관리(Book Management), (2) 대출/반납 관리(Loan/Return Management), (3) 예약 관리(Reservation Management), (4) 이력/조회 관리(History/Inquiry Management). 2) 각 컨텍스트의 비즈니스 도메인과 책임은 다음과 같습니다: 도서 관리는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. 대출/반납 관리는 회원 인증, 대출/반납/연장 등 도서의 이동과 관련된 프로세스를 담당합니다. 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당합니다. 이력/조회 관리는 대출 및 상태 변경 이력의 기록과 조회를 담당합니다. 3) 바운디드 컨텍스트 수는 각 도메인의 명확한 책임 분리, 이벤트 복잡성, 그리고 액터 간 상호작용(예: 도서 담당자, 회원, 시스템)의 분리를 근거로 산정했습니다. 4) 각 컨텍스트는 실제 조직 내 역할 분리(예: 사서, 회원, 시스템 관리자) 및 업무 흐름(등록/대출/예약/이력 관리)과 일치하며, 유지보수성과 확장성을 높입니다.",
                "events": [
                    {
                        "name": "BookRegistered",
                        "displayName": "도서 등록됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                        "inputs": [
                            "도서명",
                            "ISBN(13자리)",
                            "저자",
                            "출판사",
                            "카테고리(소설/비소설/학술/잡지)"
                        ],
                        "outputs": [
                            "신규 도서 정보",
                            "도서 상태: 대출가능"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    57
                                ],
                                [
                                    3,
                                    100
                                ]
                            ],
                            [
                                [
                                    3,
                                    105
                                ],
                                [
                                    3,
                                    128
                                ]
                            ],
                            [
                                [
                                    3,
                                    136
                                ],
                                [
                                    3,
                                    161
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStatusChanged",
                        "displayName": "도서 상태 변경됨",
                        "actor": "System",
                        "level": 2,
                        "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                        "inputs": [
                            "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "변경된 도서 상태"
                        ],
                        "nextEvents": [
                            "BookDisposed",
                            "BookLoaned",
                            "BookReturned",
                            "BookReserved"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    191
                                ],
                                [
                                    3,
                                    238
                                ]
                            ],
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ],
                            [
                                [
                                    7,
                                    150
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookDisposed",
                        "displayName": "도서 폐기됨",
                        "actor": "Librarian",
                        "level": 3,
                        "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "inputs": [
                            "도서 식별자",
                            "폐기 사유"
                        ],
                        "outputs": [
                            "도서 상태: 폐기"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoaned",
                        "displayName": "도서 대출됨",
                        "actor": "Member",
                        "level": 4,
                        "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "이름",
                            "도서 식별자",
                            "대출 기간(7/14/30일)"
                        ],
                        "outputs": [
                            "대출 정보",
                            "도서 상태: 대출중"
                        ],
                        "nextEvents": [
                            "BookStatusChanged",
                            "LoanHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    49
                                ],
                                [
                                    5,
                                    91
                                ]
                            ],
                            [
                                [
                                    5,
                                    59
                                ],
                                [
                                    5,
                                    77
                                ]
                            ],
                            [
                                [
                                    5,
                                    43
                                ],
                                [
                                    5,
                                    126
                                ]
                            ],
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    5,
                                    235
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReserved",
                        "displayName": "도서 예약됨",
                        "actor": "Member",
                        "level": 5,
                        "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "예약 정보",
                            "도서 상태: 예약중"
                        ],
                        "nextEvents": [
                            "BookStatusChanged",
                            "ReservationHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    193
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReturned",
                        "displayName": "도서 반납됨",
                        "actor": "Member",
                        "level": 6,
                        "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "도서 상태: 대출가능 또는 예약중",
                            "반납 처리 정보"
                        ],
                        "nextEvents": [
                            "BookStatusChanged",
                            "LoanHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    133
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanExtended",
                        "displayName": "대출 연장됨",
                        "actor": "Member",
                        "level": 7,
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자",
                            "연장 기간"
                        ],
                        "outputs": [
                            "갱신된 대출 정보",
                            "새 반납 예정일"
                        ],
                        "nextEvents": [
                            "LoanHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    109
                                ],
                                [
                                    7,
                                    124
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanHistoryRecorded",
                        "displayName": "대출 이력 기록됨",
                        "actor": "System",
                        "level": 8,
                        "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                        "inputs": [
                            "대출/반납/연장 이벤트 정보"
                        ],
                        "outputs": [
                            "대출 이력 데이터"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "ReservationHistoryRecorded",
                        "displayName": "예약 이력 기록됨",
                        "actor": "System",
                        "level": 9,
                        "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                        "inputs": [
                            "예약 이벤트 정보"
                        ],
                        "outputs": [
                            "예약 이력 데이터"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ]
                    }
                ],
                "actors": [
                    {
                        "name": "Librarian",
                        "events": [
                            "BookRegistered",
                            "BookDisposed"
                        ],
                        "lane": 0
                    },
                    {
                        "name": "Member",
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookReturned",
                            "LoanExtended"
                        ],
                        "lane": 1
                    },
                    {
                        "name": "System",
                        "events": [
                            "BookStatusChanged",
                            "LoanHistoryRecorded",
                            "ReservationHistoryRecorded"
                        ],
                        "lane": 2
                    }
                ]
            },
            "currentGeneratedLength": 5107
        }
    }
}