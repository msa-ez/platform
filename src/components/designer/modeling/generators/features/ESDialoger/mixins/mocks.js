export const aggregateDraftScenarios = {
    "libraryApplication": {
        "selectedStructureOption": {
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "importance": "Core Domain",
                    "complexity": 0.8,
                    "differentiation": 0.9,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        },
                        {
                            "name": "BookHistory",
                            "alias": "도서 이력"
                        }
                    ],
                    "events": [
                        "BookRegistered",
                        "BookDiscarded",
                        "BookStatusChanged"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ],
                            "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        25,
                                        1
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        85,
                                        1
                                    ],
                                    [
                                        96,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        87
                                    ],
                                    [
                                        3,
                                        163
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        172
                                    ],
                                    [
                                        3,
                                        238
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.",
                    "roleRefs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                3,
                                286
                            ]
                        ],
                        [
                            [
                                9,
                                3
                            ],
                            [
                                9,
                                61
                            ]
                        ]
                    ],
                    "siteMap": [
                        {
                            "id": "book-management",
                            "title": "도서 관리",
                            "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                            "boundedContext": "BookManagement",
                            "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                        },
                        {
                            "id": "book-registration",
                            "title": "도서 등록",
                            "description": "새로운 도서 등록",
                            "boundedContext": "BookManagement",
                            "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                        },
                        {
                            "id": "book-status-management",
                            "title": "도서 상태 관리",
                            "description": "보유 도서의 상태 변경 및 폐기 처리",
                            "boundedContext": "BookManagement",
                            "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                        },
                        {
                            "id": "book-history",
                            "title": "도서 이력 조회",
                            "description": "도서별 대출 및 상태 변경 이력 조회",
                            "boundedContext": "BookManagement",
                            "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                        }
                    ]
                },
                {
                    "name": "LoanProcess",
                    "alias": "대출/반납 프로세스",
                    "importance": "Core Domain",
                    "complexity": 0.9,
                    "differentiation": 0.95,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "events": [
                        "LoanRequested",
                        "LoanApproved",
                        "BookReserved",
                        "LoanExtended",
                        "BookReturned"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        1,
                                        1
                                    ],
                                    [
                                        1,
                                        29
                                    ]
                                ]
                            ],
                            "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ]
                            ],
                            "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        66,
                                        1
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        59
                                    ],
                                    [
                                        5,
                                        77
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        126
                                    ],
                                    [
                                        5,
                                        152
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        193
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.",
                    "roleRefs": [
                        [
                            [
                                5,
                                2
                            ],
                            [
                                7,
                                208
                            ]
                        ]
                    ],
                    "siteMap": [
                        {
                            "id": "loan-process",
                            "title": "대출/반납",
                            "description": "도서 대출, 반납, 예약 및 연장 처리",
                            "boundedContext": "LoanProcess",
                            "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                        },
                        {
                            "id": "loan-application",
                            "title": "대출 신청",
                            "description": "회원 인증 및 도서 대출 신청",
                            "boundedContext": "LoanProcess",
                            "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                        },
                        {
                            "id": "return-process",
                            "title": "반납 처리",
                            "description": "도서 반납 및 상태 변경",
                            "boundedContext": "LoanProcess",
                            "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                        }
                    ]
                },
                {
                    "name": "LoanStatusInquiry",
                    "alias": "대출 현황 및 이력 조회",
                    "importance": "Generic Domain",
                    "complexity": 0.6,
                    "differentiation": 0.5,
                    "implementationStrategy": "PBC: PBC-Test",
                    "aggregates": [
                        {
                            "name": "LoanStatus",
                            "alias": "대출 현황"
                        }
                    ],
                    "events": [
                        "LoanStatusChecked",
                        "BookHistoryChecked"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        87
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanStatusChecked\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.\",\n  \"inputs\": [\n    \"대출 기록\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        89
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다.",
                    "roleRefs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                61
                            ]
                        ]
                    ],
                    "siteMap": [
                        {
                            "id": "loan-status-inquiry",
                            "title": "대출 현황",
                            "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                            "boundedContext": "LoanStatusInquiry",
                            "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해."
                        },
                        {
                            "id": "loan-list",
                            "title": "대출 목록",
                            "description": "대출 중인 도서 목록 및 상태 확인",
                            "boundedContext": "LoanStatusInquiry",
                            "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해."
                        },
                        {
                            "id": "loan-history",
                            "title": "대출 이력 조회",
                            "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                            "boundedContext": "LoanStatusInquiry",
                            "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                        }
                    ]
                }
            ],
            "relations": [
                {
                    "name": "BookManagement-LoanProcess",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanProcess",
                        "alias": "대출/반납 프로세스"
                    },
                    "refs": [
                        [
                            [
                                3,
                                228
                            ],
                            [
                                3,
                                230
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanProcess-BookManagement",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanProcess",
                        "alias": "대출/반납 프로세스"
                    },
                    "downStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "refs": [
                        [
                            [
                                5,
                                198
                            ],
                            [
                                7,
                                208
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanProcess-LoanStatusInquiry",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanProcess",
                        "alias": "대출/반납 프로세스"
                    },
                    "downStream": {
                        "name": "LoanStatusInquiry",
                        "alias": "대출 현황 및 이력 조회"
                    },
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                61
                            ]
                        ]
                    ]
                },
                {
                    "name": "BookManagement-LoanStatusInquiry",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanStatusInquiry",
                        "alias": "대출 현황 및 이력 조회"
                    },
                    "refs": [
                        [
                            [
                                9,
                                3
                            ],
                            [
                                9,
                                61
                            ]
                        ]
                    ]
                }
            ],
            "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서 관리, 대출/반납 프로세스, 그리고 현황 및 이력 조회로 분리하였다. 도서 관리와 대출/반납은 각각 복잡한 비즈니스 규칙과 상태 전이를 포함하므로 Core Domain으로 지정하였다. 현황 및 이력 조회는 주로 데이터 조회 중심이므로 Supporting Domain으로 분리하였다. 각 컨텍스트는 이벤트 기반(Pub/Sub)으로 상호작용하여 결합도를 낮추고, 각자의 책임에 집중할 수 있도록 설계하였다.",
            "explanations": [
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출/반납 프로세스",
                    "relationType": "Pub/Sub",
                    "reason": "도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.",
                    "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.",
                    "refs": [
                        [
                            [
                                3,
                                228
                            ],
                            [
                                3,
                                230
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 프로세스",
                    "targetContext": "도서 관리",
                    "relationType": "Pub/Sub",
                    "reason": "대출/반납/예약/연장 등 프로세스에서 발생한 이벤트를 도서 관리 컨텍스트가 구독하여 도서 상태를 변경한다.",
                    "interactionPattern": "대출 승인, 반납, 예약 등의 이벤트가 발생하면 도서 관리에서 해당 이벤트를 구독하여 도서 상태를 갱신한다.",
                    "refs": [
                        [
                            [
                                5,
                                198
                            ],
                            [
                                7,
                                208
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 프로세스",
                    "targetContext": "대출 현황 및 이력 조회",
                    "relationType": "Pub/Sub",
                    "reason": "대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.",
                    "interactionPattern": "대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                61
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출 현황 및 이력 조회",
                    "relationType": "Pub/Sub",
                    "reason": "도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.",
                    "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                    "refs": [
                        [
                            [
                                9,
                                3
                            ],
                            [
                                9,
                                61
                            ]
                        ]
                    ]
                }
            ],
            "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
            "currentGeneratedLength": 5588
        },
        "resultDevideBoundedContext": {
            "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            },
                            {
                                "name": "BookHistory",
                                "alias": "도서 이력"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookDiscarded",
                            "BookStatusChanged"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            25,
                                            1
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    286
                                ]
                            ],
                            [
                                [
                                    9,
                                    3
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                            },
                            {
                                "id": "book-registration",
                                "title": "도서 등록",
                                "description": "새로운 도서 등록",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                            },
                            {
                                "id": "book-status-management",
                                "title": "도서 상태 관리",
                                "description": "보유 도서의 상태 변경 및 폐기 처리",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                            },
                            {
                                "id": "book-history",
                                "title": "도서 이력 조회",
                                "description": "도서별 대출 및 상태 변경 이력 조회",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ]
                    },
                    {
                        "name": "LoanProcess",
                        "alias": "대출/반납 프로세스",
                        "importance": "Core Domain",
                        "complexity": 0.9,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "LoanRequested",
                            "LoanApproved",
                            "BookReserved",
                            "LoanExtended",
                            "BookReturned"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            29
                                        ]
                                    ]
                                ],
                                "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    208
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "loan-process",
                                "title": "대출/반납",
                                "description": "도서 대출, 반납, 예약 및 연장 처리",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                            },
                            {
                                "id": "loan-application",
                                "title": "대출 신청",
                                "description": "회원 인증 및 도서 대출 신청",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                            },
                            {
                                "id": "return-process",
                                "title": "반납 처리",
                                "description": "도서 반납 및 상태 변경",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                            }
                        ]
                    },
                    {
                        "name": "LoanStatusInquiry",
                        "alias": "대출 현황 및 이력 조회",
                        "importance": "Generic Domain",
                        "complexity": 0.6,
                        "differentiation": 0.5,
                        "implementationStrategy": "PBC: PBC-Test",
                        "aggregates": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 현황"
                            }
                        ],
                        "events": [
                            "LoanStatusChecked",
                            "BookHistoryChecked"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            87
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanStatusChecked\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.\",\n  \"inputs\": [\n    \"대출 기록\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다.",
                        "roleRefs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "loan-status-inquiry",
                                "title": "대출 현황",
                                "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해."
                            },
                            {
                                "id": "loan-list",
                                "title": "대출 목록",
                                "description": "대출 중인 도서 목록 및 상태 확인",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해."
                            },
                            {
                                "id": "loan-history",
                                "title": "대출 이력 조회",
                                "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ]
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanProcess",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    228
                                ],
                                [
                                    3,
                                    230
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcess-BookManagement",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스"
                        },
                        "downStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    208
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcess-LoanStatusInquiry",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스"
                        },
                        "downStream": {
                            "name": "LoanStatusInquiry",
                            "alias": "대출 현황 및 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanStatusInquiry",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanStatusInquiry",
                            "alias": "대출 현황 및 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    9,
                                    3
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서 관리, 대출/반납 프로세스, 그리고 현황 및 이력 조회로 분리하였다. 도서 관리와 대출/반납은 각각 복잡한 비즈니스 규칙과 상태 전이를 포함하므로 Core Domain으로 지정하였다. 현황 및 이력 조회는 주로 데이터 조회 중심이므로 Supporting Domain으로 분리하였다. 각 컨텍스트는 이벤트 기반(Pub/Sub)으로 상호작용하여 결합도를 낮추고, 각자의 책임에 집중할 수 있도록 설계하였다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 프로세스",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.",
                        "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    228
                                ],
                                [
                                    3,
                                    230
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 프로세스",
                        "targetContext": "도서 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/예약/연장 등 프로세스에서 발생한 이벤트를 도서 관리 컨텍스트가 구독하여 도서 상태를 변경한다.",
                        "interactionPattern": "대출 승인, 반납, 예약 등의 이벤트가 발생하면 도서 관리에서 해당 이벤트를 구독하여 도서 상태를 갱신한다.",
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    208
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 프로세스",
                        "targetContext": "대출 현황 및 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.",
                        "interactionPattern": "대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출 현황 및 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.",
                        "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                        "refs": [
                            [
                                [
                                    9,
                                    3
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 5588
            }
        },
        "boundedContextVersion": {
            "data": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            },
                            {
                                "name": "BookHistory",
                                "alias": "도서 이력"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookDiscarded",
                            "BookStatusChanged"
                        ],
                        "requirements": [],
                        "role": "도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    286
                                ]
                            ],
                            [
                                [
                                    9,
                                    3
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                            },
                            {
                                "id": "book-registration",
                                "title": "도서 등록",
                                "description": "새로운 도서 등록",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                            },
                            {
                                "id": "book-status-management",
                                "title": "도서 상태 관리",
                                "description": "보유 도서의 상태 변경 및 폐기 처리",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                            },
                            {
                                "id": "book-history",
                                "title": "도서 이력 조회",
                                "description": "도서별 대출 및 상태 변경 이력 조회",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ]
                    },
                    {
                        "name": "LoanProcess",
                        "alias": "대출/반납 프로세스",
                        "importance": "Core Domain",
                        "complexity": 0.9,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "LoanRequested",
                            "LoanApproved",
                            "BookReserved",
                            "LoanExtended",
                            "BookReturned"
                        ],
                        "requirements": [],
                        "role": "회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    208
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "loan-process",
                                "title": "대출/반납",
                                "description": "도서 대출, 반납, 예약 및 연장 처리",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                            },
                            {
                                "id": "loan-application",
                                "title": "대출 신청",
                                "description": "회원 인증 및 도서 대출 신청",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                            },
                            {
                                "id": "return-process",
                                "title": "반납 처리",
                                "description": "도서 반납 및 상태 변경",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                            }
                        ]
                    },
                    {
                        "name": "LoanStatusInquiry",
                        "alias": "대출 현황 및 이력 조회",
                        "importance": "Generic Domain",
                        "complexity": 0.6,
                        "differentiation": 0.5,
                        "implementationStrategy": "PBC: PBC-Test",
                        "aggregates": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 현황"
                            }
                        ],
                        "events": [
                            "LoanStatusChecked",
                            "BookHistoryChecked"
                        ],
                        "requirements": [],
                        "role": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다.",
                        "roleRefs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ],
                        "siteMap": [
                            {
                                "id": "loan-status-inquiry",
                                "title": "대출 현황",
                                "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해."
                            },
                            {
                                "id": "loan-list",
                                "title": "대출 목록",
                                "description": "대출 중인 도서 목록 및 상태 확인",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해."
                            },
                            {
                                "id": "loan-history",
                                "title": "대출 이력 조회",
                                "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ]
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanProcess",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    228
                                ],
                                [
                                    3,
                                    230
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcess-BookManagement",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스"
                        },
                        "downStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    208
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanProcess-LoanStatusInquiry",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스"
                        },
                        "downStream": {
                            "name": "LoanStatusInquiry",
                            "alias": "대출 현황 및 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanStatusInquiry",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanStatusInquiry",
                            "alias": "대출 현황 및 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    9,
                                    3
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서 관리, 대출/반납 프로세스, 그리고 현황 및 이력 조회로 분리하였다. 도서 관리와 대출/반납은 각각 복잡한 비즈니스 규칙과 상태 전이를 포함하므로 Core Domain으로 지정하였다. 현황 및 이력 조회는 주로 데이터 조회 중심이므로 Supporting Domain으로 분리하였다. 각 컨텍스트는 이벤트 기반(Pub/Sub)으로 상호작용하여 결합도를 낮추고, 각자의 책임에 집중할 수 있도록 설계하였다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 프로세스",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.",
                        "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    228
                                ],
                                [
                                    3,
                                    230
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 프로세스",
                        "targetContext": "도서 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/예약/연장 등 프로세스에서 발생한 이벤트를 도서 관리 컨텍스트가 구독하여 도서 상태를 변경한다.",
                        "interactionPattern": "대출 승인, 반납, 예약 등의 이벤트가 발생하면 도서 관리에서 해당 이벤트를 구독하여 도서 상태를 갱신한다.",
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    208
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 프로세스",
                        "targetContext": "대출 현황 및 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.",
                        "interactionPattern": "대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출 현황 및 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.",
                        "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                        "refs": [
                            [
                                [
                                    9,
                                    3
                                ],
                                [
                                    9,
                                    61
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 5588
            },
            "version": 1,
            "aspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리"
        },
        "draftOptions": {
            "BookManagement": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Book",
                            "alias": "도서",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        286
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        3,
                                        301
                                    ]
                                ],
                                [
                                    [
                                        25,
                                        1
                                    ],
                                    [
                                        25,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        26,
                                        1
                                    ],
                                    [
                                        26,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        27,
                                        1
                                    ],
                                    [
                                        27,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        28,
                                        1
                                    ],
                                    [
                                        28,
                                        37
                                    ]
                                ],
                                [
                                    [
                                        29,
                                        1
                                    ],
                                    [
                                        29,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        30,
                                        1
                                    ],
                                    [
                                        30,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        31,
                                        1
                                    ],
                                    [
                                        31,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        32,
                                        1
                                    ],
                                    [
                                        32,
                                        59
                                    ]
                                ],
                                [
                                    [
                                        33,
                                        1
                                    ],
                                    [
                                        33,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        34,
                                        1
                                    ],
                                    [
                                        34,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        35,
                                        1
                                    ],
                                    [
                                        35,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        36,
                                        1
                                    ],
                                    [
                                        36,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        37,
                                        1
                                    ],
                                    [
                                        37,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        38,
                                        1
                                    ],
                                    [
                                        38,
                                        28
                                    ]
                                ],
                                [
                                    [
                                        39,
                                        1
                                    ],
                                    [
                                        39,
                                        26
                                    ]
                                ],
                                [
                                    [
                                        40,
                                        1
                                    ],
                                    [
                                        40,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        41,
                                        1
                                    ],
                                    [
                                        41,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        42,
                                        1
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        87
                                    ],
                                    [
                                        3,
                                        163
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        172
                                    ],
                                    [
                                        3,
                                        238
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            183
                                        ],
                                        [
                                            3,
                                            265
                                        ]
                                    ],
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            58
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            19
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookCategory",
                                "alias": "도서 카테고리",
                                "refs": [
                                    [
                                        [
                                            3,
                                            86
                                        ],
                                        [
                                            3,
                                            152
                                        ]
                                    ],
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            6
                                        ],
                                        [
                                            9,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationReference",
                                "alias": "예약 참조",
                                "referencedAggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            221
                                        ],
                                        [
                                            3,
                                            225
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            6
                                        ],
                                        [
                                            9,
                                            51
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            52
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "도서의 상태, 등록, 폐기 등 모든 핵심 도서 관리 기능이 하나의 Aggregate에 집중되어 있어 도메인 규칙이 명확하게 유지된다.",
                    "coupling": "외부 컨텍스트(LoanProcess, LoanStatusInquiry)와의 상호작용은 이벤트 기반 Pub/Sub로만 연결되어 결합도가 낮다.",
                    "consistency": "도서 상태 변경과 폐기 등 주요 트랜잭션이 Book Aggregate 내에서 원자적으로 처리되어 일관성이 보장된다.",
                    "encapsulation": "도서의 상태 변경, 폐기, 등록 등 모든 도메인 규칙이 Book Aggregate 내부에 캡슐화되어 외부에서 임의로 변경 불가하다.",
                    "complexity": "도서 관리 업무가 단일 Aggregate로 단순화되어 개발 및 유지보수가 용이하다.",
                    "independence": "도서 관리 정책 변경 시 Book Aggregate만 수정하면 되어 다른 도메인에 영향이 없다.",
                    "performance": "도서 상태 변경, 등록, 폐기 등 대부분의 작업이 단일 Aggregate 접근으로 처리되어 쿼리 효율이 높다."
                },
                "cons": {
                    "cohesion": "대출 이력, 상태 이력 등 확장 요구가 많아질 경우 Book Aggregate가 비대해질 수 있다.",
                    "coupling": "도서와 직접 관련 없는 이력 관리 요구가 늘어나면 Aggregate 내 책임이 불필요하게 커질 수 있다.",
                    "consistency": "이력 데이터가 많아질 경우 Book Aggregate의 트랜잭션 크기가 커져 성능 저하가 발생할 수 있다.",
                    "encapsulation": "모든 도서 관련 로직이 한 곳에 집중되어 역할 분리가 어렵다.",
                    "complexity": "이력 관리, 상태 관리, 폐기 등 다양한 기능이 한 Aggregate에 모이면 복잡도가 증가한다.",
                    "independence": "이력 관리 정책 변경 시 Book Aggregate 전체를 수정해야 하므로 독립성이 떨어진다.",
                    "performance": "이력 데이터가 많아질수록 Book Aggregate 접근 시 오버헤드가 커질 수 있다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "displayName": "도서 관리",
                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        },
                        {
                            "name": "BookHistory",
                            "alias": "도서 이력"
                        }
                    ],
                    "requirements": {
                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            52
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            301
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            63
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            25,
                                            1
                                        ],
                                        [
                                            25,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            26,
                                            1
                                        ],
                                        [
                                            26,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            27,
                                            1
                                        ],
                                        [
                                            27,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            28,
                                            1
                                        ],
                                        [
                                            28,
                                            37
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            29,
                                            1
                                        ],
                                        [
                                            29,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            30,
                                            1
                                        ],
                                        [
                                            30,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            31,
                                            1
                                        ],
                                        [
                                            31,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            32,
                                            1
                                        ],
                                        [
                                            32,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            33,
                                            1
                                        ],
                                        [
                                            33,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            34,
                                            1
                                        ],
                                        [
                                            34,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            35,
                                            1
                                        ],
                                        [
                                            35,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            36,
                                            1
                                        ],
                                        [
                                            36,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            37,
                                            1
                                        ],
                                        [
                                            37,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            38,
                                            1
                                        ],
                                        [
                                            38,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            39,
                                            1
                                        ],
                                        [
                                            39,
                                            26
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            40,
                                            1
                                        ],
                                        [
                                            40,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            41,
                                            1
                                        ],
                                        [
                                            41,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            42,
                                            1
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "82": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "83": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "105": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "122": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "123": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "124": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "125": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "131": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "132": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "142": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "143": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "144": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "145": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "148": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "149": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "150": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "151": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "154": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "155": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "156": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "157": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "siteMap": [
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                            },
                            {
                                "id": "book-registration",
                                "title": "도서 등록",
                                "description": "새로운 도서 등록",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                            },
                            {
                                "id": "book-status-management",
                                "title": "도서 상태 관리",
                                "description": "보유 도서의 상태 변경 및 폐기 처리",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                            },
                            {
                                "id": "book-history",
                                "title": "도서 이력 조회",
                                "description": "도서별 대출 및 상태 변경 이력 조회",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ]
                    }
                },
                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다."
            },
            "LoanProcess": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Loan",
                            "alias": "대출",
                            "refs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        59
                                    ]
                                ],
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        45,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        46,
                                        1
                                    ],
                                    [
                                        46,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        47,
                                        1
                                    ],
                                    [
                                        47,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        48,
                                        1
                                    ],
                                    [
                                        48,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        49,
                                        1
                                    ],
                                    [
                                        49,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        50,
                                        1
                                    ],
                                    [
                                        50,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        51,
                                        1
                                    ],
                                    [
                                        51,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        52,
                                        1
                                    ],
                                    [
                                        52,
                                        74
                                    ]
                                ],
                                [
                                    [
                                        53,
                                        1
                                    ],
                                    [
                                        53,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        54,
                                        1
                                    ],
                                    [
                                        54,
                                        34
                                    ]
                                ],
                                [
                                    [
                                        55,
                                        1
                                    ],
                                    [
                                        55,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        56,
                                        1
                                    ],
                                    [
                                        56,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        57,
                                        1
                                    ],
                                    [
                                        57,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        58,
                                        1
                                    ],
                                    [
                                        58,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        59,
                                        1
                                    ],
                                    [
                                        59,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        60,
                                        1
                                    ],
                                    [
                                        60,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        61,
                                        1
                                    ],
                                    [
                                        61,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        62,
                                        1
                                    ],
                                    [
                                        62,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        63,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 상태",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            65
                                        ],
                                        [
                                            7,
                                            81
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanActionType",
                                "alias": "대출 이력 유형",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            11
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약",
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            66,
                                            27
                                        ]
                                    ],
                                    [
                                        [
                                            67,
                                            1
                                        ],
                                        [
                                            67,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            1
                                        ],
                                        [
                                            68,
                                            35
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            1
                                        ],
                                        [
                                            69,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            70,
                                            1
                                        ],
                                        [
                                            70,
                                            56
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            1
                                        ],
                                        [
                                            71,
                                            61
                                        ]
                                    ],
                                    [
                                        [
                                            72,
                                            1
                                        ],
                                        [
                                            72,
                                            44
                                        ]
                                    ],
                                    [
                                        [
                                            73,
                                            1
                                        ],
                                        [
                                            73,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            1
                                        ],
                                        [
                                            74,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            1
                                        ],
                                        [
                                            75,
                                            78
                                        ]
                                    ],
                                    [
                                        [
                                            76,
                                            1
                                        ],
                                        [
                                            76,
                                            58
                                        ]
                                    ],
                                    [
                                        [
                                            77,
                                            1
                                        ],
                                        [
                                            77,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            78,
                                            1
                                        ],
                                        [
                                            78,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            79,
                                            1
                                        ],
                                        [
                                            79,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            80,
                                            1
                                        ],
                                        [
                                            80,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            81,
                                            1
                                        ],
                                        [
                                            81,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            82,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryRecord",
                                "alias": "대출 이력 기록",
                                "referencedAggregate": {
                                    "name": "BookHistory",
                                    "alias": "도서 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ],
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ],
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ],
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ],
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            42
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            23
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            54,
                                            33
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            21
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            33
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            43
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "대출, 예약, 이력 등 대출 프로세스의 모든 핵심 데이터를 하나의 Aggregate에서 일관성 있게 관리할 수 있다.",
                    "coupling": "Book, Reservation, BookHistory는 ValueObject 참조로만 사용되어 외부 Aggregate와의 결합도가 낮다.",
                    "consistency": "대출 상태 변경, 예약, 이력 기록 등 모든 트랜잭션이 원자적으로 처리되어 비즈니스 불변성이 강하게 보장된다.",
                    "encapsulation": "대출 관련 도메인 규칙과 상태 전이가 Loan Aggregate 내부에 집중되어 외부 노출이 최소화된다.",
                    "complexity": "모든 대출/예약/이력 기능이 한 곳에 모여 있어 도메인 흐름 파악이 쉽고, 구현 복잡도가 낮다.",
                    "independence": "Loan Aggregate만 변경하면 대출 프로세스의 주요 정책 변경이 가능해 유지보수가 용이하다.",
                    "performance": "대출 현황, 이력, 예약 등 조회 시 단일 Aggregate 접근으로 빠른 응답이 가능하다."
                },
                "cons": {
                    "cohesion": "대출, 예약, 이력 등 서로 다른 라이프사이클과 책임이 한 Aggregate에 혼재되어 응집도가 저하될 수 있다.",
                    "coupling": "Loan Aggregate가 비대해지면 도메인 확장 시 다른 기능과의 결합 위험이 커진다.",
                    "consistency": "동시성 이슈가 발생할 경우 트랜잭션 경합이 커질 수 있다.",
                    "encapsulation": "예약, 이력 등 세부 도메인 규칙이 Loan 내부에 집중되어 도메인별 분리가 어렵다.",
                    "complexity": "Aggregate가 커질수록 코드 복잡도와 테스트 난이도가 증가한다.",
                    "independence": "예약 또는 이력 기능만 독립적으로 확장/변경하기 어렵다.",
                    "performance": "동시 대출/예약/이력 기록이 많을 때 단일 Aggregate에 부하가 집중될 수 있다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "LoanProcess",
                    "alias": "대출/반납 프로세스",
                    "displayName": "대출/반납 프로세스",
                    "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "requirements": {
                        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                        "event": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                        "eventNames": "LoanRequested, LoanApproved, BookReserved, LoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            42
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            23
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            54,
                                            33
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            21
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            33
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            43
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "10": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "11": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "19": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "21": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            45,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            46,
                                            1
                                        ],
                                        [
                                            46,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            47,
                                            1
                                        ],
                                        [
                                            47,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            48,
                                            1
                                        ],
                                        [
                                            48,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            49,
                                            1
                                        ],
                                        [
                                            49,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            50,
                                            1
                                        ],
                                        [
                                            50,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            51,
                                            1
                                        ],
                                        [
                                            51,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            52,
                                            1
                                        ],
                                        [
                                            52,
                                            74
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            53,
                                            1
                                        ],
                                        [
                                            53,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            54,
                                            1
                                        ],
                                        [
                                            54,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            55,
                                            1
                                        ],
                                        [
                                            55,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            56,
                                            1
                                        ],
                                        [
                                            56,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            57,
                                            1
                                        ],
                                        [
                                            57,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            58,
                                            1
                                        ],
                                        [
                                            58,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            59,
                                            1
                                        ],
                                        [
                                            59,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            60,
                                            1
                                        ],
                                        [
                                            60,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            61,
                                            1
                                        ],
                                        [
                                            61,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            62,
                                            1
                                        ],
                                        [
                                            62,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            63,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            66,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            67,
                                            1
                                        ],
                                        [
                                            67,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            68,
                                            1
                                        ],
                                        [
                                            68,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            69,
                                            1
                                        ],
                                        [
                                            69,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            70,
                                            1
                                        ],
                                        [
                                            70,
                                            56
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            71,
                                            1
                                        ],
                                        [
                                            71,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            72,
                                            1
                                        ],
                                        [
                                            72,
                                            44
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            73,
                                            1
                                        ],
                                        [
                                            73,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            74,
                                            1
                                        ],
                                        [
                                            74,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            75,
                                            1
                                        ],
                                        [
                                            75,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            76,
                                            1
                                        ],
                                        [
                                            76,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            77,
                                            1
                                        ],
                                        [
                                            77,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            78,
                                            1
                                        ],
                                        [
                                            78,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            79,
                                            1
                                        ],
                                        [
                                            79,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            80,
                                            1
                                        ],
                                        [
                                            80,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            81,
                                            1
                                        ],
                                        [
                                            81,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            82,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "105": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "122": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "123": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "124": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "125": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "131": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "132": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "137": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "138": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "139": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "140": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "141": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "142": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "143": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "144": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "145": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "146": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "147": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "148": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "149": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "153": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "154": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "155": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "156": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "157": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "158": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "159": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "160": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "161": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "162": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "163": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "164": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "165": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "166": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "167": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "168": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "169": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "173": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "174": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "175": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "176": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "177": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "178": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "179": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "180": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "181": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "182": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "183": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "184": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "185": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "186": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "187": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "188": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "189": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "190": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "191": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "197": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "198": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "199": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "200": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "203": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "204": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "205": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "206": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "209": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "210": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "211": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "212": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "siteMap": [
                            {
                                "id": "loan-process",
                                "title": "대출/반납",
                                "description": "도서 대출, 반납, 예약 및 연장 처리",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                            },
                            {
                                "id": "loan-application",
                                "title": "대출 신청",
                                "description": "회원 인증 및 도서 대출 신청",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                            },
                            {
                                "id": "return-process",
                                "title": "반납 처리",
                                "description": "도서 반납 및 상태 변경",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                            }
                        ]
                    }
                },
                "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다."
            }
        },
        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
        "state": {
            "generator": "RequirementsMappingGenerator",
            "isAIModelSelected": false,
            "firstMessageIsTyping": true,
            "secondMessageIsTyping": false,
            "userStory": "",
            "communicationStyle": "Choreography",
            "aggregateDetail": false,
            "uiStyle": null
        },
        "messages": [
            {
                "uniqueId": "81c96e6d15a495b331315dd5406ab9b5",
                "type": "processAnalysis",
                "isAnalizing": false,
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "processingRate": 0,
                "content": {
                    "type": "ANALYSIS_RESULT",
                    "projectName": "Requirements Analysis",
                    "content": {
                        "elements": {
                            "b5ba0919-61be-fd99-952f-d25f2679a299": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "b5ba0919-61be-fd99-952f-d25f2679a299",
                                "name": "Librarian",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "b5ba0919-61be-fd99-952f-d25f2679a299",
                                    "x": 150,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "db30667b-66f0-f1ef-5f17-eff5f73a6432": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "db30667b-66f0-f1ef-5f17-eff5f73a6432",
                                "name": "Member",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "db30667b-66f0-f1ef-5f17-eff5f73a6432",
                                    "x": 150,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "3a7e8b9e-26cb-e866-4269-942f432bd79d": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "3a7e8b9e-26cb-e866-4269-942f432bd79d",
                                "name": "System",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "3a7e8b9e-26cb-e866-4269-942f432bd79d",
                                    "x": 150,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "1d7c1caf-8e23-331f-628b-e87406b7d722": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                "visibility": "public",
                                "name": "BookRegistered",
                                "oldName": "",
                                "displayName": "도서 등록됨",
                                "namePascalCase": "BookRegistered",
                                "nameCamelCase": "bookRegistered",
                                "namePlural": "",
                                "description": "관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                    "x": 300,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                    "x": 300,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "a91c7cca-8cfa-8f66-ff55-c2c07133a498": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                "visibility": "public",
                                "name": "BookDiscarded",
                                "oldName": "",
                                "displayName": "도서 폐기됨",
                                "namePascalCase": "BookDiscarded",
                                "nameCamelCase": "bookDiscarded",
                                "namePlural": "",
                                "description": "도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                    "x": 500,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                    "x": 500,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "ddfeff49-a1ea-ff08-6e32-21843898cf7c": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "visibility": "public",
                                "name": "LoanApproved",
                                "oldName": "",
                                "displayName": "대출 승인됨",
                                "namePascalCase": "LoanApproved",
                                "nameCamelCase": "loanApproved",
                                "namePlural": "",
                                "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                    "x": 700,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                    "x": 700,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "e2eda0d2-17a6-5756-330a-fe750a9e2a07": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "e2eda0d2-17a6-5756-330a-fe750a9e2a07",
                                "visibility": "public",
                                "name": "LoanStatusChecked",
                                "oldName": "",
                                "displayName": "대출 현황 조회됨",
                                "namePascalCase": "LoanStatusChecked",
                                "nameCamelCase": "loanStatusChecked",
                                "namePlural": "",
                                "description": "관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "e2eda0d2-17a6-5756-330a-fe750a9e2a07",
                                    "x": 900,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "e2eda0d2-17a6-5756-330a-fe750a9e2a07",
                                    "x": 900,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df",
                                "visibility": "public",
                                "name": "BookHistoryChecked",
                                "oldName": "",
                                "displayName": "도서 이력 조회됨",
                                "namePascalCase": "BookHistoryChecked",
                                "nameCamelCase": "bookHistoryChecked",
                                "namePlural": "",
                                "description": "관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df",
                                    "x": 1100,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df",
                                    "x": 1100,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "1621a7c8-7e36-a87f-0ae4-b99d98103eba": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "visibility": "public",
                                "name": "BookStatusChanged",
                                "oldName": "",
                                "displayName": "도서 상태 변경됨",
                                "namePascalCase": "BookStatusChanged",
                                "nameCamelCase": "bookStatusChanged",
                                "namePlural": "",
                                "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "x": 300,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "x": 300,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "c780d7c0-77c4-cdd8-71b7-6697e78cf364": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "visibility": "public",
                                "name": "LoanRequested",
                                "oldName": "",
                                "displayName": "대출 신청됨",
                                "namePascalCase": "LoanRequested",
                                "nameCamelCase": "loanRequested",
                                "namePlural": "",
                                "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "x": 300,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "x": 300,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "visibility": "public",
                                "name": "BookReserved",
                                "oldName": "",
                                "displayName": "도서 예약됨",
                                "namePascalCase": "BookReserved",
                                "nameCamelCase": "bookReserved",
                                "namePlural": "",
                                "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "x": 500,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "x": 500,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "19ff0aea-6add-cf8f-8310-93dab1c943d8": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "19ff0aea-6add-cf8f-8310-93dab1c943d8",
                                "visibility": "public",
                                "name": "LoanExtended",
                                "oldName": "",
                                "displayName": "대출 연장됨",
                                "namePascalCase": "LoanExtended",
                                "nameCamelCase": "loanExtended",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "19ff0aea-6add-cf8f-8310-93dab1c943d8",
                                    "x": 700,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "19ff0aea-6add-cf8f-8310-93dab1c943d8",
                                    "x": 700,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "9544047d-ac4f-deef-bf8f-5534c5b6bf8d": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "visibility": "public",
                                "name": "BookReturned",
                                "oldName": "",
                                "displayName": "도서 반납됨",
                                "namePascalCase": "BookReturned",
                                "nameCamelCase": "bookReturned",
                                "namePlural": "",
                                "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                    "x": 900,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                    "x": 900,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            }
                        },
                        "relations": {
                            "b67b8262-8ba9-e255-7cb1-24ae242a3719": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                                "to": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                                "description": "",
                                "relationView": {
                                    "id": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                                    "value": "[[0,275],[2000,275]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,275],[2000,275]]"
                            },
                            "f9060569-6650-83cc-8b12-6950d97e2ba4": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                                "to": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                                "description": "",
                                "relationView": {
                                    "id": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                                    "value": "[[0,525],[2000,525]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,525],[2000,525]]"
                            },
                            "16343416-1724-6db2-a115-211a18efc133": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "16343416-1724-6db2-a115-211a18efc133",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "16343416-1724-6db2-a115-211a18efc133",
                                "to": "16343416-1724-6db2-a115-211a18efc133",
                                "description": "",
                                "relationView": {
                                    "id": "16343416-1724-6db2-a115-211a18efc133",
                                    "value": "[[0,775],[2000,775]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,775],[2000,775]]"
                            },
                            "9d8829f2-5a99-7852-1300-f9ac1ebb1ae3": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "9d8829f2-5a99-7852-1300-f9ac1ebb1ae3",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                    "visibility": "public",
                                    "name": "BookRegistered",
                                    "oldName": "",
                                    "displayName": "도서 등록됨",
                                    "namePascalCase": "BookRegistered",
                                    "nameCamelCase": "bookRegistered",
                                    "namePlural": "",
                                    "description": "관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                        "x": 300,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                        "x": 300,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "relationView": {
                                    "id": "9d8829f2-5a99-7852-1300-f9ac1ebb1ae3",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                    "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "needReconnect": true
                                }
                            },
                            "39fb6a0e-154d-fe1d-efdb-62ef704817f5": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "39fb6a0e-154d-fe1d-efdb-62ef704817f5",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                    "visibility": "public",
                                    "name": "BookDiscarded",
                                    "oldName": "",
                                    "displayName": "도서 폐기됨",
                                    "namePascalCase": "BookDiscarded",
                                    "nameCamelCase": "bookDiscarded",
                                    "namePlural": "",
                                    "description": "도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                        "x": 500,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                        "x": 500,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "to": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                "relationView": {
                                    "id": "39fb6a0e-154d-fe1d-efdb-62ef704817f5",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "to": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                    "needReconnect": true
                                }
                            },
                            "1f289e8e-187b-212d-f95f-0595096c83c2": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "1f289e8e-187b-212d-f95f-0595096c83c2",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "visibility": "public",
                                    "name": "LoanRequested",
                                    "oldName": "",
                                    "displayName": "대출 신청됨",
                                    "namePascalCase": "LoanRequested",
                                    "nameCamelCase": "loanRequested",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "to": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "relationView": {
                                    "id": "1f289e8e-187b-212d-f95f-0595096c83c2",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "to": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "needReconnect": true
                                }
                            },
                            "043f26b2-1b98-8e24-d311-e225df91e6df": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "043f26b2-1b98-8e24-d311-e225df91e6df",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "to": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "relationView": {
                                    "id": "043f26b2-1b98-8e24-d311-e225df91e6df",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "to": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                    "needReconnect": true
                                }
                            },
                            "d00ef15c-34bc-f38e-4e7d-2352561b3a6e": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "d00ef15c-34bc-f38e-4e7d-2352561b3a6e",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "relationView": {
                                    "id": "d00ef15c-34bc-f38e-4e7d-2352561b3a6e",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "needReconnect": true
                                }
                            },
                            "ff7fb8a6-d7d8-2703-d3c9-ba1d25460d48": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "ff7fb8a6-d7d8-2703-d3c9-ba1d25460d48",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "visibility": "public",
                                    "name": "LoanRequested",
                                    "oldName": "",
                                    "displayName": "대출 신청됨",
                                    "namePascalCase": "LoanRequested",
                                    "nameCamelCase": "loanRequested",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                    "visibility": "public",
                                    "name": "LoanApproved",
                                    "oldName": "",
                                    "displayName": "대출 승인됨",
                                    "namePascalCase": "LoanApproved",
                                    "nameCamelCase": "loanApproved",
                                    "namePlural": "",
                                    "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                        "x": 700,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                        "x": 700,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "to": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "relationView": {
                                    "id": "ff7fb8a6-d7d8-2703-d3c9-ba1d25460d48",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "to": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                    "needReconnect": true
                                }
                            },
                            "a9f25878-517b-b32d-177d-baa967c74e88": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "a9f25878-517b-b32d-177d-baa967c74e88",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "visibility": "public",
                                    "name": "LoanRequested",
                                    "oldName": "",
                                    "displayName": "대출 신청됨",
                                    "namePascalCase": "LoanRequested",
                                    "nameCamelCase": "loanRequested",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "relationView": {
                                    "id": "a9f25878-517b-b32d-177d-baa967c74e88",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                    "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "needReconnect": true
                                }
                            },
                            "92902c1e-afdf-cb6e-8a2f-7140b87af4fc": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "92902c1e-afdf-cb6e-8a2f-7140b87af4fc",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                    "visibility": "public",
                                    "name": "LoanApproved",
                                    "oldName": "",
                                    "displayName": "대출 승인됨",
                                    "namePascalCase": "LoanApproved",
                                    "nameCamelCase": "loanApproved",
                                    "namePlural": "",
                                    "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                        "x": 700,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                        "x": 700,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "relationView": {
                                    "id": "92902c1e-afdf-cb6e-8a2f-7140b87af4fc",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                    "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "needReconnect": true
                                }
                            },
                            "29ae1abd-3e29-acc8-6900-45a676c77de8": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "29ae1abd-3e29-acc8-6900-45a676c77de8",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "relationView": {
                                    "id": "29ae1abd-3e29-acc8-6900-45a676c77de8",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                    "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "needReconnect": true
                                }
                            },
                            "11f2c0eb-2718-e9a0-6173-fbcbf5724870": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "11f2c0eb-2718-e9a0-6173-fbcbf5724870",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "relationView": {
                                    "id": "11f2c0eb-2718-e9a0-6173-fbcbf5724870",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                    "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                    "needReconnect": true
                                }
                            }
                        }
                    },
                    "analysisResult": {
                        "recommendedBoundedContextsNumber": 4,
                        "reasonOfRecommendedBoundedContextsNumber": "도서관 시스템의 요구사항을 분석한 결과, 다음과 같이 4개의 바운디드 컨텍스트를 추천합니다. (1) 도서 관리: 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 관리합니다. (2) 대출/반납 관리: 회원의 대출/반납, 연장, 예약 등 대출 프로세스와 관련된 상태 변화를 담당합니다. (3) 회원 인증 및 확인: 대출 시 회원의 신원 확인 및 회원 정보 관리가 필요하므로 별도의 컨텍스트로 분리합니다. (4) 이력/현황 조회: 도서별 대출 이력, 상태 변경 이력, 대출 현황 조회 등 기록 및 리포팅 기능을 담당합니다. 각 컨텍스트는 담당하는 비즈니스 도메인과 책임이 명확히 구분되며, 이벤트 복잡도와 액터 간 상호작용, 조직 내 역할 분리에 따라 4개가 적절합니다. 이는 도서 관리(관리자 중심), 대출/반납(회원 및 관리자), 회원 인증(시스템 또는 관리자), 이력/현황(관리자 및 시스템) 등으로 조직 구조와도 잘 맞습니다.",
                        "events": [
                            {
                                "name": "BookRegistered",
                                "displayName": "도서 등록됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                "inputs": [
                                    "도서명",
                                    "ISBN(13자리)",
                                    "저자",
                                    "출판사",
                                    "카테고리(소설/비소설/학술/잡지)"
                                ],
                                "outputs": [
                                    "신규 도서 생성",
                                    "도서 상태 '대출가능'으로 설정"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            87
                                        ],
                                        [
                                            3,
                                            163
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChanged",
                                "displayName": "도서 상태 변경됨",
                                "actor": "System",
                                "level": 2,
                                "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                "inputs": [
                                    "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)"
                                ],
                                "outputs": [
                                    "도서 상태(대출가능, 대출중, 예약중, 폐기)"
                                ],
                                "nextEvents": [
                                    "BookDiscarded",
                                    "LoanRequested",
                                    "BookReturned",
                                    "BookReserved"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            172
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDiscarded",
                                "displayName": "도서 폐기됨",
                                "actor": "Librarian",
                                "level": 3,
                                "description": "도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "inputs": [
                                    "도서 훼손/분실 사유",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "도서 상태 '폐기'로 변경"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanRequested",
                                "displayName": "대출 신청됨",
                                "actor": "Member",
                                "level": 1,
                                "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                                "inputs": [
                                    "회원번호",
                                    "이름",
                                    "도서명/ISBN",
                                    "대출 기간(7/14/30일)"
                                ],
                                "outputs": [
                                    "대출 신청 생성",
                                    "회원 인증 완료"
                                ],
                                "nextEvents": [
                                    "LoanApproved",
                                    "BookReserved"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            126
                                        ],
                                        [
                                            5,
                                            152
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanApproved",
                                "displayName": "대출 승인됨",
                                "actor": "Librarian",
                                "level": 2,
                                "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                                "inputs": [
                                    "대출 신청",
                                    "도서 상태 '대출가능'"
                                ],
                                "outputs": [
                                    "대출 기록 생성",
                                    "도서 상태 '대출중'으로 변경"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReserved",
                                "displayName": "도서 예약됨",
                                "actor": "Member",
                                "level": 2,
                                "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자",
                                    "도서 상태 '대출중'"
                                ],
                                "outputs": [
                                    "예약 기록 생성",
                                    "도서 상태 '예약중'으로 변경"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanExtended",
                                "displayName": "대출 연장됨",
                                "actor": "Member",
                                "level": 3,
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자",
                                    "연장 요청"
                                ],
                                "outputs": [
                                    "대출 기간 연장",
                                    "대출 기록 갱신"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReturned",
                                "displayName": "도서 반납됨",
                                "actor": "Member",
                                "level": 2,
                                "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자",
                                    "반납 요청"
                                ],
                                "outputs": [
                                    "반납 기록 생성",
                                    "도서 상태 변경"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanStatusChecked",
                                "displayName": "대출 현황 조회됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.",
                                "inputs": [
                                    "대출 기록"
                                ],
                                "outputs": [
                                    "대출 현황 목록"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookHistoryChecked",
                                "displayName": "도서 이력 조회됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.",
                                "inputs": [
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "대출 이력",
                                    "상태 변경 이력"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "actors": [
                            {
                                "name": "Librarian",
                                "events": [
                                    "BookRegistered",
                                    "BookDiscarded",
                                    "LoanApproved",
                                    "LoanStatusChecked",
                                    "BookHistoryChecked"
                                ],
                                "lane": 0
                            },
                            {
                                "name": "Member",
                                "events": [
                                    "LoanRequested",
                                    "BookReserved",
                                    "LoanExtended",
                                    "BookReturned"
                                ],
                                "lane": 1
                            },
                            {
                                "name": "System",
                                "events": [
                                    "BookStatusChanged"
                                ],
                                "lane": 2
                            }
                        ]
                    },
                    "currentGeneratedLength": 5282
                },
                "currentGeneratedLength": 5282,
                "timestamp": "2025-09-09T02:16:51.277Z"
            },
            {
                "uniqueId": "7a935b68360fdcb6a631db4cef3da600",
                "type": "bcGenerationOption",
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "isAnalizing": false,
                "generateOption": {
                    "numberOfBCs": 3,
                    "selectedAspects": [
                        "도메인 복잡도 분리",
                        "프로세스(value stream) 기반 분리"
                    ],
                    "additionalOptions": "",
                    "aspectDetails": {},
                    "isProtocolMode": true,
                    "isGenerateFrontEnd": false
                },
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "도서관 시스템의 요구사항을 분석한 결과, 다음과 같이 4개의 바운디드 컨텍스트를 추천합니다. (1) 도서 관리: 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 관리합니다. (2) 대출/반납 관리: 회원의 대출/반납, 연장, 예약 등 대출 프로세스와 관련된 상태 변화를 담당합니다. (3) 회원 인증 및 확인: 대출 시 회원의 신원 확인 및 회원 정보 관리가 필요하므로 별도의 컨텍스트로 분리합니다. (4) 이력/현황 조회: 도서별 대출 이력, 상태 변경 이력, 대출 현황 조회 등 기록 및 리포팅 기능을 담당합니다. 각 컨텍스트는 담당하는 비즈니스 도메인과 책임이 명확히 구분되며, 이벤트 복잡도와 액터 간 상호작용, 조직 내 역할 분리에 따라 4개가 적절합니다. 이는 도서 관리(관리자 중심), 대출/반납(회원 및 관리자), 회원 인증(시스템 또는 관리자), 이력/현황(관리자 및 시스템) 등으로 조직 구조와도 잘 맞습니다.",
                "timestamp": "2025-09-09T02:16:55.376Z"
            },
            {
                "uniqueId": "4ec483172d7cbfe4be78bb3a35a0cf21",
                "type": "boundedContextResult",
                "result": {
                    "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                        "boundedContexts": [
                            {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "importance": "Core Domain",
                                "complexity": 0.8,
                                "differentiation": 0.9,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    },
                                    {
                                        "name": "BookHistory",
                                        "alias": "도서 이력"
                                    }
                                ],
                                "events": [
                                    "BookRegistered",
                                    "BookDiscarded",
                                    "BookStatusChanged"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    25,
                                                    1
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.",
                                "roleRefs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "siteMap": [
                                    {
                                        "id": "book-management",
                                        "title": "도서 관리",
                                        "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                    },
                                    {
                                        "id": "book-registration",
                                        "title": "도서 등록",
                                        "description": "새로운 도서 등록",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                                    },
                                    {
                                        "id": "book-status-management",
                                        "title": "도서 상태 관리",
                                        "description": "보유 도서의 상태 변경 및 폐기 처리",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                    },
                                    {
                                        "id": "book-history",
                                        "title": "도서 이력 조회",
                                        "description": "도서별 대출 및 상태 변경 이력 조회",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                    }
                                ]
                            },
                            {
                                "name": "LoanProcess",
                                "alias": "대출/반납 프로세스",
                                "importance": "Core Domain",
                                "complexity": 0.9,
                                "differentiation": 0.95,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "events": [
                                    "LoanRequested",
                                    "LoanApproved",
                                    "BookReserved",
                                    "LoanExtended",
                                    "BookReturned"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.",
                                "roleRefs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ],
                                "siteMap": [
                                    {
                                        "id": "loan-process",
                                        "title": "대출/반납",
                                        "description": "도서 대출, 반납, 예약 및 연장 처리",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                    },
                                    {
                                        "id": "loan-application",
                                        "title": "대출 신청",
                                        "description": "회원 인증 및 도서 대출 신청",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                                    },
                                    {
                                        "id": "return-process",
                                        "title": "반납 처리",
                                        "description": "도서 반납 및 상태 변경",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                    }
                                ]
                            },
                            {
                                "name": "LoanStatusInquiry",
                                "alias": "대출 현황 및 이력 조회",
                                "importance": "Generic Domain",
                                "complexity": 0.6,
                                "differentiation": 0.5,
                                "implementationStrategy": "PBC: PBC-Test",
                                "aggregates": [
                                    {
                                        "name": "LoanStatus",
                                        "alias": "대출 현황"
                                    }
                                ],
                                "events": [
                                    "LoanStatusChecked",
                                    "BookHistoryChecked"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    87
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    }
                                ],
                                "role": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다.",
                                "roleRefs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ],
                                "siteMap": [
                                    {
                                        "id": "loan-status-inquiry",
                                        "title": "대출 현황",
                                        "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                                        "boundedContext": "LoanStatusInquiry",
                                        "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해."
                                    },
                                    {
                                        "id": "loan-list",
                                        "title": "대출 목록",
                                        "description": "대출 중인 도서 목록 및 상태 확인",
                                        "boundedContext": "LoanStatusInquiry",
                                        "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해."
                                    },
                                    {
                                        "id": "loan-history",
                                        "title": "대출 이력 조회",
                                        "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                                        "boundedContext": "LoanStatusInquiry",
                                        "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                    }
                                ]
                            }
                        ],
                        "relations": [
                            {
                                "name": "BookManagement-LoanProcess",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanProcess",
                                    "alias": "대출/반납 프로세스"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanProcess-BookManagement",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanProcess",
                                    "alias": "대출/반납 프로세스"
                                },
                                "downStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanProcess-LoanStatusInquiry",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanProcess",
                                    "alias": "대출/반납 프로세스"
                                },
                                "downStream": {
                                    "name": "LoanStatusInquiry",
                                    "alias": "대출 현황 및 이력 조회"
                                },
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookManagement-LoanStatusInquiry",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanStatusInquiry",
                                    "alias": "대출 현황 및 이력 조회"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서 관리, 대출/반납 프로세스, 그리고 현황 및 이력 조회로 분리하였다. 도서 관리와 대출/반납은 각각 복잡한 비즈니스 규칙과 상태 전이를 포함하므로 Core Domain으로 지정하였다. 현황 및 이력 조회는 주로 데이터 조회 중심이므로 Supporting Domain으로 분리하였다. 각 컨텍스트는 이벤트 기반(Pub/Sub)으로 상호작용하여 결합도를 낮추고, 각자의 책임에 집중할 수 있도록 설계하였다.",
                        "explanations": [
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출/반납 프로세스",
                                "relationType": "Pub/Sub",
                                "reason": "도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.",
                                "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            228
                                        ],
                                        [
                                            3,
                                            230
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 프로세스",
                                "targetContext": "도서 관리",
                                "relationType": "Pub/Sub",
                                "reason": "대출/반납/예약/연장 등 프로세스에서 발생한 이벤트를 도서 관리 컨텍스트가 구독하여 도서 상태를 변경한다.",
                                "interactionPattern": "대출 승인, 반납, 예약 등의 이벤트가 발생하면 도서 관리에서 해당 이벤트를 구독하여 도서 상태를 갱신한다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            208
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 프로세스",
                                "targetContext": "대출 현황 및 이력 조회",
                                "relationType": "Pub/Sub",
                                "reason": "대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.",
                                "interactionPattern": "대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출 현황 및 이력 조회",
                                "relationType": "Pub/Sub",
                                "reason": "도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.",
                                "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            61
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                        "currentGeneratedLength": 5588
                    }
                },
                "isStartMapping": false,
                "isGeneratingBoundedContext": false,
                "isSummarizeStarted": false,
                "isAnalizing": false,
                "processingRate": 100,
                "currentProcessingBoundedContext": "대출 현황 및 이력 조회",
                "selectedAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "summarizedResult": {
                    "summary": "",
                    "refs": [],
                    "originalRequirements": ""
                },
                "pbcLists": [
                    {
                        "name": "chat-vue3-en",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "Chat service (Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                        "id": 19,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
                    },
                    {
                        "name": "review",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                        "description": "review",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                        "id": 21,
                        "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 22,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 23,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 24,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 25,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
                    },
                    {
                        "name": "payment-system",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                        "description": "결제를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                        "id": 26,
                        "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
                    },
                    {
                        "name": "document-management",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                        "description": "파일관리를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "### Instruction\n",
                        "id": 30,
                        "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
                    },
                    {
                        "name": "gitlab",
                        "rating": 5,
                        "imageUrl": null,
                        "description": "openapi.yaml",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## instruction\n",
                        "id": 34,
                        "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
                    },
                    {
                        "name": "PBC-Test",
                        "rating": 5,
                        "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                        "description": "Framework for rapidly and easily developing Java-based web applications.",
                        "tags": [
                            "PBC"
                        ],
                        "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                        "id": 35,
                        "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
                    }
                ],
                "currentGeneratedLength": 5588,
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "timestamp": "2025-09-09T02:16:59.825Z"
            },
            {
                "uniqueId": "6d49d6a5211b08cedb19102387b9306c",
                "type": "siteMapViewer",
                "siteMap": [
                    {
                        "id": "node-1757384223929-cvwuxrn7j",
                        "title": "도서관 도서 관리 시스템",
                        "description": "도서관의 도서 등록, 상태 관리, 대출/반납, 대출 현황 및 이력 조회를 통합적으로 지원하는 시스템입니다.",
                        "type": "root",
                        "boundedContexts": [
                            {
                                "id": "BookManagement",
                                "title": "BookManagement",
                                "description": "도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다."
                            },
                            {
                                "id": "LoanProcess",
                                "title": "LoanProcess",
                                "description": "회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다."
                            },
                            {
                                "id": "LoanStatusInquiry",
                                "title": "LoanStatusInquiry",
                                "description": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다."
                            }
                        ],
                        "children": [
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                "type": "navigation",
                                "boundedContext": "BookManagement",
                                "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.",
                                "children": [
                                    {
                                        "id": "book-registration",
                                        "title": "도서 등록",
                                        "description": "새로운 도서 등록",
                                        "type": "navigation",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해.",
                                        "children": []
                                    },
                                    {
                                        "id": "book-status-management",
                                        "title": "도서 상태 관리",
                                        "description": "보유 도서의 상태 변경 및 폐기 처리",
                                        "type": "navigation",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.",
                                        "children": []
                                    },
                                    {
                                        "id": "book-history",
                                        "title": "도서 이력 조회",
                                        "description": "도서별 대출 및 상태 변경 이력 조회",
                                        "type": "navigation",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-process",
                                "title": "대출/반납",
                                "description": "도서 대출, 반납, 예약 및 연장 처리",
                                "type": "navigation",
                                "boundedContext": "LoanProcess",
                                "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.",
                                "children": [
                                    {
                                        "id": "loan-application",
                                        "title": "대출 신청",
                                        "description": "회원 인증 및 도서 대출 신청",
                                        "type": "navigation",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해.",
                                        "children": []
                                    },
                                    {
                                        "id": "return-process",
                                        "title": "반납 처리",
                                        "description": "도서 반납 및 상태 변경",
                                        "type": "navigation",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-status-inquiry",
                                "title": "대출 현황",
                                "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                                "type": "navigation",
                                "boundedContext": "LoanStatusInquiry",
                                "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.",
                                "children": [
                                    {
                                        "id": "loan-list",
                                        "title": "대출 목록",
                                        "description": "대출 중인 도서 목록 및 상태 확인",
                                        "type": "navigation",
                                        "boundedContext": "LoanStatusInquiry",
                                        "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해.",
                                        "children": []
                                    },
                                    {
                                        "id": "loan-history",
                                        "title": "대출 이력 조회",
                                        "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                                        "type": "navigation",
                                        "boundedContext": "LoanStatusInquiry",
                                        "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "resultDevideBoundedContext": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "importance": "Core Domain",
                            "complexity": 0.8,
                            "differentiation": 0.9,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                {
                                    "name": "BookHistory",
                                    "alias": "도서 이력"
                                }
                            ],
                            "events": [
                                "BookRegistered",
                                "BookDiscarded",
                                "BookStatusChanged"
                            ],
                            "requirements": [],
                            "role": "도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.",
                            "roleRefs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        286
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ]
                            ],
                            "siteMap": [
                                {
                                    "id": "book-management",
                                    "title": "도서 관리",
                                    "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                    "boundedContext": "BookManagement",
                                    "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                },
                                {
                                    "id": "book-registration",
                                    "title": "도서 등록",
                                    "description": "새로운 도서 등록",
                                    "boundedContext": "BookManagement",
                                    "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                                },
                                {
                                    "id": "book-status-management",
                                    "title": "도서 상태 관리",
                                    "description": "보유 도서의 상태 변경 및 폐기 처리",
                                    "boundedContext": "BookManagement",
                                    "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                },
                                {
                                    "id": "book-history",
                                    "title": "도서 이력 조회",
                                    "description": "도서별 대출 및 상태 변경 이력 조회",
                                    "boundedContext": "BookManagement",
                                    "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                }
                            ]
                        },
                        {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스",
                            "importance": "Core Domain",
                            "complexity": 0.9,
                            "differentiation": 0.95,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "events": [
                                "LoanRequested",
                                "LoanApproved",
                                "BookReserved",
                                "LoanExtended",
                                "BookReturned"
                            ],
                            "requirements": [],
                            "role": "회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.",
                            "roleRefs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        208
                                    ]
                                ]
                            ],
                            "siteMap": [
                                {
                                    "id": "loan-process",
                                    "title": "대출/반납",
                                    "description": "도서 대출, 반납, 예약 및 연장 처리",
                                    "boundedContext": "LoanProcess",
                                    "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                },
                                {
                                    "id": "loan-application",
                                    "title": "대출 신청",
                                    "description": "회원 인증 및 도서 대출 신청",
                                    "boundedContext": "LoanProcess",
                                    "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                                },
                                {
                                    "id": "return-process",
                                    "title": "반납 처리",
                                    "description": "도서 반납 및 상태 변경",
                                    "boundedContext": "LoanProcess",
                                    "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                }
                            ]
                        },
                        {
                            "name": "LoanStatusInquiry",
                            "alias": "대출 현황 및 이력 조회",
                            "importance": "Supporting Domain",
                            "complexity": 0.6,
                            "differentiation": 0.5,
                            "implementationStrategy": "Transaction Script",
                            "aggregates": [
                                {
                                    "name": "LoanStatus",
                                    "alias": "대출 현황"
                                }
                            ],
                            "events": [
                                "LoanStatusChecked",
                                "BookHistoryChecked"
                            ],
                            "requirements": [],
                            "role": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다.",
                            "roleRefs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ]
                            ],
                            "siteMap": [
                                {
                                    "id": "loan-status-inquiry",
                                    "title": "대출 현황",
                                    "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                                    "boundedContext": "LoanStatusInquiry",
                                    "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해."
                                },
                                {
                                    "id": "loan-list",
                                    "title": "대출 목록",
                                    "description": "대출 중인 도서 목록 및 상태 확인",
                                    "boundedContext": "LoanStatusInquiry",
                                    "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해."
                                },
                                {
                                    "id": "loan-history",
                                    "title": "대출 이력 조회",
                                    "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                                    "boundedContext": "LoanStatusInquiry",
                                    "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                }
                            ]
                        }
                    ],
                    "relations": [
                        {
                            "name": "BookManagement-LoanProcess",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanProcess",
                                "alias": "대출/반납 프로세스"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        228
                                    ],
                                    [
                                        3,
                                        230
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanProcess-BookManagement",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanProcess",
                                "alias": "대출/반납 프로세스"
                            },
                            "downStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "refs": [
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        7,
                                        208
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanProcess-LoanStatusInquiry",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanProcess",
                                "alias": "대출/반납 프로세스"
                            },
                            "downStream": {
                                "name": "LoanStatusInquiry",
                                "alias": "대출 현황 및 이력 조회"
                            },
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookManagement-LoanStatusInquiry",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanStatusInquiry",
                                "alias": "대출 현황 및 이력 조회"
                            },
                            "refs": [
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ]
                            ]
                        }
                    ],
                    "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서 관리, 대출/반납 프로세스, 그리고 현황 및 이력 조회로 분리하였다. 도서 관리와 대출/반납은 각각 복잡한 비즈니스 규칙과 상태 전이를 포함하므로 Core Domain으로 지정하였다. 현황 및 이력 조회는 주로 데이터 조회 중심이므로 Supporting Domain으로 분리하였다. 각 컨텍스트는 이벤트 기반(Pub/Sub)으로 상호작용하여 결합도를 낮추고, 각자의 책임에 집중할 수 있도록 설계하였다.",
                    "explanations": [
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출/반납 프로세스",
                            "relationType": "Pub/Sub",
                            "reason": "도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.",
                            "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        228
                                    ],
                                    [
                                        3,
                                        230
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 프로세스",
                            "targetContext": "도서 관리",
                            "relationType": "Pub/Sub",
                            "reason": "대출/반납/예약/연장 등 프로세스에서 발생한 이벤트를 도서 관리 컨텍스트가 구독하여 도서 상태를 변경한다.",
                            "interactionPattern": "대출 승인, 반납, 예약 등의 이벤트가 발생하면 도서 관리에서 해당 이벤트를 구독하여 도서 상태를 갱신한다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        7,
                                        208
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 프로세스",
                            "targetContext": "대출 현황 및 이력 조회",
                            "relationType": "Pub/Sub",
                            "reason": "대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.",
                            "interactionPattern": "대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출 현황 및 이력 조회",
                            "relationType": "Pub/Sub",
                            "reason": "도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.",
                            "interactionPattern": "도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                            "refs": [
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        61
                                    ]
                                ]
                            ]
                        }
                    ],
                    "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                    "currentGeneratedLength": 5588
                },
                "isGenerating": false,
                "processingRate": 0,
                "currentChunk": 0,
                "totalChunks": 0,
                "timestamp": "2025-09-09T02:17:03.693Z"
            },
            {
                "type": "aggregateDraftDialogDto",
                "uniqueId": "1757384237823",
                "isShow": true,
                "draftOptions": [
                    {
                        "boundedContext": "BookManagement",
                        "boundedContextAlias": "도서 관리",
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            183
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            58
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            86
                                                        ],
                                                        [
                                                            3,
                                                            152
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            221
                                                        ],
                                                        [
                                                            3,
                                                            225
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서의 상태, 등록, 폐기 등 모든 핵심 도서 관리 기능이 하나의 Aggregate에 집중되어 있어 도메인 규칙이 명확하게 유지된다.",
                                    "coupling": "외부 컨텍스트(LoanProcess, LoanStatusInquiry)와의 상호작용은 이벤트 기반 Pub/Sub로만 연결되어 결합도가 낮다.",
                                    "consistency": "도서 상태 변경과 폐기 등 주요 트랜잭션이 Book Aggregate 내에서 원자적으로 처리되어 일관성이 보장된다.",
                                    "encapsulation": "도서의 상태 변경, 폐기, 등록 등 모든 도메인 규칙이 Book Aggregate 내부에 캡슐화되어 외부에서 임의로 변경 불가하다.",
                                    "complexity": "도서 관리 업무가 단일 Aggregate로 단순화되어 개발 및 유지보수가 용이하다.",
                                    "independence": "도서 관리 정책 변경 시 Book Aggregate만 수정하면 되어 다른 도메인에 영향이 없다.",
                                    "performance": "도서 상태 변경, 등록, 폐기 등 대부분의 작업이 단일 Aggregate 접근으로 처리되어 쿼리 효율이 높다."
                                },
                                "cons": {
                                    "cohesion": "대출 이력, 상태 이력 등 확장 요구가 많아질 경우 Book Aggregate가 비대해질 수 있다.",
                                    "coupling": "도서와 직접 관련 없는 이력 관리 요구가 늘어나면 Aggregate 내 책임이 불필요하게 커질 수 있다.",
                                    "consistency": "이력 데이터가 많아질 경우 Book Aggregate의 트랜잭션 크기가 커져 성능 저하가 발생할 수 있다.",
                                    "encapsulation": "모든 도서 관련 로직이 한 곳에 집중되어 역할 분리가 어렵다.",
                                    "complexity": "이력 관리, 상태 관리, 폐기 등 다양한 기능이 한 Aggregate에 모이면 복잡도가 증가한다.",
                                    "independence": "이력 관리 정책 변경 시 Book Aggregate 전체를 수정해야 하므로 독립성이 떨어진다.",
                                    "performance": "이력 데이터가 많아질수록 Book Aggregate 접근 시 오버헤드가 커질 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        {
                                            "name": "BookHistory",
                                            "alias": "도서 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "155": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "156": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": [
                                            {
                                                "id": "book-management",
                                                "title": "도서 관리",
                                                "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                            },
                                            {
                                                "id": "book-registration",
                                                "title": "도서 등록",
                                                "description": "새로운 도서 등록",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                                            },
                                            {
                                                "id": "book-status-management",
                                                "title": "도서 상태 관리",
                                                "description": "보유 도서의 상태 변경 및 폐기 처리",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                            },
                                            {
                                                "id": "book-history",
                                                "title": "도서 이력 조회",
                                                "description": "도서별 대출 및 상태 변경 이력 조회",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                            }
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            183
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            58
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            86
                                                        ],
                                                        [
                                                            3,
                                                            152
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            221
                                                        ],
                                                        [
                                                            3,
                                                            225
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "BookHistory",
                                            "alias": "도서 이력",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        6
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ],
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ],
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ],
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            183
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            58
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            5
                                                        ],
                                                        [
                                                            93,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서 관리와 이력 관리가 각자의 Aggregate로 분리되어 각 도메인 책임이 명확히 구분된다.",
                                    "coupling": "Book과 BookHistory가 ValueObject 참조로만 연결되어 있어 상호 영향이 최소화된다.",
                                    "consistency": "도서 상태 변경과 이력 기록이 별도 트랜잭션으로 관리되어 대용량 이력 데이터에도 성능 저하가 적다.",
                                    "encapsulation": "이력 관리 정책 변경 시 BookHistory Aggregate만 수정하면 되어 유지보수가 쉽다.",
                                    "complexity": "각 Aggregate가 단순한 책임만 가지므로 도메인 구조가 명확하고 이해하기 쉽다.",
                                    "independence": "도서 관리와 이력 관리가 독립적으로 진화 및 확장 가능하다.",
                                    "performance": "이력 데이터가 많아져도 Book Aggregate의 성능에 직접적 영향을 주지 않는다."
                                },
                                "cons": {
                                    "cohesion": "도서 상태 변경 시 이력 기록을 위해 두 Aggregate 간의 연동 로직이 필요하다.",
                                    "coupling": "상태 변경과 이력 기록이 분리되어 있어 일관성 보장을 위해 추가적인 오케스트레이션이 필요하다.",
                                    "consistency": "상태 변경과 이력 기록이 완전히 동기화되지 않을 경우 일시적 불일치가 발생할 수 있다.",
                                    "encapsulation": "상태 변경과 이력 기록을 모두 보장하려면 도메인 서비스나 애플리케이션 서비스에서 추가 로직이 필요하다.",
                                    "complexity": "상태 변경과 이력 기록을 연동하는 로직이 추가되어 구현 복잡도가 증가한다.",
                                    "independence": "상태 변경과 이력 기록의 동기화 정책 변경 시 두 Aggregate 모두에 영향이 갈 수 있다.",
                                    "performance": "상태 변경 시 두 Aggregate에 대한 트랜잭션 처리가 필요해 일부 작업에서 오버헤드가 발생할 수 있다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        {
                                            "name": "BookHistory",
                                            "alias": "도서 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            87
                                                        ],
                                                        [
                                                            3,
                                                            163
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            172
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "155": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "156": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            3
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": [
                                            {
                                                "id": "book-management",
                                                "title": "도서 관리",
                                                "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                            },
                                            {
                                                "id": "book-registration",
                                                "title": "도서 등록",
                                                "description": "새로운 도서 등록",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                                            },
                                            {
                                                "id": "book-status-management",
                                                "title": "도서 상태 관리",
                                                "description": "보유 도서의 상태 변경 및 폐기 처리",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                            },
                                            {
                                                "id": "book-history",
                                                "title": "도서 이력 조회",
                                                "description": "도서별 대출 및 상태 변경 이력 조회",
                                                "boundedContext": "BookManagement",
                                                "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                            }
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다."
                            }
                        ],
                        "conclusions": "Option 1은 도서 상태 관리와 이력 관리가 단일 트랜잭션으로 일관성 있게 처리되어야 하며, 이력 데이터가 적거나 단순한 경우에 적합합니다. Option 2는 도서 이력 데이터가 많거나, 이력 관리 정책이 자주 변경될 가능성이 높고, 도서 관리와 이력 관리의 독립적 확장이 중요한 경우에 적합합니다. 대형 도서관이나 이력 데이터가 방대해질 수 있는 환경에서는 Option 2가 더 유리합니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트, DDL, 컨텍스트 관계를 분석한 결과, 도서의 상태 변경과 이력 관리가 강하게 결합되어 있으므로 Book Aggregate 내에서 상태와 이력을 함께 관리하는 것이 일관성 유지에 유리하다. 하지만, 확장성과 유지보수를 고려해 BookHistory를 별도 Aggregate로 분리하는 옵션도 제시한다. Loan, Reservation Aggregate는 이미 LoanProcess 컨텍스트에 존재하므로 ValueObject 참조로만 사용한다."
                    },
                    {
                        "boundedContext": "LoanProcess",
                        "boundedContextAlias": "대출/반납 프로세스",
                        "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            65
                                                        ],
                                                        [
                                                            7,
                                                            81
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 이력 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "Reservation",
                                                "alias": "예약",
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryRecord",
                                                "alias": "대출 이력 기록",
                                                "referencedAggregate": {
                                                    "name": "BookHistory",
                                                    "alias": "도서 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출, 예약, 이력 등 대출 프로세스의 모든 핵심 데이터를 하나의 Aggregate에서 일관성 있게 관리할 수 있다.",
                                    "coupling": "Book, Reservation, BookHistory는 ValueObject 참조로만 사용되어 외부 Aggregate와의 결합도가 낮다.",
                                    "consistency": "대출 상태 변경, 예약, 이력 기록 등 모든 트랜잭션이 원자적으로 처리되어 비즈니스 불변성이 강하게 보장된다.",
                                    "encapsulation": "대출 관련 도메인 규칙과 상태 전이가 Loan Aggregate 내부에 집중되어 외부 노출이 최소화된다.",
                                    "complexity": "모든 대출/예약/이력 기능이 한 곳에 모여 있어 도메인 흐름 파악이 쉽고, 구현 복잡도가 낮다.",
                                    "independence": "Loan Aggregate만 변경하면 대출 프로세스의 주요 정책 변경이 가능해 유지보수가 용이하다.",
                                    "performance": "대출 현황, 이력, 예약 등 조회 시 단일 Aggregate 접근으로 빠른 응답이 가능하다."
                                },
                                "cons": {
                                    "cohesion": "대출, 예약, 이력 등 서로 다른 라이프사이클과 책임이 한 Aggregate에 혼재되어 응집도가 저하될 수 있다.",
                                    "coupling": "Loan Aggregate가 비대해지면 도메인 확장 시 다른 기능과의 결합 위험이 커진다.",
                                    "consistency": "동시성 이슈가 발생할 경우 트랜잭션 경합이 커질 수 있다.",
                                    "encapsulation": "예약, 이력 등 세부 도메인 규칙이 Loan 내부에 집중되어 도메인별 분리가 어렵다.",
                                    "complexity": "Aggregate가 커질수록 코드 복잡도와 테스트 난이도가 증가한다.",
                                    "independence": "예약 또는 이력 기능만 독립적으로 확장/변경하기 어렵다.",
                                    "performance": "동시 대출/예약/이력 기록이 많을 때 단일 Aggregate에 부하가 집중될 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanProcess",
                                    "alias": "대출/반납 프로세스",
                                    "displayName": "대출/반납 프로세스",
                                    "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "LoanRequested, LoanApproved, BookReserved, LoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "11": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "19": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "155": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "156": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "176": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "177": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "178": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "179": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "180": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "185": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "186": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "190": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "191": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "197": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "198": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "199": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "200": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "203": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "204": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "205": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "206": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "209": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "210": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "211": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "212": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": [
                                            {
                                                "id": "loan-process",
                                                "title": "대출/반납",
                                                "description": "도서 대출, 반납, 예약 및 연장 처리",
                                                "boundedContext": "LoanProcess",
                                                "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                            },
                                            {
                                                "id": "loan-application",
                                                "title": "대출 신청",
                                                "description": "회원 인증 및 도서 대출 신청",
                                                "boundedContext": "LoanProcess",
                                                "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                                            },
                                            {
                                                "id": "return-process",
                                                "title": "반납 처리",
                                                "description": "도서 반납 및 상태 변경",
                                                "boundedContext": "LoanProcess",
                                                "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                            }
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            65
                                                        ],
                                                        [
                                                            7,
                                                            81
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Reservation",
                                            "alias": "예약",
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        53
                                                    ],
                                                    [
                                                        5,
                                                        183
                                                    ]
                                                ],
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ],
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "ReservationStatus",
                                                "alias": "예약 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ],
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ],
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 이력 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "각 Aggregate가 대출, 예약, 이력 등 명확한 책임을 가지며 도메인별로 응집도가 높다.",
                                    "coupling": "Aggregate 간 참조는 ValueObject로만 이루어져 결합도가 낮고, 각 도메인별 독립적 확장이 용이하다.",
                                    "consistency": "각 Aggregate의 트랜잭션 경계가 작아 동시성 이슈와 경합이 줄어든다.",
                                    "encapsulation": "도메인별 규칙이 각 Aggregate 내부에 명확히 분리되어 유지보수성이 높다.",
                                    "complexity": "도메인별로 코드가 분리되어 이해와 테스트가 쉽다.",
                                    "independence": "예약, 이력 등 각 기능을 독립적으로 확장, 배포, 변경할 수 있다.",
                                    "performance": "대출, 예약, 이력 등 각 기능별로 최적화가 가능해 대량 데이터 처리 시 효율적이다."
                                },
                                "cons": {
                                    "cohesion": "대출, 예약, 이력 등 프로세스 간 상태 전이와 불변성 보장이 Aggregate 경계를 넘어 구현되어야 한다.",
                                    "coupling": "상태 변경, 이력 기록 등 복합 비즈니스 로직은 여러 Aggregate 간 조정이 필요하다.",
                                    "consistency": "대출/예약/이력 간 원자적 처리가 어려워 일시적 불일치가 발생할 수 있다.",
                                    "encapsulation": "복합 트랜잭션이나 상태 전이 규칙은 Application Service 등 Aggregate 외부에서 관리해야 한다.",
                                    "complexity": "여러 Aggregate 간 오케스트레이션 로직이 추가되어 구현 복잡도가 증가한다.",
                                    "independence": "프로세스 간 상호작용이 많을 경우 Aggregate 간 변경 영향이 커질 수 있다.",
                                    "performance": "대출 현황, 이력 등 통합 조회 시 여러 Aggregate를 조인해야 하므로 쿼리 복잡도가 증가할 수 있다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanProcess",
                                    "alias": "대출/반납 프로세스",
                                    "displayName": "대출/반납 프로세스",
                                    "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "LoanRequested, LoanApproved, BookReserved, LoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            42
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            21
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            33
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "11": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "19": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            126
                                                        ],
                                                        [
                                                            5,
                                                            152
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "155": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "156": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "176": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "177": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "178": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "179": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "180": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "185": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "186": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "190": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "191": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "197": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "198": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "199": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "200": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "203": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "204": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            208
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "205": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "206": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            228
                                                        ],
                                                        [
                                                            3,
                                                            230
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "209": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "210": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "211": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "212": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "siteMap": [
                                            {
                                                "id": "loan-process",
                                                "title": "대출/반납",
                                                "description": "도서 대출, 반납, 예약 및 연장 처리",
                                                "boundedContext": "LoanProcess",
                                                "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                            },
                                            {
                                                "id": "loan-application",
                                                "title": "대출 신청",
                                                "description": "회원 인증 및 도서 대출 신청",
                                                "boundedContext": "LoanProcess",
                                                "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                                            },
                                            {
                                                "id": "return-process",
                                                "title": "반납 처리",
                                                "description": "도서 반납 및 상태 변경",
                                                "boundedContext": "LoanProcess",
                                                "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                            }
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다."
                            }
                        ],
                        "conclusions": "옵션1은 대출, 예약, 이력 등 모든 기능을 하나의 Aggregate에서 원자적으로 처리해야 하거나, 단일 트랜잭션 일관성이 최우선인 도서관에 적합하다. 옵션2는 각 도메인별 책임 분리와 독립적 확장, 유지보수가 중요한 환경, 또는 대규모 트래픽에서 각 기능별로 최적화가 필요한 경우에 적합하다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트, DDL, 컨텍스트 관계, 누적 초안(도서 및 도서 이력은 ValueObject 참조로만 사용) 및 반드시 포함해야 하는 Aggregate(Loan, Reservation)를 반영하여 설계 옵션을 도출했다. 옵션1은 Loan 단일 Aggregate에 모든 대출/예약/이력 기능을 통합하고, 옵션2는 Loan, Reservation, LoanHistory 세 개의 Aggregate로 분리하여 각 책임을 명확히 나눈다."
                    }
                ],
                "draftUIInfos": {
                    "leftBoundedContextCount": 0,
                    "directMessage": "Assigning DDL fields to aggregates for option 2... (2211 characters generated)",
                    "progress": 67
                },
                "isGeneratorButtonEnabled": true,
                "boundedContextVersion": 1,
                "retryInputs": {
                    "initialInputs": [
                        {
                            "boundedContext": {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "displayName": "도서 관리",
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    },
                                    {
                                        "name": "BookHistory",
                                        "alias": "도서 이력"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                    "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        5
                                                    ],
                                                    [
                                                        26,
                                                        42
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "title",
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        5
                                                    ],
                                                    [
                                                        27,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "isbn",
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        36
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "author",
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        5
                                                    ],
                                                    [
                                                        29,
                                                        32
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "publisher",
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        5
                                                    ],
                                                    [
                                                        30,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "registration_date",
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        5
                                                    ],
                                                    [
                                                        33,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_date",
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        5
                                                    ],
                                                    [
                                                        34,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_reason",
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        5
                                                    ],
                                                    [
                                                        35,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        5
                                                    ],
                                                    [
                                                        36,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        5
                                                    ],
                                                    [
                                                        37,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_status",
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        5
                                                    ],
                                                    [
                                                        88,
                                                        52
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_status",
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        5
                                                    ],
                                                    [
                                                        89,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        87
                                                    ],
                                                    [
                                                        3,
                                                        163
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "82": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "83": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        172
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "105": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "122": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "123": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "124": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "125": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "131": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "132": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "142": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "143": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "144": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "145": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "148": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        208
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "149": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        208
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "150": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "151": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "154": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "155": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "156": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "157": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        3
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "siteMap": [
                                        {
                                            "id": "book-management",
                                            "title": "도서 관리",
                                            "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                            "boundedContext": "BookManagement",
                                            "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                        },
                                        {
                                            "id": "book-registration",
                                            "title": "도서 등록",
                                            "description": "새로운 도서 등록",
                                            "boundedContext": "BookManagement",
                                            "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                                        },
                                        {
                                            "id": "book-status-management",
                                            "title": "도서 상태 관리",
                                            "description": "보유 도서의 상태 변경 및 폐기 처리",
                                            "boundedContext": "BookManagement",
                                            "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                        },
                                        {
                                            "id": "book-history",
                                            "title": "도서 이력 조회",
                                            "description": "도서별 대출 및 상태 변경 이력 조회",
                                            "boundedContext": "BookManagement",
                                            "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                        }
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanProcess",
                                "alias": "대출/반납 프로세스",
                                "displayName": "대출/반납 프로세스",
                                "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                    "event": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "LoanRequested, LoanApproved, BookReserved, LoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        5
                                                    ],
                                                    [
                                                        46,
                                                        42
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "member_id",
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        5
                                                    ],
                                                    [
                                                        47,
                                                        34
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        5
                                                    ],
                                                    [
                                                        48,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_date",
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        5
                                                    ],
                                                    [
                                                        49,
                                                        48
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "due_date",
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        5
                                                    ],
                                                    [
                                                        50,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "return_date",
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        5
                                                    ],
                                                    [
                                                        51,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_period_days",
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        5
                                                    ],
                                                    [
                                                        52,
                                                        23
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        5
                                                    ],
                                                    [
                                                        54,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        5
                                                    ],
                                                    [
                                                        71,
                                                        21
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "extension_count",
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        5
                                                    ],
                                                    [
                                                        54,
                                                        33
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        5
                                                    ],
                                                    [
                                                        55,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        5
                                                    ],
                                                    [
                                                        74,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        5
                                                    ],
                                                    [
                                                        56,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        5
                                                    ],
                                                    [
                                                        75,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_id",
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        5
                                                    ],
                                                    [
                                                        67,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_date",
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        5
                                                    ],
                                                    [
                                                        70,
                                                        55
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notification_sent",
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        5
                                                    ],
                                                    [
                                                        72,
                                                        43
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "expiry_date",
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        5
                                                    ],
                                                    [
                                                        73,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_type",
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        5
                                                    ],
                                                    [
                                                        102,
                                                        63
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        208
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "10": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "11": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        1,
                                                        1
                                                    ],
                                                    [
                                                        1,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "19": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "21": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "105": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        126
                                                    ],
                                                    [
                                                        5,
                                                        152
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "122": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "123": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "124": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "125": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "131": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "132": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "137": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "138": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "139": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "140": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "141": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "142": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "143": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "144": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "145": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "146": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "147": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "148": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "149": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "153": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "154": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "155": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "156": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "157": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "158": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "159": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "160": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "161": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "162": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "163": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "164": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "165": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "166": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "167": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "168": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "169": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "173": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "174": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "175": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "176": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "177": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "178": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "179": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "180": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "181": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "182": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "183": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "184": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "185": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "186": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "187": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "188": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "189": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "190": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "191": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "197": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "198": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "199": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "200": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "203": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        208
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "204": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        208
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "205": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "206": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        228
                                                    ],
                                                    [
                                                        3,
                                                        230
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "209": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "210": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "211": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "212": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "siteMap": [
                                        {
                                            "id": "loan-process",
                                            "title": "대출/반납",
                                            "description": "도서 대출, 반납, 예약 및 연장 처리",
                                            "boundedContext": "LoanProcess",
                                            "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                        },
                                        {
                                            "id": "loan-application",
                                            "title": "대출 신청",
                                            "description": "회원 인증 및 도서 대출 신청",
                                            "boundedContext": "LoanProcess",
                                            "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                                        },
                                        {
                                            "id": "return-process",
                                            "title": "반납 처리",
                                            "description": "도서 반납 및 상태 변경",
                                            "boundedContext": "LoanProcess",
                                            "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                        }
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다."
                        }
                    ],
                    "initialAccumulatedDrafts": {
                        "BookManagement": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "BookHistory",
                                    "alias": "도서 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanProcess": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ]
                    }
                },
                "selectedOptionItem": {
                    "BookManagement": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                286
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                3
                                            ],
                                            [
                                                9,
                                                61
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                1
                                            ],
                                            [
                                                3,
                                                301
                                            ]
                                        ],
                                        [
                                            [
                                                25,
                                                1
                                            ],
                                            [
                                                25,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                26,
                                                1
                                            ],
                                            [
                                                26,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                27,
                                                1
                                            ],
                                            [
                                                27,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                28,
                                                1
                                            ],
                                            [
                                                28,
                                                37
                                            ]
                                        ],
                                        [
                                            [
                                                29,
                                                1
                                            ],
                                            [
                                                29,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                30,
                                                1
                                            ],
                                            [
                                                30,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                31,
                                                1
                                            ],
                                            [
                                                31,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                32,
                                                1
                                            ],
                                            [
                                                32,
                                                59
                                            ]
                                        ],
                                        [
                                            [
                                                33,
                                                1
                                            ],
                                            [
                                                33,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                34,
                                                1
                                            ],
                                            [
                                                34,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                35,
                                                1
                                            ],
                                            [
                                                35,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                36,
                                                1
                                            ],
                                            [
                                                36,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                37,
                                                1
                                            ],
                                            [
                                                37,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                38,
                                                1
                                            ],
                                            [
                                                38,
                                                28
                                            ]
                                        ],
                                        [
                                            [
                                                39,
                                                1
                                            ],
                                            [
                                                39,
                                                26
                                            ]
                                        ],
                                        [
                                            [
                                                40,
                                                1
                                            ],
                                            [
                                                40,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                41,
                                                1
                                            ],
                                            [
                                                41,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                42,
                                                1
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                105
                                            ],
                                            [
                                                3,
                                                128
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                87
                                            ],
                                            [
                                                3,
                                                163
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                172
                                            ],
                                            [
                                                3,
                                                238
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                133
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    183
                                                ],
                                                [
                                                    3,
                                                    265
                                                ]
                                            ],
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    58
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    19
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookCategory",
                                        "alias": "도서 카테고리",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    86
                                                ],
                                                [
                                                    3,
                                                    152
                                                ]
                                            ],
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    6
                                                ],
                                                [
                                                    9,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReservationReference",
                                        "alias": "예약 참조",
                                        "referencedAggregate": {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    221
                                                ],
                                                [
                                                    3,
                                                    225
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    6
                                                ],
                                                [
                                                    9,
                                                    51
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    52
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "도서의 상태, 등록, 폐기 등 모든 핵심 도서 관리 기능이 하나의 Aggregate에 집중되어 있어 도메인 규칙이 명확하게 유지된다.",
                            "coupling": "외부 컨텍스트(LoanProcess, LoanStatusInquiry)와의 상호작용은 이벤트 기반 Pub/Sub로만 연결되어 결합도가 낮다.",
                            "consistency": "도서 상태 변경과 폐기 등 주요 트랜잭션이 Book Aggregate 내에서 원자적으로 처리되어 일관성이 보장된다.",
                            "encapsulation": "도서의 상태 변경, 폐기, 등록 등 모든 도메인 규칙이 Book Aggregate 내부에 캡슐화되어 외부에서 임의로 변경 불가하다.",
                            "complexity": "도서 관리 업무가 단일 Aggregate로 단순화되어 개발 및 유지보수가 용이하다.",
                            "independence": "도서 관리 정책 변경 시 Book Aggregate만 수정하면 되어 다른 도메인에 영향이 없다.",
                            "performance": "도서 상태 변경, 등록, 폐기 등 대부분의 작업이 단일 Aggregate 접근으로 처리되어 쿼리 효율이 높다."
                        },
                        "cons": {
                            "cohesion": "대출 이력, 상태 이력 등 확장 요구가 많아질 경우 Book Aggregate가 비대해질 수 있다.",
                            "coupling": "도서와 직접 관련 없는 이력 관리 요구가 늘어나면 Aggregate 내 책임이 불필요하게 커질 수 있다.",
                            "consistency": "이력 데이터가 많아질 경우 Book Aggregate의 트랜잭션 크기가 커져 성능 저하가 발생할 수 있다.",
                            "encapsulation": "모든 도서 관련 로직이 한 곳에 집중되어 역할 분리가 어렵다.",
                            "complexity": "이력 관리, 상태 관리, 폐기 등 다양한 기능이 한 Aggregate에 모이면 복잡도가 증가한다.",
                            "independence": "이력 관리 정책 변경 시 Book Aggregate 전체를 수정해야 하므로 독립성이 떨어진다.",
                            "performance": "이력 데이터가 많아질수록 Book Aggregate 접근 시 오버헤드가 커질 수 있다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "displayName": "도서 관리",
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                {
                                    "name": "BookHistory",
                                    "alias": "도서 이력"
                                }
                            ],
                            "requirements": {
                                "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "CREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        87\n      ],\n      [\n        3,\n        163\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        172\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookRegistered, BookDiscarded, BookStatusChanged 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    52
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    301
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    63
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    25,
                                                    1
                                                ],
                                                [
                                                    25,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    1
                                                ],
                                                [
                                                    26,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    1
                                                ],
                                                [
                                                    27,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    1
                                                ],
                                                [
                                                    28,
                                                    37
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    1
                                                ],
                                                [
                                                    29,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    1
                                                ],
                                                [
                                                    30,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    1
                                                ],
                                                [
                                                    31,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    1
                                                ],
                                                [
                                                    32,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    1
                                                ],
                                                [
                                                    33,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    1
                                                ],
                                                [
                                                    34,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    1
                                                ],
                                                [
                                                    35,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    1
                                                ],
                                                [
                                                    36,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    1
                                                ],
                                                [
                                                    37,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    38,
                                                    1
                                                ],
                                                [
                                                    38,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    39,
                                                    1
                                                ],
                                                [
                                                    39,
                                                    26
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    40,
                                                    1
                                                ],
                                                [
                                                    40,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    41,
                                                    1
                                                ],
                                                [
                                                    41,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    42,
                                                    1
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    87
                                                ],
                                                [
                                                    3,
                                                    163
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "82": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "83": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    172
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "105": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "122": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "123": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "124": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "125": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "131": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "132": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "142": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "143": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "144": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "145": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "148": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    208
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "149": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    208
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "150": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "151": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "154": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "155": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "156": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "157": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "siteMap": [
                                    {
                                        "id": "book-management",
                                        "title": "도서 관리",
                                        "description": "도서 등록, 상태 관리, 폐기 및 도서별 이력 관리",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                    },
                                    {
                                        "id": "book-registration",
                                        "title": "도서 등록",
                                        "description": "새로운 도서 등록",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해."
                                    },
                                    {
                                        "id": "book-status-management",
                                        "title": "도서 상태 관리",
                                        "description": "보유 도서의 상태 변경 및 폐기 처리",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해."
                                    },
                                    {
                                        "id": "book-history",
                                        "title": "도서 이력 조회",
                                        "description": "도서별 대출 및 상태 변경 이력 조회",
                                        "boundedContext": "BookManagement",
                                        "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                    }
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기, 상태 변경 및 도서별 이력 관리를 담당한다. 도서의 상태는 대출/반납/예약/폐기 등 이벤트에 따라 자동으로 변경되며, 도서별 대출 및 상태 변경 이력을 추적할 수 있다.\n\n## Key Events\n- BookRegistered\n- BookDiscarded\n- BookStatusChanged\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 생성\",\n    \"도서 상태 '대출가능'으로 설정\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태(대출가능, 대출중, 예약중, 폐기)\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"LoanRequested\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 사유\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태 '폐기'로 변경\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 프로세스 (LoanProcess)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### BookManagement-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 도서의 상태 변경 및 이력 이벤트가 발생하면 현황 및 이력 조회 컨텍스트가 이를 구독하여 도서별 이력 정보를 제공한다.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 도서별 이력 정보를 갱신한다."
                    },
                    "LoanProcess": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                2
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                59
                                            ]
                                        ],
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                45,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                46,
                                                1
                                            ],
                                            [
                                                46,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                47,
                                                1
                                            ],
                                            [
                                                47,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                48,
                                                1
                                            ],
                                            [
                                                48,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                49,
                                                1
                                            ],
                                            [
                                                49,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                50,
                                                1
                                            ],
                                            [
                                                50,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                51,
                                                1
                                            ],
                                            [
                                                51,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                52,
                                                1
                                            ],
                                            [
                                                52,
                                                74
                                            ]
                                        ],
                                        [
                                            [
                                                53,
                                                1
                                            ],
                                            [
                                                53,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                54,
                                                1
                                            ],
                                            [
                                                54,
                                                34
                                            ]
                                        ],
                                        [
                                            [
                                                55,
                                                1
                                            ],
                                            [
                                                55,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                56,
                                                1
                                            ],
                                            [
                                                56,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                57,
                                                1
                                            ],
                                            [
                                                57,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                58,
                                                1
                                            ],
                                            [
                                                58,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                59,
                                                1
                                            ],
                                            [
                                                59,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                60,
                                                1
                                            ],
                                            [
                                                60,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                61,
                                                1
                                            ],
                                            [
                                                61,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                62,
                                                1
                                            ],
                                            [
                                                62,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                63,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanStatus",
                                        "alias": "대출 상태",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    65
                                                ],
                                                [
                                                    7,
                                                    81
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanActionType",
                                        "alias": "대출 이력 유형",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    11
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약",
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    66,
                                                    27
                                                ]
                                            ],
                                            [
                                                [
                                                    67,
                                                    1
                                                ],
                                                [
                                                    67,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    1
                                                ],
                                                [
                                                    68,
                                                    35
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    1
                                                ],
                                                [
                                                    69,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    70,
                                                    1
                                                ],
                                                [
                                                    70,
                                                    56
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    1
                                                ],
                                                [
                                                    71,
                                                    61
                                                ]
                                            ],
                                            [
                                                [
                                                    72,
                                                    1
                                                ],
                                                [
                                                    72,
                                                    44
                                                ]
                                            ],
                                            [
                                                [
                                                    73,
                                                    1
                                                ],
                                                [
                                                    73,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    1
                                                ],
                                                [
                                                    74,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    1
                                                ],
                                                [
                                                    75,
                                                    78
                                                ]
                                            ],
                                            [
                                                [
                                                    76,
                                                    1
                                                ],
                                                [
                                                    76,
                                                    58
                                                ]
                                            ],
                                            [
                                                [
                                                    77,
                                                    1
                                                ],
                                                [
                                                    77,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    78,
                                                    1
                                                ],
                                                [
                                                    78,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    79,
                                                    1
                                                ],
                                                [
                                                    79,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    80,
                                                    1
                                                ],
                                                [
                                                    80,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    81,
                                                    1
                                                ],
                                                [
                                                    81,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    82,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanHistoryRecord",
                                        "alias": "대출 이력 기록",
                                        "referencedAggregate": {
                                            "name": "BookHistory",
                                            "alias": "도서 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ],
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ],
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ],
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ],
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ],
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    42
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    23
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    33
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    21
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    33
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    43
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "대출, 예약, 이력 등 대출 프로세스의 모든 핵심 데이터를 하나의 Aggregate에서 일관성 있게 관리할 수 있다.",
                            "coupling": "Book, Reservation, BookHistory는 ValueObject 참조로만 사용되어 외부 Aggregate와의 결합도가 낮다.",
                            "consistency": "대출 상태 변경, 예약, 이력 기록 등 모든 트랜잭션이 원자적으로 처리되어 비즈니스 불변성이 강하게 보장된다.",
                            "encapsulation": "대출 관련 도메인 규칙과 상태 전이가 Loan Aggregate 내부에 집중되어 외부 노출이 최소화된다.",
                            "complexity": "모든 대출/예약/이력 기능이 한 곳에 모여 있어 도메인 흐름 파악이 쉽고, 구현 복잡도가 낮다.",
                            "independence": "Loan Aggregate만 변경하면 대출 프로세스의 주요 정책 변경이 가능해 유지보수가 용이하다.",
                            "performance": "대출 현황, 이력, 예약 등 조회 시 단일 Aggregate 접근으로 빠른 응답이 가능하다."
                        },
                        "cons": {
                            "cohesion": "대출, 예약, 이력 등 서로 다른 라이프사이클과 책임이 한 Aggregate에 혼재되어 응집도가 저하될 수 있다.",
                            "coupling": "Loan Aggregate가 비대해지면 도메인 확장 시 다른 기능과의 결합 위험이 커진다.",
                            "consistency": "동시성 이슈가 발생할 경우 트랜잭션 경합이 커질 수 있다.",
                            "encapsulation": "예약, 이력 등 세부 도메인 규칙이 Loan 내부에 집중되어 도메인별 분리가 어렵다.",
                            "complexity": "Aggregate가 커질수록 코드 복잡도와 테스트 난이도가 증가한다.",
                            "independence": "예약 또는 이력 기능만 독립적으로 확장/변경하기 어렵다.",
                            "performance": "동시 대출/예약/이력 기록이 많을 때 단일 Aggregate에 부하가 집중될 수 있다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "LoanProcess",
                            "alias": "대출/반납 프로세스",
                            "displayName": "대출/반납 프로세스",
                            "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "requirements": {
                                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                "event": "{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        126\n      ],\n      [\n        5,\n        152\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "eventNames": "LoanRequested, LoanApproved, BookReserved, LoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    42
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    23
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    33
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    21
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    33
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    43
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    7,
                                                    208
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "10": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "11": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "19": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "21": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    45,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    1
                                                ],
                                                [
                                                    46,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    1
                                                ],
                                                [
                                                    47,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    1
                                                ],
                                                [
                                                    48,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    1
                                                ],
                                                [
                                                    49,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    1
                                                ],
                                                [
                                                    50,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    1
                                                ],
                                                [
                                                    51,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    1
                                                ],
                                                [
                                                    52,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    1
                                                ],
                                                [
                                                    53,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    1
                                                ],
                                                [
                                                    54,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    1
                                                ],
                                                [
                                                    55,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    1
                                                ],
                                                [
                                                    56,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    57,
                                                    1
                                                ],
                                                [
                                                    57,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    58,
                                                    1
                                                ],
                                                [
                                                    58,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    59,
                                                    1
                                                ],
                                                [
                                                    59,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    60,
                                                    1
                                                ],
                                                [
                                                    60,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    61,
                                                    1
                                                ],
                                                [
                                                    61,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    62,
                                                    1
                                                ],
                                                [
                                                    62,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    63,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    66,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    1
                                                ],
                                                [
                                                    67,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    68,
                                                    1
                                                ],
                                                [
                                                    68,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    69,
                                                    1
                                                ],
                                                [
                                                    69,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    1
                                                ],
                                                [
                                                    70,
                                                    56
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    71,
                                                    1
                                                ],
                                                [
                                                    71,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    1
                                                ],
                                                [
                                                    72,
                                                    44
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    1
                                                ],
                                                [
                                                    73,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    74,
                                                    1
                                                ],
                                                [
                                                    74,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    75,
                                                    1
                                                ],
                                                [
                                                    75,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    76,
                                                    1
                                                ],
                                                [
                                                    76,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    77,
                                                    1
                                                ],
                                                [
                                                    77,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    78,
                                                    1
                                                ],
                                                [
                                                    78,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    79,
                                                    1
                                                ],
                                                [
                                                    79,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    80,
                                                    1
                                                ],
                                                [
                                                    80,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    81,
                                                    1
                                                ],
                                                [
                                                    81,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    82,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "105": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    126
                                                ],
                                                [
                                                    5,
                                                    152
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "122": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "123": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "124": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "125": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "131": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "132": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "137": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "138": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "139": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "140": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "141": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "142": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "143": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "144": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "145": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "146": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "147": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "148": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "149": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "153": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "154": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "155": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "156": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "157": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "158": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "159": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "160": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "161": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "162": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "163": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "164": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "165": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "166": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "167": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "168": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "169": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "173": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "174": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "175": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "176": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "177": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "178": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "179": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "180": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "181": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "182": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "183": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "184": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "185": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "186": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "187": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "188": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "189": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "190": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "191": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "197": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "198": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "199": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "200": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "203": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    208
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "204": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    208
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "205": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "206": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    228
                                                ],
                                                [
                                                    3,
                                                    230
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "209": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "210": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "211": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "212": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "siteMap": [
                                    {
                                        "id": "loan-process",
                                        "title": "대출/반납",
                                        "description": "도서 대출, 반납, 예약 및 연장 처리",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                    },
                                    {
                                        "id": "loan-application",
                                        "title": "대출 신청",
                                        "description": "회원 인증 및 도서 대출 신청",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해."
                                    },
                                    {
                                        "id": "return-process",
                                        "title": "반납 처리",
                                        "description": "도서 반납 및 상태 변경",
                                        "boundedContext": "LoanProcess",
                                        "uiRequirements": "대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해."
                                    }
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: LoanProcess (대출/반납 프로세스)\n\n## Role\n회원의 도서 대출 신청, 승인, 예약, 연장, 반납 등 대출/반납 전반의 프로세스를 관리한다. 대출 신청 시 회원 인증, 도서 검색, 대출 기간 선택, 예약 처리, 반납 및 연장 기능을 제공한다.\n\n## Key Events\n- LoanRequested\n- LoanApproved\n- BookReserved\n- LoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n도서관의 도서 관리와 대출/반납을 통합적으로 관리하는\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanRequested\",\n  \"displayName\": \"대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명/ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 생성\",\n    \"회원 인증 완료\"\n  ],\n  \"nextEvents\": [\n    \"LoanApproved\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanApproved\",\n  \"displayName\": \"대출 승인됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 2,\n  \"description\": \"도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청\",\n    \"도서 상태 '대출가능'\"\n  ],\n  \"outputs\": [\n    \"대출 기록 생성\",\n    \"도서 상태 '대출중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"도서 상태 '대출중'\"\n  ],\n  \"outputs\": [\n    \"예약 기록 생성\",\n    \"도서 상태 '예약중'으로 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 기록 갱신\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"반납 기록 생성\",\n    \"도서 상태 변경\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanProcess\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경 등 이벤트가 발생하면 대출/반납 프로세스에서 이를 구독하여 처리할 수 있도록 느슨한 결합을 유지하기 위함.\n- **Interaction Pattern**: 도서 등록, 폐기, 상태 변경 이벤트가 발생하면 대출/반납 프로세스에서 해당 이벤트를 구독하여 대출 가능 여부 등을 판단한다.\n\n### LoanProcess-LoanStatusInquiry\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 현황 및 이력 조회 (LoanStatusInquiry)\n- **Reason**: 대출/반납/연장 등 이벤트 발생 시 현황 및 이력 조회 컨텍스트가 이를 구독하여 최신 현황과 이력을 제공할 수 있도록 한다.\n- **Interaction Pattern**: 대출/반납/연장 이벤트가 발생할 때마다 현황 및 이력 조회 컨텍스트가 관련 정보를 갱신한다."
                    }
                }
            }
        ],
        "frontEndResults": [],
        "pbcResults": [
            {
                "name": "LoanStatusInquiry",
                "alias": "대출 현황 및 이력 조회",
                "importance": "Generic Domain",
                "complexity": 0.6,
                "differentiation": 0.5,
                "implementationStrategy": "PBC: PBC-Test",
                "aggregates": [
                    {
                        "name": "LoanStatus",
                        "alias": "대출 현황"
                    }
                ],
                "events": [
                    "LoanStatusChecked",
                    "BookHistoryChecked"
                ],
                "requirements": [
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    7,
                                    87
                                ]
                            ]
                        ],
                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할"
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ],
                        "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                    },
                    {
                        "type": "DDL",
                        "refs": [
                            [
                                [
                                    45,
                                    1
                                ],
                                [
                                    63,
                                    2
                                ]
                            ]
                        ],
                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                    },
                    {
                        "type": "DDL",
                        "refs": [
                            [
                                [
                                    99,
                                    1
                                ],
                                [
                                    112,
                                    2
                                ]
                            ]
                        ],
                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                    },
                    {
                        "type": "Event",
                        "text": "{\n  \"name\": \"LoanStatusChecked\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.\",\n  \"inputs\": [\n    \"대출 기록\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    7,
                                    89
                                ]
                            ]
                        ]
                    },
                    {
                        "type": "Event",
                        "text": "{\n  \"name\": \"BookHistoryChecked\",\n  \"displayName\": \"도서 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"대출 이력\",\n    \"상태 변경 이력\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        67\n      ]\n    ]\n  ]\n}",
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "role": "관리자 및 회원이 대출 현황, 도서별 대출 이력, 상태 변경 이력을 조회할 수 있도록 한다. 각 대출 건의 상태(대출중/연체/반납완료)와 도서별 이력 정보를 제공한다.",
                "roleRefs": [
                    [
                        [
                            7,
                            1
                        ],
                        [
                            9,
                            61
                        ]
                    ]
                ],
                "siteMap": [
                    {
                        "id": "loan-status-inquiry",
                        "title": "대출 현황",
                        "description": "현재 대출 중인 도서 목록 및 대출 상태 관리",
                        "boundedContext": "LoanStatusInquiry",
                        "uiRequirements": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해."
                    },
                    {
                        "id": "loan-list",
                        "title": "대출 목록",
                        "description": "대출 중인 도서 목록 및 상태 확인",
                        "boundedContext": "LoanStatusInquiry",
                        "uiRequirements": "각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해."
                    },
                    {
                        "id": "loan-history",
                        "title": "대출 이력 조회",
                        "description": "도서별 대출 이력 및 상태 변경 이력 확인",
                        "boundedContext": "LoanStatusInquiry",
                        "uiRequirements": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                    }
                ]
            }
        ],
        "pbcLists": [
            {
                "name": "chat-vue3-en",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "Chat service (Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                "id": 19,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
            },
            {
                "name": "review",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                "description": "review",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                "id": 21,
                "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
            },
            {
                "name": "reservation-notification",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 22,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
            },
            {
                "name": "reservation-notification-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 23,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
            },
            {
                "name": "chat-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 24,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
            },
            {
                "name": "chat",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 25,
                "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
            },
            {
                "name": "payment-system",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                "description": "결제를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                "id": 26,
                "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
            },
            {
                "name": "document-management",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                "description": "파일관리를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "### Instruction\n",
                "id": 30,
                "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
            },
            {
                "name": "gitlab",
                "rating": 5,
                "imageUrl": null,
                "description": "openapi.yaml",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## instruction\n",
                "id": 34,
                "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
            },
            {
                "name": "PBC-Test",
                "rating": 5,
                "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                "description": "Framework for rapidly and easily developing Java-based web applications.",
                "tags": [
                    "PBC"
                ],
                "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                "id": 35,
                "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
            }
        ],
        "projectInfo": {
            "eventStorming": null,
            "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "inputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "customerJourneyMap": null,
            "businessModel": null,
            "userStoryMap": null,
            "prompt": "",
            "userStoryChunks": [],
            "summarizedResult": ""
        },
        "requirementsValidationResult": {
            "type": "ANALYSIS_RESULT",
            "projectName": "Requirements Analysis",
            "content": {
                "elements": {
                    "b5ba0919-61be-fd99-952f-d25f2679a299": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "b5ba0919-61be-fd99-952f-d25f2679a299",
                        "name": "Librarian",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "b5ba0919-61be-fd99-952f-d25f2679a299",
                            "x": 150,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "db30667b-66f0-f1ef-5f17-eff5f73a6432": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "db30667b-66f0-f1ef-5f17-eff5f73a6432",
                        "name": "Member",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "db30667b-66f0-f1ef-5f17-eff5f73a6432",
                            "x": 150,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "3a7e8b9e-26cb-e866-4269-942f432bd79d": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "3a7e8b9e-26cb-e866-4269-942f432bd79d",
                        "name": "System",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "3a7e8b9e-26cb-e866-4269-942f432bd79d",
                            "x": 150,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "1d7c1caf-8e23-331f-628b-e87406b7d722": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                        "visibility": "public",
                        "name": "BookRegistered",
                        "oldName": "",
                        "displayName": "도서 등록됨",
                        "namePascalCase": "BookRegistered",
                        "nameCamelCase": "bookRegistered",
                        "namePlural": "",
                        "description": "관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                            "x": 300,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                            "x": 300,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "a91c7cca-8cfa-8f66-ff55-c2c07133a498": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                        "visibility": "public",
                        "name": "BookDiscarded",
                        "oldName": "",
                        "displayName": "도서 폐기됨",
                        "namePascalCase": "BookDiscarded",
                        "nameCamelCase": "bookDiscarded",
                        "namePlural": "",
                        "description": "도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                            "x": 500,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                            "x": 500,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "ddfeff49-a1ea-ff08-6e32-21843898cf7c": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                        "visibility": "public",
                        "name": "LoanApproved",
                        "oldName": "",
                        "displayName": "대출 승인됨",
                        "namePascalCase": "LoanApproved",
                        "nameCamelCase": "loanApproved",
                        "namePlural": "",
                        "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                            "x": 700,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                            "x": 700,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "e2eda0d2-17a6-5756-330a-fe750a9e2a07": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "e2eda0d2-17a6-5756-330a-fe750a9e2a07",
                        "visibility": "public",
                        "name": "LoanStatusChecked",
                        "oldName": "",
                        "displayName": "대출 현황 조회됨",
                        "namePascalCase": "LoanStatusChecked",
                        "nameCamelCase": "loanStatusChecked",
                        "namePlural": "",
                        "description": "관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "e2eda0d2-17a6-5756-330a-fe750a9e2a07",
                            "x": 900,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "e2eda0d2-17a6-5756-330a-fe750a9e2a07",
                            "x": 900,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df",
                        "visibility": "public",
                        "name": "BookHistoryChecked",
                        "oldName": "",
                        "displayName": "도서 이력 조회됨",
                        "namePascalCase": "BookHistoryChecked",
                        "nameCamelCase": "bookHistoryChecked",
                        "namePlural": "",
                        "description": "관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df",
                            "x": 1100,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "bb1ba913-8b13-3ddd-f4ee-57ac66ab34df",
                            "x": 1100,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "1621a7c8-7e36-a87f-0ae4-b99d98103eba": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "visibility": "public",
                        "name": "BookStatusChanged",
                        "oldName": "",
                        "displayName": "도서 상태 변경됨",
                        "namePascalCase": "BookStatusChanged",
                        "nameCamelCase": "bookStatusChanged",
                        "namePlural": "",
                        "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "x": 300,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "x": 300,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "c780d7c0-77c4-cdd8-71b7-6697e78cf364": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                        "visibility": "public",
                        "name": "LoanRequested",
                        "oldName": "",
                        "displayName": "대출 신청됨",
                        "namePascalCase": "LoanRequested",
                        "nameCamelCase": "loanRequested",
                        "namePlural": "",
                        "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "x": 300,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "x": 300,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                        "visibility": "public",
                        "name": "BookReserved",
                        "oldName": "",
                        "displayName": "도서 예약됨",
                        "namePascalCase": "BookReserved",
                        "nameCamelCase": "bookReserved",
                        "namePlural": "",
                        "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "x": 500,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "x": 500,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "19ff0aea-6add-cf8f-8310-93dab1c943d8": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "19ff0aea-6add-cf8f-8310-93dab1c943d8",
                        "visibility": "public",
                        "name": "LoanExtended",
                        "oldName": "",
                        "displayName": "대출 연장됨",
                        "namePascalCase": "LoanExtended",
                        "nameCamelCase": "loanExtended",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "19ff0aea-6add-cf8f-8310-93dab1c943d8",
                            "x": 700,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "19ff0aea-6add-cf8f-8310-93dab1c943d8",
                            "x": 700,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "9544047d-ac4f-deef-bf8f-5534c5b6bf8d": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                        "visibility": "public",
                        "name": "BookReturned",
                        "oldName": "",
                        "displayName": "도서 반납됨",
                        "namePascalCase": "BookReturned",
                        "nameCamelCase": "bookReturned",
                        "namePlural": "",
                        "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                            "x": 900,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                            "x": 900,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    }
                },
                "relations": {
                    "b67b8262-8ba9-e255-7cb1-24ae242a3719": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                        "to": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                        "description": "",
                        "relationView": {
                            "id": "b67b8262-8ba9-e255-7cb1-24ae242a3719",
                            "value": "[[0,275],[2000,275]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,275],[2000,275]]"
                    },
                    "f9060569-6650-83cc-8b12-6950d97e2ba4": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                        "to": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                        "description": "",
                        "relationView": {
                            "id": "f9060569-6650-83cc-8b12-6950d97e2ba4",
                            "value": "[[0,525],[2000,525]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,525],[2000,525]]"
                    },
                    "16343416-1724-6db2-a115-211a18efc133": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "16343416-1724-6db2-a115-211a18efc133",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "16343416-1724-6db2-a115-211a18efc133",
                        "to": "16343416-1724-6db2-a115-211a18efc133",
                        "description": "",
                        "relationView": {
                            "id": "16343416-1724-6db2-a115-211a18efc133",
                            "value": "[[0,775],[2000,775]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,775],[2000,775]]"
                    },
                    "9d8829f2-5a99-7852-1300-f9ac1ebb1ae3": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "9d8829f2-5a99-7852-1300-f9ac1ebb1ae3",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                            "visibility": "public",
                            "name": "BookRegistered",
                            "oldName": "",
                            "displayName": "도서 등록됨",
                            "namePascalCase": "BookRegistered",
                            "nameCamelCase": "bookRegistered",
                            "namePlural": "",
                            "description": "관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                "x": 300,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                                "x": 300,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                        "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "relationView": {
                            "id": "9d8829f2-5a99-7852-1300-f9ac1ebb1ae3",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1d7c1caf-8e23-331f-628b-e87406b7d722",
                            "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "needReconnect": true
                        }
                    },
                    "39fb6a0e-154d-fe1d-efdb-62ef704817f5": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "39fb6a0e-154d-fe1d-efdb-62ef704817f5",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                            "visibility": "public",
                            "name": "BookDiscarded",
                            "oldName": "",
                            "displayName": "도서 폐기됨",
                            "namePascalCase": "BookDiscarded",
                            "nameCamelCase": "bookDiscarded",
                            "namePlural": "",
                            "description": "도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                "x": 500,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                                "x": 500,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "to": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                        "relationView": {
                            "id": "39fb6a0e-154d-fe1d-efdb-62ef704817f5",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "to": "a91c7cca-8cfa-8f66-ff55-c2c07133a498",
                            "needReconnect": true
                        }
                    },
                    "1f289e8e-187b-212d-f95f-0595096c83c2": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "1f289e8e-187b-212d-f95f-0595096c83c2",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "visibility": "public",
                            "name": "LoanRequested",
                            "oldName": "",
                            "displayName": "대출 신청됨",
                            "namePascalCase": "LoanRequested",
                            "nameCamelCase": "loanRequested",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "to": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                        "relationView": {
                            "id": "1f289e8e-187b-212d-f95f-0595096c83c2",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "to": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "needReconnect": true
                        }
                    },
                    "043f26b2-1b98-8e24-d311-e225df91e6df": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "043f26b2-1b98-8e24-d311-e225df91e6df",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "to": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                        "relationView": {
                            "id": "043f26b2-1b98-8e24-d311-e225df91e6df",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "to": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                            "needReconnect": true
                        }
                    },
                    "d00ef15c-34bc-f38e-4e7d-2352561b3a6e": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "d00ef15c-34bc-f38e-4e7d-2352561b3a6e",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                        "relationView": {
                            "id": "d00ef15c-34bc-f38e-4e7d-2352561b3a6e",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "needReconnect": true
                        }
                    },
                    "ff7fb8a6-d7d8-2703-d3c9-ba1d25460d48": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "ff7fb8a6-d7d8-2703-d3c9-ba1d25460d48",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "visibility": "public",
                            "name": "LoanRequested",
                            "oldName": "",
                            "displayName": "대출 신청됨",
                            "namePascalCase": "LoanRequested",
                            "nameCamelCase": "loanRequested",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                            "visibility": "public",
                            "name": "LoanApproved",
                            "oldName": "",
                            "displayName": "대출 승인됨",
                            "namePascalCase": "LoanApproved",
                            "nameCamelCase": "loanApproved",
                            "namePlural": "",
                            "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "x": 700,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "x": 700,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                        "to": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                        "relationView": {
                            "id": "ff7fb8a6-d7d8-2703-d3c9-ba1d25460d48",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "to": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                            "needReconnect": true
                        }
                    },
                    "a9f25878-517b-b32d-177d-baa967c74e88": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "a9f25878-517b-b32d-177d-baa967c74e88",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "visibility": "public",
                            "name": "LoanRequested",
                            "oldName": "",
                            "displayName": "대출 신청됨",
                            "namePascalCase": "LoanRequested",
                            "nameCamelCase": "loanRequested",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                        "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                        "relationView": {
                            "id": "a9f25878-517b-b32d-177d-baa967c74e88",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "c780d7c0-77c4-cdd8-71b7-6697e78cf364",
                            "to": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "needReconnect": true
                        }
                    },
                    "92902c1e-afdf-cb6e-8a2f-7140b87af4fc": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "92902c1e-afdf-cb6e-8a2f-7140b87af4fc",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                            "visibility": "public",
                            "name": "LoanApproved",
                            "oldName": "",
                            "displayName": "대출 승인됨",
                            "namePascalCase": "LoanApproved",
                            "nameCamelCase": "loanApproved",
                            "namePlural": "",
                            "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "x": 700,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                                "x": 700,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                        "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "relationView": {
                            "id": "92902c1e-afdf-cb6e-8a2f-7140b87af4fc",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "ddfeff49-a1ea-ff08-6e32-21843898cf7c",
                            "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "needReconnect": true
                        }
                    },
                    "29ae1abd-3e29-acc8-6900-45a676c77de8": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "29ae1abd-3e29-acc8-6900-45a676c77de8",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                        "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "relationView": {
                            "id": "29ae1abd-3e29-acc8-6900-45a676c77de8",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "bcb80ab1-c9e1-dfca-2abb-c26dd0ba8456",
                            "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "needReconnect": true
                        }
                    },
                    "11f2c0eb-2718-e9a0-6173-fbcbf5724870": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "11f2c0eb-2718-e9a0-6173-fbcbf5724870",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                        "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                        "relationView": {
                            "id": "11f2c0eb-2718-e9a0-6173-fbcbf5724870",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "9544047d-ac4f-deef-bf8f-5534c5b6bf8d",
                            "to": "1621a7c8-7e36-a87f-0ae4-b99d98103eba",
                            "needReconnect": true
                        }
                    }
                }
            },
            "analysisResult": {
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "도서관 시스템의 요구사항을 분석한 결과, 다음과 같이 4개의 바운디드 컨텍스트를 추천합니다. (1) 도서 관리: 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 관리합니다. (2) 대출/반납 관리: 회원의 대출/반납, 연장, 예약 등 대출 프로세스와 관련된 상태 변화를 담당합니다. (3) 회원 인증 및 확인: 대출 시 회원의 신원 확인 및 회원 정보 관리가 필요하므로 별도의 컨텍스트로 분리합니다. (4) 이력/현황 조회: 도서별 대출 이력, 상태 변경 이력, 대출 현황 조회 등 기록 및 리포팅 기능을 담당합니다. 각 컨텍스트는 담당하는 비즈니스 도메인과 책임이 명확히 구분되며, 이벤트 복잡도와 액터 간 상호작용, 조직 내 역할 분리에 따라 4개가 적절합니다. 이는 도서 관리(관리자 중심), 대출/반납(회원 및 관리자), 회원 인증(시스템 또는 관리자), 이력/현황(관리자 및 시스템) 등으로 조직 구조와도 잘 맞습니다.",
                "events": [
                    {
                        "name": "BookRegistered",
                        "displayName": "도서 등록됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "관리자가 새로운 도서를 도서관 시스템에 등록함. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                        "inputs": [
                            "도서명",
                            "ISBN(13자리)",
                            "저자",
                            "출판사",
                            "카테고리(소설/비소설/학술/잡지)"
                        ],
                        "outputs": [
                            "신규 도서 생성",
                            "도서 상태 '대출가능'으로 설정"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    57
                                ],
                                [
                                    3,
                                    100
                                ]
                            ],
                            [
                                [
                                    3,
                                    105
                                ],
                                [
                                    3,
                                    128
                                ]
                            ],
                            [
                                [
                                    3,
                                    87
                                ],
                                [
                                    3,
                                    163
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStatusChanged",
                        "displayName": "도서 상태 변경됨",
                        "actor": "System",
                        "level": 2,
                        "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                        "inputs": [
                            "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)"
                        ],
                        "outputs": [
                            "도서 상태(대출가능, 대출중, 예약중, 폐기)"
                        ],
                        "nextEvents": [
                            "BookDiscarded",
                            "LoanRequested",
                            "BookReturned",
                            "BookReserved"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    172
                                ],
                                [
                                    3,
                                    238
                                ]
                            ],
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ],
                            [
                                [
                                    7,
                                    133
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookDiscarded",
                        "displayName": "도서 폐기됨",
                        "actor": "Librarian",
                        "level": 3,
                        "description": "도서가 훼손되거나 분실된 경우 관리자가 해당 도서를 폐기 처리함. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "inputs": [
                            "도서 훼손/분실 사유",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "도서 상태 '폐기'로 변경"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanRequested",
                        "displayName": "대출 신청됨",
                        "actor": "Member",
                        "level": 1,
                        "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 확인 후, 대출할 도서를 선택함.",
                        "inputs": [
                            "회원번호",
                            "이름",
                            "도서명/ISBN",
                            "대출 기간(7/14/30일)"
                        ],
                        "outputs": [
                            "대출 신청 생성",
                            "회원 인증 완료"
                        ],
                        "nextEvents": [
                            "LoanApproved",
                            "BookReserved"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    49
                                ],
                                [
                                    5,
                                    91
                                ]
                            ],
                            [
                                [
                                    5,
                                    59
                                ],
                                [
                                    5,
                                    77
                                ]
                            ],
                            [
                                [
                                    5,
                                    126
                                ],
                                [
                                    5,
                                    152
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanApproved",
                        "displayName": "대출 승인됨",
                        "actor": "Librarian",
                        "level": 2,
                        "description": "도서가 대출 가능 상태일 때 대출이 승인되고, 도서 상태가 '대출중'으로 변경됨.",
                        "inputs": [
                            "대출 신청",
                            "도서 상태 '대출가능'"
                        ],
                        "outputs": [
                            "대출 기록 생성",
                            "도서 상태 '대출중'으로 변경"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    5,
                                    235
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReserved",
                        "displayName": "도서 예약됨",
                        "actor": "Member",
                        "level": 2,
                        "description": "대출하려는 도서가 이미 대출 중인 경우, 회원이 해당 도서를 예약함.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자",
                            "도서 상태 '대출중'"
                        ],
                        "outputs": [
                            "예약 기록 생성",
                            "도서 상태 '예약중'으로 변경"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    193
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanExtended",
                        "displayName": "대출 연장됨",
                        "actor": "Member",
                        "level": 3,
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자",
                            "연장 요청"
                        ],
                        "outputs": [
                            "대출 기간 연장",
                            "대출 기록 갱신"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    7,
                                    109
                                ],
                                [
                                    7,
                                    124
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReturned",
                        "displayName": "도서 반납됨",
                        "actor": "Member",
                        "level": 2,
                        "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 자동으로 '대출가능' 또는 예약자가 있으면 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자",
                            "반납 요청"
                        ],
                        "outputs": [
                            "반납 기록 생성",
                            "도서 상태 변경"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    133
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanStatusChecked",
                        "displayName": "대출 현황 조회됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "관리자가 현재 대출 중인 도서들의 목록과 각 대출 건의 상태(대출중/연체/반납완료)를 조회함.",
                        "inputs": [
                            "대출 기록"
                        ],
                        "outputs": [
                            "대출 현황 목록"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    7,
                                    89
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookHistoryChecked",
                        "displayName": "도서 이력 조회됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "관리자가 도서별 대출 이력과 상태 변경 이력을 조회함.",
                        "inputs": [
                            "도서 식별자"
                        ],
                        "outputs": [
                            "대출 이력",
                            "상태 변경 이력"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "actors": [
                    {
                        "name": "Librarian",
                        "events": [
                            "BookRegistered",
                            "BookDiscarded",
                            "LoanApproved",
                            "LoanStatusChecked",
                            "BookHistoryChecked"
                        ],
                        "lane": 0
                    },
                    {
                        "name": "Member",
                        "events": [
                            "LoanRequested",
                            "BookReserved",
                            "LoanExtended",
                            "BookReturned"
                        ],
                        "lane": 1
                    },
                    {
                        "name": "System",
                        "events": [
                            "BookStatusChanged"
                        ],
                        "lane": 2
                    }
                ]
            },
            "currentGeneratedLength": 5282
        }
    }
}